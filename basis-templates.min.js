(function(){"use strict";var e,t={"0.js":"templates","1.js":"basis.template","2.js":"basis.template.const","3.js":"basis.template.declaration","4.js":"basis.template.store","5.js":"basis.template.theme","6.js":"basis.template.html","7.js":"basis.l10n","8.js":"basis.event","9.js":"basis.template.htmlfgen","a.js":"basis.template.namespace","b.js":"basis.template.buildDom","c.js":"basis.dom.event"},n={"n.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./f.js").getTokenAttrValues;t.exports=function(e,t,n){e.isolate||(e.isolate=l(n).prefix||t.isolate||t.genIsolateMarker())}},"0.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=p.indexOf(e);if(-1!=t)return h[t];var n=new f(e);return p.push(e),h.push(n),n}var c=n.require("./1.js").resolveTemplateById,f=n.require("./6.js").Template,p=[],h=[];r.bt=t.exports=n.object.extend(l,{init:function(e){return e?e.noConflict?(delete r.bt,this):void 0:this},dispose:function(e){var t=c(e.templateId_);t?t.clearInstance(e):n.dev.warn("Template is not resolved for ",e)},template:l})},"2.js":function(e,t,n,r,i,a,s,o,u){var l="basisTemplateId_"+n.genUID(),c={class:4,style:5},f={2:4,4:3,5:3,6:2},p=r.document,h=!p||function(){var e=p.createElement("div");return e.appendChild(p.createTextNode("a")),e.appendChild(p.createTextNode("a")),1==e.cloneNode(!0).childNodes.length}();t.exports={MARKER:l,TYPE_ELEMENT:1,TYPE_ATTRIBUTE:2,TYPE_ATTRIBUTE_CLASS:4,TYPE_ATTRIBUTE_STYLE:5,TYPE_ATTRIBUTE_EVENT:6,TYPE_TEXT:3,TYPE_COMMENT:8,TYPE_CONTENT:9,TOKEN_TYPE:0,TOKEN_BINDINGS:1,TOKEN_REFS:2,ATTR_NAME:3,ATTR_VALUE:4,ATTR_NAME_BY_TYPE:{4:"class",5:"style"},ATTR_TYPE_BY_NAME:c,ATTR_VALUE_INDEX:f,ELEMENT_NAME:3,ELEMENT_ATTRIBUTES_AND_CHILDREN:4,TEXT_VALUE:3,COMMENT_VALUE:3,CONTENT_CHILDREN:2,CONTENT_PRIORITY:1,CLASS_BINDING_ENUM:1,CLASS_BINDING_BOOL:2,CLASS_BINDING_INVERT:3,CLASS_BINDING_EQUAL:4,CLASS_BINDING_NOTEQUAL:5,CLONE_NORMALIZATION_TEXT_BUG:h}},"3.js":function(e,t,n,r,i,a,s,o,u){function l(e){for(var t=[],n=0;n<e.length;n++)t.push(Array.isArray(e[n])?l(e[n]):e[n]);return t}function c(e,t,r,i){var a,s=e;return e.bindingBridge&&(t="baseURI"in e?e.baseURI:"url"in e?n.path.dirname(e.url):t,a="url"in e?e.url:a,s=e.bindingBridge.get(e)),Array.isArray(s)?(r&&(s=l(s)),s={tokens:s}):!s||"object"==typeof s&&Array.isArray(s.tokens)||(s=String(s)),s&&"string"!=typeof s||(s=K(s,t,i,a,e)),s}var f=Object.prototype.hasOwnProperty,p=n.array.search,h=n.array.add,d=n.require("./d.js"),v=n.require("./e.js"),m=n.require("./2.js"),T=n.require("./f.js"),g=n.require("./g.js"),y=n.require("./i.js"),b=n.require("./j.js"),_=n.require("./h.js").walk,E=m.TYPE_ELEMENT,N=m.TYPE_ATTRIBUTE,k=m.TYPE_ATTRIBUTE_CLASS,I=m.TYPE_TEXT,x=m.TYPE_COMMENT,A=m.TYPE_CONTENT,S=m.TOKEN_TYPE,j=m.TOKEN_BINDINGS,R=m.TOKEN_REFS,C=m.ATTR_VALUE_INDEX,O=m.ELEMENT_ATTRIBUTES_AND_CHILDREN,L=m.TEXT_VALUE,w=m.CONTENT_PRIORITY,U=m.CONTENT_CHILDREN,B=T.resourceHash,M=T.getTokenName,P=T.bindingList,D=g.refList,Y=g.addTokenRef,z=g.normalizeRefs,V=b.applyAttrs,q=y.styleNamespaceIsolate,F=y.isolateTokens,$={content:n.require("./k.js"),define:n.require("./l.js"),include:n.require("./m.js"),isolate:n.require("./n.js"),l10n:n.require("./o.js"),style:n.require("./p.js"),svg:n.require("./q.js"),text:n.require("./r.js")},G=function(){},H=function(){},X=function(){return n.genUID()+"__"},K=function(){function e(t,n,r){for(var i,a,s=[],o=0;i=t[o];o++){var u=D(i),l=P(i);switch(i.type){case E:if("b"==i.prefix){if(!$.hasOwnProperty(i.name))continue;$[i.name](n,r,i,s);continue}a=[1,l,u,M(i)],V(n,r,a,i.attrs),a.push.apply(a,e(i.children,n,r));break;case I:u&&2==u.length&&p(u,"element")&&(l=u[+!u.lastSearchIndex]),a=[3,l,u],u&&i.value=="{"+u.join("|")+"}"||a.push(i.value);break;case x:if(r.optimizeSize&&!l&&!u)continue;a=[8,l,u],r.optimizeSize||u&&i.value=="{"+u.join("|")+"}"||a.push(i.value);break;default:continue}s.push(a)}return s}function t(e,t,n){if("string"==typeof e){var r=e.split(":"),i=r[1];if(i&&"l10n"==r[0]){if(2==r.length&&-1==i.indexOf("@")){if(!t)return!1;e="l10n:"+(i=i+"@"+t)}h(n,i)}}return e}function r(e,n,i){_(e,function(e,a){var s=a[j];switch(e){case E:r(a,n,i,O);break;case I:if(s){var o=t(s,i.dictURI,n.l10n);a[j]=o||0,!1===o&&(a[L]="{"+s+"}")}break;case N:if(s)for(var u=s[0],l=u.length-1;l>=0;l--)if(!1===(o=t(u[l],i.dictURI,n.l10n))){for(var c=s[1],p=0;p<c.length;p++)"number"==typeof c[p]&&(c[p]==l?c[p]="{"+u[l]+"}":c[p]>l&&(c[p]=c[p]-1));u.splice(l,1),u.length||(a[j]=0)}else u[l]=o;break;case k:if(s){for(var h,p=0;h=s[p];p++)if(!(h.length>2)){var d=h[1].split(":"),v=d.pop(),m=d.pop()||"";if(f.call(i.defines,v)){var T=i.defines[v];h[1]=(m?m+":":"")+T[0],h.push.apply(h,T.slice(1))}else h.push(0)}if(i.optimizeSize){var g=C[e];a[g]||(a.length=g)}}}})}function i(e){function t(e,n){for(var r=n;r<e.length;r++){var i,a=e[r],s=a[S];if(s==E||s==I)return a;if(s==x&&(a[R]||a[j]))return a;if(s==A&&(i=t(a,U)))return i}return null}return t(e,0)}var a=[],s={};return function t(o,u,l,f,p){if(l=n.object.slice(l),l.Template=G,l.genIsolateMarker=X,l.resolveResource=H,l.getDeclFromSource=c,l.makeDeclaration=t,l.process=e,l.includeStack=a,l.includeOptions=l.includeOptions||{},l.templates={},l.defines={},l.dictURI=f?n.path.resolve(f):u||"",l.dictURI){var h=n.path.extname(l.dictURI);h&&".l10n"!=h&&(l.dictURI=l.dictURI.substr(0,l.dictURI.length-h.length)+".l10n")}var m={sourceUrl:f,baseURI:u||"",tokens:null,includes:[],deps:[],templates:{},isolate:!1,styleNSPrefix:{},resources:[],l10n:[],warns:[]};o||(o=""),Array.isArray(o)||(o=d(String(o||""),{loc:!!l.loc,range:!!l.range})),a.push(!0!==p&&p||{}),m.tokens=e(o,m,l),a.pop(),m.tokens.push([A,0]);var T=z(m.tokens),g=i(m.tokens),y=T[":content"];if(y.node[w]>1&&(y.node[w]=1),y.overrided.forEach(function(e){var t=e.parent.indexOf(e.node);-1!=t&&e.parent.splice.apply(e.parent,[t,1].concat(e.node.slice(U)))}),g||(g=[I,0,0],m.tokens.unshift(g)),T.element||Y(g,"element"),r(m.tokens,m,l),0==a.length){if(F(m.tokens,m.isolate||"",m,l),m.isolate)for(var b,_=0;b=m.resources[_];_++)"style"==b.type&&b.isolate!==q&&(b.isolate=m.isolate+b.isolate);m.resources=m.resources.filter(function(e,t,r){return e.url&&!n.array.search(r,B(e),B,t+1)}).map(function(e){if("style"!=e.type)return{type:e.type,url:e.url};var t,r=e.url,i=e.isolate,a=i===q;if(a&&(i=q[r],r in s))return{type:"style",url:s[r].url};if(!i)return{type:"style",url:r};var o=n.resource.virtual("css","").ready(function(e){e.url=r+"?isolate-prefix="+i,e.baseURI=n.path.dirname(r)+"/",e.map=t,u()}),u=n.resource(r).ready(function(e){var n=v(e&&e.cssText||"",i,!0);t=n.map,o.update(n.css)});return a&&(s[r]=o),{type:"style",url:o.url}})}return m.warns.length||(m.warns=!1),m}}();n.resource("./1.js").ready(function(e){H=e.resolveResource,G=e.Template}),t.exports={VERSION:3,makeDeclaration:K,walk:_,getDeclFromSource:c,setIsolatePrefixGenerator:function(e){X=e}}},"d.js":function(e,t,n,r,i,a,s,o,u){function l(e){for(var t,n=[],r=[],i={},a=0;a<e.length;a++)a%2?(i[t=e[a]]||(i[t]=n.length,n.push(t)),r.push(i[t])):e[a]&&r.push(B(e[a]));return[n,r]}function c(e,t,n){var r,i,a=e.value,s=0;if(a)switch(t){case"class":var o,u=e.valueRange.start_,c=/(\s*)(\S+)/g,f=[],p=[];for(s=[];g=c.exec(a);){var h=g[2],v={value:h,binding:!1,range:{start_:u+=g[1].length,end_:u+=h.length}};n(v),(i=h.match(C))?((o=[i[1]||"",i[2]]).info_=v,v.binding=!0,s.push(o)):f.push(h),p.push(v)}a=f.join(" "),e.map_=p;break;case"style":var m=[];if(s=[],r=a.match(O))for(var g,y=0;g=r[y];y++){var b=(i=g.match(L))[1],_=(a=i[2].trim()).split(w);if(_.length>1){var E=l(_);E.push(b),s.push(E)}else m.push(b+": "+B(a))}(a=m.join("; "))&&(a+=";");break;default:(r=a.split(R)).length>1?s=l(r):a=B(a)}s&&!s.length&&(s=0),e.binding=s,e.value=a,e.type=T[t]||d}function f(e,t,n){function r(e){return(e.prefix?e.prefix+":":"")+e.name}function i(e){return e.attrs.reduce(function(e,t){return e[r(t)]=t.value,e},{})}function a(e){return{line:l[e],column:f[e]}}function s(e){return{start:a(e.start_),end:a(e.end_)}}function o(e){t.loc&&(e.loc=s(e.range),e.valueRange&&(e.valueLoc=s(e.valueRange))),t.range?(e.range=[e.range.start_,e.range.end_],e.valueRange&&(e.valueRange=[e.valueRange.start_,e.valueRange.end_])):(delete e.range,delete e.valueRange)}function u(e){for(var t,n,r=0;t=e[r++];n=t){if(t.type==h){for(var a,s=i(t),l=0;a=t.attrs[l++];){var f=a.name;if("b"==t.prefix&&"value"==a.name){var p=t.name.match(U);p&&(f="class"==p[1]?"class":s.name)}c(a,f,o),o(a)}u(t.children)}t.type==v&&(t.value=B(t.value),t.refs||!n||n.type!=v||n.refs||(n.value+=t.value,n.end_=t.end_,e.splice(--r,1))),t.type==m&&(t.value=B(t.value)),o(t)}}var l,f;t.loc&&function(){var e=1,t=0;l=new Array(n.length),f=new Array(n.length);for(var r=0;r<n.length+1;r++)l[r]=e,f[r]=t,"\n"===n[r]?(e++,t=0):t++}(),u(e)}var p=n.require("./2.js"),h=p.TYPE_ELEMENT,d=p.TYPE_ATTRIBUTE,v=p.TYPE_TEXT,m=p.TYPE_COMMENT,T=p.ATTR_TYPE_BY_NAME,g="Invalid or unsupported syntax",y=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,b=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/gi,_=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/gi,E=/(.|[\r\n])*?-->/g,N=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/gi,k=/([a-z_][a-z0-9_]*)(\||\}\s*)/gi,I=/"((?:(\\")|[^"])*?)"\s*/g,x=/\\"/g,A=/^/g,S=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,j={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},R=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,C=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,O=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,L=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,w=/\{([a-z_][a-z0-9_]*)\}/i,U=/^(?:|append-|set-|remove-)(class|attr)$/,B=function(){function e(e,n){return t[n]||("#"==n.charAt(0)?t[n]=String.fromCharCode("x"==n.charAt(1)||"X"==n.charAt(1)?parseInt(n.substr(2),16):n.substr(1)):i&&(i.innerHTML=e,t[n]=i.firstChild?i.firstChild.nodeValue:e)),t[n]||e}var t={},i=n.NODE_ENV?null:r.document.createElement("div"),a=/&([a-z]+\d*|#\d+|#x[0-9a-f]{1,4});?/gi;return function(t){return String(t).replace(a,e)}}();t.exports=function(e,t){var n,r,i,a,s,o=[],u=[],l={children:o},c=!1,p=y,T=0,R=0;for(t&&!1===t.trim||(T=R=e.match(/^\s*/)[0].length,e=e.trimRight());T<e.length||p!=y;)if(p.lastIndex=T,a=T,(s=p.exec(e))&&s.index===T){switch(T=p.lastIndex,p){case y:if(r=a+s[1].length,R!=r){var C=R==a?s[1]:e.substring(R,r);(C=C.replace(/\s*(\r\n?|\n\r?)\s*/g,""))&&l.children.push({type:v,value:C,range:{start_:R,end_:r}})}R=r,s[3]?l.children.push({type:v,refs:["l10n:"+s[3]],value:"{l10n:"+s[3]+"}",range:{start_:r,end_:T}}):"{"==s[2]?(i=T-1,l.children.push(n={type:v,range:{start_:r,end_:r}}),p=k):s[4]?"/"==s[4]?(n=null,p=N):(l.children.push(n={type:m,range:{start_:r,end_:r}}),s[5]?(i=T-s[5].length,p=k):(i=T,p=E)):s[2]&&(c=!0,u.push(l),l.children.push(n={type:h,attrs:[],children:[],range:{start_:r,end_:r}}),l=n,p=b);break;case N:s[1]!==(l.prefix?l.prefix+":":"")+l.name?l.children.push({type:v,value:"</"+s[0],range:{start_:a-2,end_:a+s[0].length}}):(l.range.end_=a+s[0].length,l=u.pop()),p=y;break;case b:case _:if(":"==s[2]){n.prefix?p=A:n.prefix=s[1];break}if(s[1]&&(n.name=s[1],n.range.end_=a+s[1].length,n.type==d&&l.attrs.push(n)),"{"==s[2]){p=n.type==h?k:A;break}if(s[3]){if(c=!1,l.range.end_=T,"/>"==s[3]||!l.prefix&&S.test(l.name))l=u.pop();else if("b"==l.prefix&&l.name in j){p=j[l.name];break}p=y;break}if("="==s[2]){p=I;break}n={type:d,range:{start_:T,end_:T}},p=_;break;case E:n.value=e.substring(i,T-3),n.range.end_=T,p=y;break;case k:n.refs?n.refs.push(s[1]):n.refs=[s[1]],"|"!=s[2]&&(n.type==v?(T-=s[2].length-1,n.value=e.substring(i,T),n.range.end_=T,p=y):n.type==m?p=E:n.type==d&&"="==e[T]?(T++,p=I):(n={type:d,range:{start_:T,end_:T}},p=_));break;case I:n.value=s[1].replace(x,'"'),n.range.end_=T,n.valueRange={start_:a+1,end_:a+1+s[1].length},n={type:d,range:{start_:T,end_:T}},p=_;break;case j.text:case j.style:l.children.push({type:v,value:s[1],range:{start_:a,end_:a+s[1].length}}),l=u.pop(),p=y;break;default:throw g}p==y&&(R=T)}else{if(p==k&&n&&n.type==m){p=E;continue}c&&(l=u.pop()),n&&l.children.pop(),(n=l.children.pop())&&(n.type!=v||n.refs?l.children.push(n):R-=n.value.length),c=!1,p=y}return R!=T&&l.children.push({type:v,value:e.substring(R,T),range:{start_:R,end_:T}}),f(o,t||{},e),o.templateTokens=!0,o}},"e.js":function(e,t,n,r,i,a,s,o,u){function l(){return n.genUID()+"__"}var c=/^\-?([_a-z]|[^\x00-\xb1]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?|\\[^\n\r\f0-9a-f])/i,f=8,p=/^(media|supports|document)\b/i,h=8,d=/^(not|has|matches|nth-child|nth-last-child)\(/i,v=15;t.exports=function(e,t,n){function r(t,n){var r=e.indexOf(t,n);x=-1!==r?r+t.length-1:N.length}function i(){var e=N[x];if('"'===e||"'"===e){for(x++;x<k&&N[x]!==e;x++)"\\"===N[x]&&x++;return!0}}function a(){var e=N[x];if("("===e)return r(")",x+1),!0;if("["===e){for(x++;x<k&&"]"!==N[x];x++)i();return!0}}function s(){if("/"===N[x]&&"*"===N[x+1])return r("*/",x+2),!0}function o(){for(;x<k&&")"!=N[x];x++)if(s()||a()||u()||g())continue}function u(){if(":"===N[x]){var t=e.substr(x+1,v).match(d);return t&&(x+=t[0].length+1,o()),!0}}function m(){if("@"===N[x]){var t=e.substr(x+1,h).match(p);return t&&(x+=t[0].length,b=!0),!0}}function T(){if("{"===N[x]){if(b)return x++,void y(!0);for(x++;x<k&&"}"!==N[x];x++)s()||i()||a();return!0}}function g(){if("."===N[x])return e.substr(x+1,f).match(c)&&(_[++x+E.length/2*t.length-1]=x,E.push(e.substring(I,x),t),I=x),!0}function y(e){for(b=!1;x<k;x++)if(!(s()||m()||u()||a()||i()||g())){if(e&&"}"==N[x])return;T()}}var b,_={},E=[],N=e.split(""),k=N.length,I=0,x=0;return t||(t=l()),y(!1),E=E.join("")+e.substring(I),n?{css:E,map:_,prefix:t}:E}},"f.js":function(e,t,n,r,i,a,s,o,u){function l(e){return(e.prefix?e.prefix+":":"")+e.name}function c(e,t){if(t)return(e.sourceUrl||"")+":"+t.start.line+":"+(t.start.column+1)}var f=n.array.add;t.exports={resourceHash:function(e){return[e.type,e.url,e.isolate].join(";")},addUnique:function(e,t){for(var n=0;n<t.length;n++)f(e,t[n])},getTokenName:l,bindingList:function(e){var t=e.refs;return t&&t.length?t[0]:0},getTokenAttrValues:function(e){var t={};if(e.attrs)for(var n,r=0;n=e.attrs[r];r++)t[l(n)]=n.value;return t},getTokenAttrs:function(e){var t={};if(e.attrs)for(var n,r=0;n=e.attrs[r];r++)t[l(n)]=n;return t},parseOptionsValue:function(e){for(var t={},n=(e||"").trim().split(/\s*,\s*/),r=0;r<n.length;r++){var i=n[r].split(/\s*:\s*/);if(2!=i.length)return{};t[i[0]]=i[1]}return t},getLocation:c,addTemplateWarn:function(e,t,n,r){r&&t.loc&&((n=Object(n)).loc="string"==typeof r?r:c(e,r)),e.warns.push(n)},addTokenLocation:function(e,t,n,r){t.loc&&r&&r.loc&&!n.loc&&(n.loc=c(e,r.loc))}}},"g.js":function(e,t,n,r,i,a,s,o,u){function l(e,t){var n=e[T].indexOf(t);if(-1!=n){var r=e[m]&&"number"==typeof e[m];e[T].splice(n,1),r&&n==e[m]-1&&(e[m]=t,r=!1),e[T].length?r&&(e[m]-=n<e[m]-1):e[T]=0}}var c=n.array.add,f=n.require("./h.js").walk,p=n.require("./2.js"),h=p.TYPE_ATTRIBUTE_EVENT,d=p.TYPE_CONTENT,v=p.CONTENT_PRIORITY,m=p.TOKEN_BINDINGS,T=p.TOKEN_REFS;t.exports={refList:function(e){var t=e.refs;return t&&t.length?t:0},addTokenRef:function(e,t){e[T]||(e[T]=[]),c(e[T],t),"element"==t||e[m]||(e[m]=1==e[T].length?t:0)},removeTokenRef:l,normalizeRefs:function(e){var t={};return f(e,function(e,n,r){if(e===d){var i=t[":content"];i?n[v]>=i.node[v]?(i.overrided.push({parent:i.parent,node:i.node}),i.parent=r,i.node=n):i.overrided.push({parent:r,node:n}):t[":content"]={parent:r,node:n,overrided:[]}}else if(e!==h){var a=n[T];if(!a)return;for(var s,o=a.length-1;s=a[o];o--)-1==s.indexOf(":")?(t[s]&&l(t[s].node,s),n[m]==s&&(n[m]=o+1),t[s]={parent:r,node:n}):l(n,s)}}),t}}},"h.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./2.js"),c=l.TYPE_ELEMENT,f=l.TYPE_CONTENT,p=l.TOKEN_TYPE,h=l.ELEMENT_ATTRIBUTES_AND_CHILDREN,d=l.CONTENT_CHILDREN;t.exports={walk:function(e,t){function n(e,r){for(var i,a=r;i=e[a];a++){var s=i[p];switch(t(s,i,e),s){case c:n(i,h);break;case f:n(i,d)}}}n(e,0)}}},"i.js":function(e,t,n,r,i,a,s,o,u){var l=Object.prototype.hasOwnProperty,c=n.require("./h.js").walk,f=n.require("./2.js"),p=f.TYPE_ATTRIBUTE_CLASS,h=f.TOKEN_BINDINGS,d=f.ATTR_VALUE_INDEX,v={};t.exports={styleNamespaceIsolate:v,adoptStyles:function(e,t,n){for(var r,i=0;r=e[i];i++)"style"==r.type&&(r.isolate!==v&&(r.isolate=t+r.isolate),r.includeToken||(r.includeToken=n))},addStyle:function(e,t,r,i,a){var s=t.children[0],o=r?n.resource.resolveURI(r,e.baseURI,'<b:style src="{url}"/>'):n.resource.virtual("css",s?s.value:"",e.sourceUrl).url;return e.resources.push({type:"style",url:o,isolate:i,token:t,includeToken:null,inline:!r&&(s||!0),namespace:a}),o},applyStyleNamespaces:function(e,t){function n(e){return e.indexOf(":")<=0?e:t.prefix+e}c(e,function(e,t){if(e===p){var r=t[h],i=d[e];if(t[i]&&(t[i]=t[i].replace(/\S+/g,n)),r)for(var a,s=0;a=r[s];s++)a[0]=n(a[0])}})},isolateTokens:function(e,t,n){function r(e){if(-1==e.indexOf(":"))return t+e;if(!n)return e;var r=e.split(":");if(!r[0])return r[1];var i=!!l.call(n.styleNSPrefix,r[0])&&n.styleNSPrefix[r[0]];return!!i&&i.prefix+r[1]}c(e,function(e,t){if(e===p){var n=t[h],i=d[e];if(t[i]&&(t[i]=t[i].split(/\s+/).map(function(e){return r(e,t.valueLocMap&&t.valueLocMap[e])}).filter(Boolean).join(" ")),n){for(var a,s,o,u=0;a=n[u];u++)!1===(s=r(a[0],(a[0],a[1]),a.loc))?(o=!0,n[u]=null):a[0]=s;o&&(n=n.filter(Boolean),t[h]=n.length?n:0)}}})}}},"j.js":function(e,t,n,r,i,a,s,o,u){function l(e,t){for(var n,r="number"==typeof e[0]?L:0;n=e[r];r++)if((n[C]==k?"event-"+n[1]:A[n[C]]||n[x])==t)return n}function c(e,t){var n=e[O];if(n)for(var r,i=0;r=n[i];i++)if(r[2]==t)return r}function f(e,t,n,r,i,a,s){var o=l(n,"style");o||(o=[I,0,0],n.push(o));var u=r.binding,f=o[O],p=!1,h=r.name==a,d=o[3];f&&v(f,c(o,i)),u&&u[0].length==u[1].length?(u=u.concat(i,r.name),p=h,f?f.push(u):o[O]=[u]):p=!(h^""===r.value),d&&(d=d.replace(new RegExp(i+"\\s*:\\s*[^;]+(;|$)"),"")),p&&(d=(d?d+" ":"")+s),o[3]=d}function p(e,t,n,r){"show"!=r.name&&"hide"!=r.name||f(e,t,n,r,"display","show","display: none;"),"visible"!=r.name&&"hidden"!=r.name||f(e,t,n,r,"visibility","visible","visibility: hidden;")}function h(e,t,n,r){if(n[C]===E&&!/[\/\(\)]/.test(r)){var i=[N,[["$role"],[0,r?"/"+r:""]],0,"role-marker"];n.push(i)}}var d=n.array.add,v=n.array.remove,m=n.require("./g.js").addTokenRef,T=n.require("./2.js"),g=n.require("./f.js"),y=g.getTokenName,b=g.getTokenAttrValues,_=g.getTokenAttrs,E=T.TYPE_ELEMENT,N=T.TYPE_ATTRIBUTE,k=T.TYPE_ATTRIBUTE_EVENT,I=T.TYPE_ATTRIBUTE_STYLE,x=T.ATTR_NAME,A=T.ATTR_NAME_BY_TYPE,S=T.ATTR_TYPE_BY_NAME,j=T.ATTR_VALUE_INDEX,R=T.ATTR_VALUE,C=T.TOKEN_TYPE,O=T.TOKEN_BINDINGS,L=T.ELEMENT_ATTRIBUTES_AND_CHILDREN,w=/^[a-z_][a-z0-9_\-:]*$/i,U=/^event-(.+)$/;t.exports={getAttrByName:l,applyShowHideAttribute:p,addRoleAttribute:h,applyAttrs:function(e,t,n,r){for(var i,a,s,o,u,l=0;u=r[l];l++)if("b"!=u.prefix)(o=u.name.match(U))?s=o[1]==u.value?[k,o[1]]:[k,o[1],u.value]:(s=[u.type,u.binding,0],u.type==N&&s.push(y(u)),!u.value||t.optimizeSize&&u.binding&&u.type==N||s.push(u.value)),n.push(s);else switch(u.name){case"ref":for(var c=(u.value||"").trim().split(/\s+/),f=0;f<c.length;f++)m(n,c[f]);break;case"show":case"hide":i=u;break;case"visible":case"hidden":a=u;break;case"role":h(e,t,n,u.value||"",u)}return i&&p(e,t,n,i),a&&p(e,t,n,a),n},modifyAttr:function(e,t,r,i,a,s,o){var u=b(a),f=_(a);if(s&&(u.name=s),u.name&&w.test(u.name)&&i&&i[C]==E){var p=i,h=u.name.match(U),m="class"==u.name||"style"==u.name,T=h?k:S[u.name]||N,g=j[T]||R,y=p&&l(p,u.name);switch(y&&"set"==o&&(v(p,y),y=null),y||"set"!=o&&"append"!=o||(o="set",h?y=[T,h[1]]:(y=[T,0,0,T==N?u.name:""],T==N&&y.push("")),p||(p=[],i.push(p)),p.push(y)),o){case"set":if(y[C]==k)return void(u.value==h[1]?y.length=2:y[g]=u.value);if(z=f.value||{},y[O]=z.binding||0,t.optimizeSize&&y[O]&&!m?y.length=g:y[g]=z.value||"",m&&!y[O]&&!y[g])return void v(p,y);break;case"append":var I=(z=f.value||{}).value||"",x=z.binding;if(!h)if(x){var A=y[O];if(A)switch(u.name){case"style":for(var L,B=0;L=x[B];B++)v(A,c(y,L[2])),A.push(L);break;case"class":A.push.apply(A,x);break;default:for(x[0].forEach(function(e){d(this,e)},A[0]),B=0;B<x[1].length;B++){var M=x[1][B];"number"==typeof M&&(M=A[0].indexOf(x[0][M])),A[1].push(M)}}else y[O]=x,m||y[O][1].unshift(y[g])}else!m&&y[O]&&y[O][1].push(u.value);if(I)if(h||"class"==u.name){var P=(y[g]||"").trim(),D=I.trim();for(P=P?P.split(/\s+/):[],D=D?D.split(/\s+/):[],B=0;B<D.length;B++){var Y=D[B];n.array.remove(P,Y),P.push(Y)}y[g]=P.join(" ")}else y[g]=(y[g]||"")+(y[g]&&m?" ":"")+I;!m||y[O]||y[g]||v(p,y);break;case"remove-class":if(y){var z=f.value||{},V=(y[g]||"").split(" "),q=(z.value||"").split(" "),F=y[O];if(z.binding&&F){for(var $,B=0;$=z.binding[B];B++)for(var G,H=F.length-1;G=F[H];H--){var X=G[0],K=G[3]||G[1];X===$[0]&&K===$[1]&&F.splice(H,1)}F.length||(y[O]=0)}for(B=0;B<q.length;B++)v(V,q[B]);y[g]=V.join(" "),F.length||V.length||v(p,y)}break;case"remove":y&&v(p,y)}}}}},"k.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./2.js").TYPE_CONTENT;t.exports=function(e,t,n,r){var i=[l,2];n.children&&i.push.apply(i,t.process(n.children,e,t)),r.push(i)}},"l.js":function(e,t,n,r,i,a,s,o,u){var l=Object.prototype.hasOwnProperty,c=n.require("./2.js"),f=n.require("./f.js").getTokenAttrValues,p=c.CLASS_BINDING_BOOL,h=c.CLASS_BINDING_INVERT,d=c.CLASS_BINDING_ENUM;t.exports=function(e,t,n){var r=f(n);if("name"in r&&"type"in r&&!l.call(t.defines,r.name)){var i,a,s=r.from||r.name,o=r.name,u=!1;switch(r.type){case"bool":u=[s,p,o,"true"==r.default?1:0];break;case"invert":u=[s,h,o,r.default&&"true"!=r.default?0:1];break;case"enum":if("values"in r==0)break;if(!(a=(r.values||"").trim()))break;i=(a=a.split(/\s+/)).indexOf(r.default),u=[s,d,o,i+1,a]}u&&(t.defines[o]=u)}}},"m.js":function(e,t,n,r,i,a,s,o,u){function l(e,t){v(e,function(e,n){n.includeToken||(n.includeToken=t)})}function c(e,t){v(e,function(e,n){if(e===Y&&"role-marker"==n[D]){var r=n[P][1],i=r[1];r[1]="/"+t+i}})}function f(e){if(Array.isArray(e))return e.map(f);if(e&&e.constructor===Object){var t={};for(var n in e)t[n]=f(e[n]);return t}return e}function p(e,t){return{type:z,prefix:"b",name:e.instruction,attrs:n.object.iterate(e.attrs||{},function(e,t){return{type:Y,name:e,value:t}}).concat(n.object.complete({name:e.valueTo},t))}}var h=n.array.remove,d=n.array.add,v=n.require("./h.js").walk,m=n.require("./f.js"),T=m.addUnique,g=m.getTokenAttrValues,y=m.getTokenAttrs,b=m.parseOptionsValue,_=n.require("./g.js"),E=_.normalizeRefs,N=_.addTokenRef,k=_.removeTokenRef,I=n.require("./i.js"),x=I.styleNamespaceIsolate,A=I.adoptStyles,S=I.addStyle,j=I.isolateTokens,R=I.applyStyleNamespaces,C=n.require("./j.js"),O=C.getAttrByName,L=C.addRoleAttribute,w=C.applyShowHideAttribute,U=C.modifyAttr,B=n.require("./2.js"),M=B.TOKEN_TYPE,P=B.TOKEN_BINDINGS,D=B.ATTR_NAME,Y=B.TYPE_ATTRIBUTE,z=B.TYPE_ELEMENT,V=B.ELEMENT_ATTRIBUTES_AND_CHILDREN,q=B.CONTENT_CHILDREN,F=["include","content"],$={class:{instruction:"append-class",valueTo:"value"},id:{instruction:"set-attr",valueTo:"value",attrs:{name:"id"}},ref:{instruction:"add-ref",valueTo:"name"},show:{instruction:"show",valueTo:"expr"},hide:{instruction:"hide",valueTo:"expr"},visible:{instruction:"visible",valueTo:"expr"},hidden:{instruction:"hidden",valueTo:"expr"}};t.exports=function(e,t,r,i){var a=g(r),s=y(r),o=t.includeStack,u=a.src;if(u){var v;if(/^#[^\d]/.test(u)?(v=e.templates[u.substr(1)])&&(v=t.makeDeclaration(f(v.tokens),v.baseURI,v.options,v.sourceUrl)):v=t.resolveResource(u,e.baseURI),v&&-1===o.indexOf(v)){var m=s.isolate?s.isolate.value||t.genIsolateMarker():"",_=a.options?b(a.options):null,I=t.getDeclFromSource(v,"",!0,n.object.merge(t,{includeOptions:_}));if(l(I.tokens,r),e.includes.push({token:r,resource:v,nested:I.includes}),v.bindingBridge&&d(e.deps,v),I.deps&&T(e.deps,I.deps),I.warns&&e.warns.push.apply(e.warns,I.warns),I.resources){var C=I.resources;"no-style"in a?C=C.filter(function(e){return"style"!=e.type}):A(C,m,r),e.resources.unshift.apply(e.resources,C)}var B={prefix:t.genIsolateMarker()};R(I.tokens,B);for(var P in I.styleNSPrefix)e.styleNSPrefix[B.prefix+P]=n.object.merge(I.styleNSPrefix[P],{});m&&j(I.tokens,m);var D=!1,Y=[],G=E(I.tokens);for(var H in s)if($.hasOwnProperty(H))Y.push(p($[H],s[H]));else if("role"===H){var X=s.role.value;if(X&&!/[\/\(\)]/.test(X)){c(I.tokens,X,s.role)}}Y=Y.concat(r.children);for(var K,Z=0;K=Y[Z];Z++)if(K.type==z&&"b"==K.prefix&&-1===F.indexOf(K.name)){var W=g(K),J="ref"in W?W.ref:"element",Q=":"===J.charAt(0),ee=(pe=J&&G[J])&&pe.node;switch(K.name){case"style":var te=!0;if((W=g(K)).options){var ne=b(W.options);for(var re in ne)te=te&&ne[re]==_[re]}if(te){var ie=W[W.namespace?"namespace":"ns"],ae=ie?x:m,se=S(e,K,W.src,ae,ie);ie&&(se in x==0&&(x[se]=t.genIsolateMarker()),e.styleNSPrefix[B.prefix+ie]={name:ie,prefix:x[se]})}break;case"replace":case"remove":case"before":case"after":var oe="replace"==K.name||"remove"==K.name;if((pe=(J="ref"in(W=g(K))||!oe?W.ref:"element")&&G[J])&&-1!=(ve=(de=pe.parent).indexOf(pe.node))){var ue=[ve+("after"==K.name),oe];"remove"!=K.name&&(ue=ue.concat(t.process(K.children,e,t))),de.splice.apply(de,ue)}break;case"prepend":case"append":if(ee&&ee[M]==z){var le=t.process(K.children,e,t);"prepend"==K.name?ee.splice.apply(ee,[V,0].concat(le)):ee.push.apply(ee,le)}break;case"show":case"hide":case"visible":case"hidden":if(ee&&ee[M]==z){if(!y(K).expr)break;w(e,t,ee,n.object.complete({name:K.name},y(K).expr))}break;case"attr":case"set-attr":U(e,t,r,ee,K,!1,"set");break;case"append-attr":U(e,t,r,ee,K,!1,"append");break;case"remove-attr":U(e,t,r,ee,K,!1,"remove");break;case"class":case"append-class":U(e,t,r,ee,K,"class","append");break;case"set-class":U(e,t,r,ee,K,"class","set");break;case"remove-class":var ce=y(K).value;ce&&(ce.value=ce.value.split(/\s+/).map(function(e){return e.indexOf(":")>0?B.prefix+e:e}).join(" "),ce.binding&&ce.binding.forEach(function(e){e[0].indexOf(":")>0&&(e[0]=B.prefix+e[0])}),ce.map_&&ce.map_.forEach(function(e){e.value.indexOf(":")>0&&(e.value=B.prefix+e.value)})),U(e,t,r,ee,K,"class","remove-class");break;case"add-ref":fe=(W.name||"").trim();if(!ee)break;if(Q)break;if(!/^[a-z_][a-z0-9_]*$/i.test(fe))break;N(ee,fe);break;case"remove-ref":var fe=(W.name||"").trim(),Q=":"===(J="ref"in W?W.ref:fe||"element").charAt(0);if(!(ee=(pe=J&&G[J])&&pe.node))break;if(Q)break;if(!/^[a-z_][a-z0-9_]*$/i.test(fe))break;k(ee,fe||J);break;case"role":case"set-role":if(!(re=W.name)&&"value"in W&&(re=W.value),!ee)break;h(ee,O(ee,"role-marker")),L(e,t,ee,re||"",K);break;case"remove-role":if(!ee)break;h(ee,O(ee,"role-marker"))}}else{var pe=G[":content"],he=t.process([K],e,t);if(pe){var de=pe.parent,ve=de.indexOf(pe.node);D||(D=!0,pe.node.splice(q)),pe.node.push.apply(pe.node,he)}else I.tokens.push.apply(I.tokens,he)}G.element&&k(G.element.node,"element"),i.push.apply(i,I.tokens)}}}},"1.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=I[e];if(!t){var r=p.getElementById(e),i="";r&&"SCRIPT"==r.tagName&&"text/basis-template"==r.type&&(i=r.textContent||r.text),t=I[e]=n.resource.virtual("tmpl",i||"")}return t}function c(){this.destroyBuilder&&f.call(this);for(var e=this;e=e.attaches_;)e.handler.call(e.context)}function f(){var e=g(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),t=this.destroyBuilder,r={},i=this.builder(e.tokens,r);this.createInstance=i.createInstance,this.clearInstance=i.destroyInstance,this.destroyBuilder=i.destroy,_.add(this.templateId,this,r);var a=e.deps,s=this.deps_;if(this.deps_=a,s)for(u=0;o=s[u];u++)o.bindingBridge.detach(o,c,this);if(a)for(var o,u=0;o=a[u];u++)o.bindingBridge.attach(o,c,this);var l=e.resources,f=this.resources;if(this.resources=l,l)for(u=0;p=l[u];u++)"function"==typeof(h=n.resource(p.url).fetch()).startUse&&h.startUse();if(f)for(var p,u=0;p=f[u];u++){var h=n.resource(p.url).fetch();"function"==typeof h.stopUse&&h.stopUse()}t&&t(!0)}var p=r.document,h=n.Class,d=n.cleaner,v=n.path,m=n.require("./2.js"),T=n.require("./3.js").VERSION,g=n.require("./3.js").getDeclFromSource,y=n.require("./3.js").makeDeclaration,b=n.require("./3.js").setIsolatePrefixGenerator,_=n.require("./4.js"),E=n.require("./5.js"),N=E.get,k=[],I={},x=h(null,{className:"basis.template.Template",__extend__:function(e){return e instanceof x?e:e instanceof A?new S(e):new x(e)},source:"",baseURI:"",url:"",attaches_:null,init:function(e){if(4096==k.length)throw"Too many templates (maximum 4096)";this.setSource(e||""),this.templateId=k.push(this)-1},bindingBridge:{attach:function(e,t,n){e.attaches_={handler:t,context:n,attaches_:e.attaches_}},detach:function(e,t,n){for(var r,i=e;r=i,i=i.attaches_;)if(i.handler===t&&i.context===n)return void(r.attaches_=i.attaches_)},get:function(e){var t=e.source;return t&&t.bindingBridge?t.bindingBridge.get(t):t}},createInstance:function(e,t,n,r,i){return f.call(this),this.createInstance(e,t,n,r,i)},clearInstance:function(){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},setSource:function(e){var t=this.source;if(t!=e){if("string"==typeof e){var n=e.match(/^([a-z]+):/);if(n)switch(e=e.substr(n[0].length),n[1]){case"id":e=l(e);break;case"path":e=N(e)}}t&&t.bindingBridge&&(this.url="",this.baseURI="",t.bindingBridge.detach(t,c,this)),e&&e.bindingBridge&&(e.url&&(this.url=e.url,this.baseURI=v.dirname(e.url)+"/"),e.bindingBridge.attach(e,c,this)),this.source=e,c.call(this)}},destroy:function(){this.destroyBuilder&&(_.remove(this.templateId),this.destroyBuilder()),this.attaches_=null,this.createInstance=null,this.resources=null,this.source=null}}),A=function(e){n.object.extend(this,e)},S=n.Class(null,{className:"basis.template.TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:x,ruleEvents:null,rule:String,init:function(e){this.ruleRet_=[],this.templates_=[],this.rule=e.rule;var t=e.events;if(t&&t.length){this.ruleEvents={};for(var n,r=0;n=t[r];r++)this.ruleEvents[n]=!0}d.add(this)},resolve:function(e){var t=this.rule(e),n=this.ruleRet_.indexOf(t);return-1==n&&(this.ruleRet_.push(t),n=this.templates_.push(new this.templateClass(t))-1),this.templates_[n]},destroy:function(){this.rule=null,this.templates_=null,this.ruleRet_=null}});d.add({destroy:function(){for(var e,t=0;e=k[t];t++)e.destroy();k=null}}),t.exports={DECLARATION_VERSION:T,TYPE_ELEMENT:m.TYPE_ELEMENT,TYPE_ATTRIBUTE:m.TYPE_ATTRIBUTE,TYPE_ATTRIBUTE_CLASS:m.TYPE_ATTRIBUTE_CLASS,TYPE_ATTRIBUTE_STYLE:m.TYPE_ATTRIBUTE_STYLE,TYPE_ATTRIBUTE_EVENT:m.TYPE_ATTRIBUTE_EVENT,TYPE_TEXT:m.TYPE_TEXT,TYPE_COMMENT:m.TYPE_COMMENT,TYPE_CONTENT:m.TYPE_CONTENT,TOKEN_TYPE:m.TOKEN_TYPE,TOKEN_BINDINGS:m.TOKEN_BINDINGS,TOKEN_REFS:m.TOKEN_REFS,ATTR_NAME:m.ATTR_NAME,ATTR_VALUE:m.ATTR_VALUE,ATTR_NAME_BY_TYPE:m.ATTR_NAME_BY_TYPE,CLASS_BINDING_ENUM:m.CLASS_BINDING_ENUM,CLASS_BINDING_BOOL:m.CLASS_BINDING_BOOL,CLASS_BINDING_INVERT:m.CLASS_BINDING_INVERT,ELEMENT_NAME:m.ELEMENT_NAME,ELEMENT_ATTRS:m.ELEMENT_ATTRIBUTES_AND_CHILDREN,ELEMENT_ATTRIBUTES_AND_CHILDREN:m.ELEMENT_ATTRIBUTES_AND_CHILDREN,TEXT_VALUE:m.TEXT_VALUE,COMMENT_VALUE:m.COMMENT_VALUE,CONTENT_CHILDREN:m.CONTENT_CHILDREN,CONTENT_PRIORITY:m.CONTENT_PRIORITY,TemplateSwitchConfig:A,TemplateSwitcher:S,Template:x,switcher:function(e,t){return t||(t=e,e=null),"string"==typeof e&&(e=e.split(/\s+/)),new A({rule:t,events:e})},getDeclFromSource:g,makeDeclaration:y,resolveResource:function(e,t){return/^#\d+$/.test(e)?k[e.substr(1)]:/^id:/.test(e)?l(e.substr(3)):/^[a-z0-9\.]+$/i.test(e)&&!/\.tmpl$/.test(e)?N(e):n.resource(n.resource.resolveURI(e,t,'<b:include src="{url}"/>'))},setIsolatePrefixGenerator:b,resolveTemplateInfoByNode:function(e){for(;e;){if(e[m.MARKER])return _.resolveInfoById(e[m.MARKER]);e=e.parentNode}return null},resolveInfoById:_.resolveInfoById,resolveTemplateById:_.resolveTemplateById,resolveObjectById:_.resolveObjectById,resolveTmplById:_.resolveTmplById,SourceWrapper:E.SourceWrapper,Theme:E.Theme,theme:E.theme,getThemeList:E.getThemeList,currentTheme:E.currentTheme,setTheme:E.setTheme,onThemeChange:E.onThemeChange,define:E.define,get:E.get,getPathList:E.getPathList}},"o.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./f.js").getTokenAttrValues;t.exports=function(e,t,r){var i=l(r);i.src&&(t.dictURI=n.resource.resolveURI(i.src,e.baseURI,"<b:"+r.name+' src="{url}"/>'))}},"p.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./f.js"),c=n.require("./i.js"),f=c.styleNamespaceIsolate,p=c.addStyle,h=l.parseOptionsValue,d=l.getTokenAttrValues;t.exports=function(e,t,n){var r=!0,i=d(n);if(i.options){var a=h(i.options);for(var s in a)r=r&&a[s]==t.includeOptions[s]}if(r){var o=i[i.namespace?"namespace":"ns"],u=o?f:"",l=p(e,n,i.src,u,o);if(o){if(l in f==0&&(f[l]=t.genIsolateMarker()),o in e.styleNSPrefix)return;e.styleNSPrefix[o]={name:o,prefix:f[l]}}}}},"q.js":function(e,t,n,r,i,a,s,o,u){var l=n.array.add,c=n.require("./f.js"),f=c.getTokenName,p=c.getTokenAttrs,h=c.bindingList,d=n.require("./g.js").refList,v=n.require("./j.js").applyAttrs,m=n.require("./2.js").TYPE_ELEMENT;t.exports=function(e,t,r,i){var a=p(r),s=[],o=[m,0,0,"svg:use"],u=[m,h(r),d(r),"svg:svg",o];for(var c in a){var T=a[c];switch(f(T)){case"src":if(!T.value)continue;var g=n.resource.resolveURI(T.value,e.baseURI,"<b:"+r.name+' src="{url}"/>');l(e.deps,n.resource.buildCloak(g)),e.resources.push({type:"svg",url:g});break;case"use":v(e,t,o,[n.object.merge(T,{prefix:"xlink",name:"href"})]);break;default:s.push(T)}}i.push(v(e,t,u,s))}},"r.js":function(e,t,n,r,i,a,s,o,u){var l=n.require("./f.js").getTokenAttrValues;t.exports=function(e,t,r,i){var a=l(r),s=(a.ref||"").trim(),o=r.children[0]||{type:3,value:""};o=n.object.merge(o,{refs:s?s.split(/\s+/):[],value:"notrim"in a?o.value:(o.value||"").replace(/^ *(\r\n?|\n)( *$)?|(\r\n?|\n) *$/g,"")}),i.push.apply(i,t.process([o],e,t))}},"4.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=e>>12,n=c[4095&e];return n&&n.instances[t]}var c={};t.exports={add:function(e,t,n){c[e]={template:t,instances:n}},remove:function(e){delete c[e]},resolveInfoById:function(e){var t=e>>12,n=c[4095&e],r=n&&n.instances[t];if(r)return{id:e,template:n.template,context:r.context,tmpl:r.tmpl}},resolveTemplateById:function(e){var t=c[4095&e];return t&&t.template},resolveObjectById:function(e){var t=l(e);return t&&t.context},resolveTmplById:function(e){var t=l(e);return t&&t.tmpl},resolveActionById:function(e){var t=l(e);return t&&{context:t.context,action:t.action}}}},"5.js":function(e,t,n,r,i,a,s,o,u){function l(){var e=n.array(arguments).join("."),t=b[e];return t||(t=new k("",e),b[e]=t),t}function c(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function f(e,t){var n=[];n.source=c(t).join("/");for(var r={base:!0},i=0;i<t.length;i++){var a=t[i]||"base";a==e||r[a]||(r[a]=!0,n.push(a),m(a),t.splice.apply(t,[i+1,0].concat(y[a].fallback)))}return n.unshift(e),"base"!=e&&n.push("base"),n.value=n.join("/"),n}function p(e,t){for(var n,r=y[e].sourcesList,i=0;n=r[i];i++)if(n.hasOwnProperty(t))return n[t];return""}function h(e){return-1!=y[E].fallback.indexOf(e)}function d(e){l(e).set()}function v(){for(var e in b)d(e)}function m(e){if(e||(e="base"),y[e])return y[e].theme;if(!/^([a-z0-9\_\-]+)$/.test(e))throw"Bad name for theme - "+e;var t={},r=[t],i=new N;y[e]={theme:i,sources:t,sourcesList:r,fallback:[]};var a=function(n,r){return n in t==0&&(t[n]=r,h(e)&&d(n)),l(n)};return n.object.extend(i,{name:e,fallback:function(t){if(i!==g&&arguments.length>0){var n="string"==typeof t?t.split("/"):[],r={};if(n=f(e,n),y[e].fallback.source!=n.source){y[e].fallback.source=n.source;for(var a in y){var s=y[a].fallback;if((n=f(a,(s.source||"").split("/"))).value!=s.value){r[a]=!0,y[a].fallback=n;var o=y[a].sourcesList;o.length=n.length;for(var u=0;u<o.length;u++)o[u]=y[n[u]].sources}}}for(var a in r)if(h(a)){v();break}}var l=y[e].fallback.slice(1);return l.source=y[e].fallback.source,l},define:function(e,t){if("function"==typeof e&&(e=e()),"string"==typeof e){if("object"==typeof t){var n=e,r=t,s={};for(var o in r)r.hasOwnProperty(o)&&(s[o]=a(n+"."+o,r[o]));return s}return 1==arguments.length?l(e):a(e,t)}if("object"==typeof e){r=e;for(var u in r)r.hasOwnProperty(u)&&a(u,r[u]);return i}},apply:function(){if(e!=E){E=e,v(),n.Token.prototype.set.call(m,E);for(var t,r=0;t=_[r];r++)t.fn.call(t.context,e)}return i},getSource:function(n,r){return r?p(e,n):t[n]},drop:function(n){t.hasOwnProperty(n)&&(delete t[n],h(e)&&d(n))}}),y[e].fallback=f(e,[]),r.push(y.base.sources),i}function T(e){return m(e).apply()}var g,y={},b={},_=[],E="base",N=n.Class(null,{className:"basis.template.theme.Theme",get:l}),k=n.Class(n.Token,{className:"basis.template.theme.SourceWrapper",path:"",url:"",baseURI:"",init:function(e,t){this.path=t,n.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=p(E,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,k.prototype.apply,this),this.value=e,this.url=e&&e.url||"",this.baseURI=("object"==typeof e||"function"==typeof e)&&"baseURI"in e?e.baseURI:n.path.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,k.prototype.apply,this),this.apply())},destroy:function(){this.url=null,this.baseURI=null,this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this),n.Token.prototype.destroy.call(this)}});n.object.extend(m,new n.Token(E)),m.set=T,n.cleaner.add({destroy:function(){for(var e in b)b[e].destroy();y=null,b=null}}),g=m(),t.exports={SourceWrapper:k,Theme:N,theme:m,getThemeList:function(){return n.object.keys(y)},currentTheme:function(){return y[E].theme},setTheme:T,onThemeChange:function(e,t,n){_.push({fn:e,context:t}),n&&e.call(t,E)},define:g.define,get:l,getPathList:function(){return n.object.keys(b)}}},"6.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t,n=e.getDictionary(),r=e.getName(),i=r+"@"+n.id,a=A[i];if(!a){var s=n.token(r);(a=A[i]=s.as(function(e){return"markup"==s.getType()?("string"==typeof e&&v(s)&&(e=e.replace(/\{#\}/g,"{__templateContext}")),e!=this.value&&t&&(t.detach(s,s.apply),t=null),e&&"path:"==String(e).substr(0,5)&&(t=E(e.substr(5))).attach(s,s.apply),t?t.bindingBridge.get(t):e):this.value})).id="{l10n:"+i+"}",a.url=n.getValueSource(r)+":"+r}return a}function c(e){if("string"==typeof e&&(e=m(e)),!e)return null;var t=l(e),n=t.id,r=x[n];return r||(r=x[n]=new j(t)),r}var f=r.document,p=r.Node,h=n.string.camelize,d=n.require("./7.js").isMarkupToken,v=n.require("./7.js").isTokenHasPlaceholder,m=n.require("./7.js").token,T=n.require("./9.js").getFunctions,g=n.require("./1.js"),y=g.TemplateSwitchConfig,b=g.TemplateSwitcher,_=g.Template,E=g.get,N=n.require("./b.js"),k=n.require("./2.js").CLONE_NORMALIZATION_TEXT_BUG,I=!!function(){try{return f.documentElement.style.color="x"}catch(e){}}(),x={},A={},S=function(){function e(e){for(var t=e.startMarker,n=e.endMarker,r=t.nextSibling;r&&r!==n;){var i=r;r=r.nextSibling,e.appendChild(i)}return n.parentNode.removeChild(n),e.startMarker=null,e.endMarker=null,t}function t(e,t,r,i){var a=r||"";if(a!=t){var s,o=e.className,u="string"!=typeof o;u&&(o=o.baseVal),s=o.split(l),t&&n.array.remove(s,t),a&&(s.push(a),i&&(n.array.add(s,a+"-anim"),n.nextTick(function(){var t=(u?e.className.baseVal:e.className).split(l);n.array.remove(t,a+"-anim"),u?e.className.baseVal=t.join(" "):e.className=t.join(" ")}))),u?e.className.baseVal=s.join(" "):e.className=s.join(" ")}return a}function i(){this.set(this.name,this.value)}function a(e,t,n){var r=t&&t.bindingBridge,a=this.attaches&&this.attaches[e],s=null;if(r||a)if(r){var o;if(d(t)&&(o=c(t)),a&&a.value===t&&a.template===o)s=t&&d(t)?a.tmpl:null;else{if(a&&(a.tmpl&&a.template.clearInstance(a.tmpl),a.value.bindingBridge.detach(a.value,i,a)),o){var u=this.context,l=this.bindings,f=this.action,p=this.bindingInterface;(s=o.createInstance(u,f,function e(){(s=h.tmpl=o.createInstance(u,f,e,l,p)).parent=s.element.parentNode||s.element,i.call(h)},l,p)).parent=s.element.parentNode||s.element}this.attaches||(this.attaches=new n);var h=this.attaches[e]={name:e,value:t,template:o,tmpl:s,set:this.tmpl.set};r.attach(t,i,h)}if(s)return s.set("__templateContext",t.value),s.parent;t=r.get(t)}else a&&(a.tmpl&&a.template.clearInstance(a.tmpl),a.value.bindingBridge.detach(a.value,i,a),this.attaches[e]=null);return t}function s(e,t){var n=e[0],r=e[1],i=t[n],a=t[r];switch(e.length){case 1:return function(e){this(n,i(e))};case 2:return function(e){this(n,i(e)),this(r,a(e))};default:var s=e.map(function(e){return t[e]});return function(t){for(var n=0;n<e.length;n++)this(e[n],s[n](t))}}}function o(e,t){for(var n in e)e[n]=s(e[n],t);return n?e:null}function u(e){var t={};return function(n,r){var i=n.bindings;if(!i)return{};var a="bindingId"in i?i.bindingId:null,u=t[a];if(!u){for(var l,c=[],f={},p={},h=0;l=e[h];h++){var d=i[l],v=d&&d.getter;if(v&&(f[l]=v,c.push(l),d.events))for(var m,T=String(d.events).trim().split(/\s+|\s*,\s*/),g=0;m=T[g];g++)p[m]?p[m].push(l):p[m]=[l]}u={names:c,sync:s(c,f),handler:o(p,f)},a&&(t[a]=u)}return r&&u.sync.call(r,n.context),n.bindingInterface?(u.handler&&n.bindingInterface.attach(n.context,u.handler,r),u.handler):void 0}}var l=/\s+/,v=r.DOMTokenList&&f&&f.documentElement.classList instanceof r.DOMTokenList,g=function(){try{return f instanceof p}catch(e){}}()||!1?function(t,n,r,i){var a=!i&&r&&r instanceof p?r:t;return a!==n&&(11!==a.nodeType||a.startMarker||(a.startMarker=f.createTextNode(""),a.endMarker=f.createTextNode(""),a.insertBefore(a.startMarker,a.firstChild),a.appendChild(a.endMarker)),11===n.nodeType&&n.startMarker&&(n=e(n)),n.parentNode.replaceChild(a,n)),a}:function(e,t,n,r){var i=!r&&n&&"object"==typeof n?n:e;if(i!==t)try{t.parentNode.replaceChild(i,t)}catch(n){t!==(i=e)&&t.parentNode.replaceChild(i,t)}return i},y=function(e,t,n,r){return n!==r&&(r?e.setAttribute(t,r):e.removeAttribute(t)),r},b={bind_textNode:function(e,t,n,r){var i=g(e,t,n,r);return i===e&&(e.nodeValue=String(n)),i},bind_node:g,bind_element:function(e,t,n,r){var i=g(e,t,n,r);return i===e&&"string"==typeof n&&(e.innerHTML=n),i},bind_comment:g,bind_attr:y,bind_attrNS:function(e,t,n,r,i){return r!==i&&(i?e.setAttributeNS(t,n,i):e.removeAttributeNS(t,n)),i},bind_attrClass:v?function(e,r,i,a){if(!e.classList)return t(e,r,i,a);var s=i||"";return s!=r&&(r&&e.classList.remove(r),s&&(e.classList.add(s),a&&(e.classList.add(s+"-anim"),n.nextTick(function(){e.classList.remove(s+"-anim")})))),s}:t,bind_attrStyle:I?function(e,t,n,r){return n!==r&&(e.style[h(t)]=r),r}:function(e,t,n,r){if(n!==r)try{e.style[h(t)]=r}catch(e){}return r},resolve:a,l10nToken:m};return function(e,t){var r,i,s=T(e,!0,this.source.url,e.source_,!k),o=s.createL10nSync,l={},c=[],f=[],p=0,h={cloneNode:function(){if(1==p)return N(e);if(h=N(e),o){i=s.createL10nSync(h,l,y,k);for(var t,n=0;t=c[n];n++)i(t.path,l[t.path])}return h.cloneNode(!0)}};if(o){var v=function(e){for(var t,n=0;t=c[n];n++)e(t.path,l[t.path])},g=function(e){var r=d(this.token);r?n.array.add(f,this):n.array.remove(f,this),l[this.path]=r?void 0:null==e?"{"+this.path+"}":e,i&&i(this.path,l[this.path]);for(var a in t)t[a].tmpl.set(this.path,r?this.token:e)};c=s.l10nKeys.map(function(e){var t=m(e),n={path:e,token:t,handler:g};return t.attach(g,n),d(t)?f.push(n):l[e]=null==t.value?"{"+e+"}":t.value,n})}return r=s.createInstanceFactory(this.templateId,function(){return h.cloneNode(!0)},b,l,f,u(s.keys),k),{createInstance:function(e,n,i,a,s){var o=p++,u={context:e,action:n,rebuild:i,handler:null,bindings:a,bindingInterface:s,attaches:null,compute:null,tmpl:null};return r(o,u,o?null:v),t[o]=u,u.tmpl},destroyInstance:function(e){var n=e.templateId_,r=t[n];if(r){if(r.handler&&r.bindingInterface.detach(r.context,r.handler,r.tmpl.set),r.compute){for(var i=0;i<r.compute.length;i++)r.compute[i].destroy();r.compute=null}for(var s in r.attaches)a.call(r,s,null);delete t[n]}},destroy:function(e){for(var n,r=0;n=c[r];r++)n.token.detach(n.handler,n);for(var o in t){var u=t[o];if(e&&u.rebuild&&u.rebuild.call(u.context),!e||o in t){u.handler&&u.bindingInterface.detach(u.context,u.handler,u.tmpl.set);for(var o in u.attaches)a.call(o,null)}}s=null,h=null,l=null,c=null,i=null,t=null}}}}(),j=_.subclass({className:"basis.template.html.Template",__extend__:function(e){return e instanceof j?e:e instanceof y?new R(e):new j(e)},builder:S}),R=b.subclass({className:"basis.template.html.TemplateSwitcher",templateClass:j});t.exports={Template:j,TemplateSwitcher:R}},"7.js":function(e,t,n,r,i,a,s,o,u){function l(e,t){return e=x(e,t)}function c(e){return l(o(e).get(!0),e)||{}}function f(e,t){function n(){Y[e].update(p(c(e),t))}return{url:t,activate:function(){o(t).attach(n)},deactivate:function(){o(t).detach(n)}}}function p(e,t){function n(e){return e&&"[object Object]"==Object.prototype.toString.call(e)}function r(e,i,a,s){a&&(a+=".");for(var o in i)n(i[o])?e[o]=r(n(e[o])?e[o]:{},i[o],a+o,s):(s[a+o]=t,e[o]=i[o]);return e}var i,a=c(t);for(var s in a)"_meta"!=s&&"_locationMap"!=s?(A.call(e,s)?e[s]._meta||(e[s]._meta={}):e[s]={_meta:{source:{}}},i={},e[s]._meta.source={},r(e[s],a[s],"",i),e[s]._meta.source=i):(n(e[s])||(e[s]={}),r(e[s],a[s],"",{}));return e}function h(e){return!!e&&(e instanceof P||e instanceof M)}function d(e,t,r){var i=t?t+".":"",a=r.types[t]||"default";for(var s in e)if((""!=t||"_meta"!=s)&&-1==s.indexOf(".")&&A.call(e,s)){var o=i+s,u=r.types[o]||U[a]||"default",l=e[s],c=u in w||a in w;r.values[o]={placeholder:c,processName:c?B:n.fn.$self,source:r.source[o]||r.dictionary.id,culture:r.culture,name:o,types:r.types,value:l},o in r.types==0&&(r.types[o]=u),l&&("object"==typeof l||Array.isArray(l))&&d(l,o,r)}return r.values}function v(e){var t=e._meta&&e._meta.type||{},n={};for(var r in t)t[r]in L&&(n[r]=t[r]);return n}function m(e){return e._meta&&e._meta.source||{}}function T(e,t){var r;if("string"==typeof e){var i=e,a=n.path.extname(i);".l10n"!=a&&(i=i.replace(new RegExp(a+"([#?]|$)"),".l10n$1")),e=n.resource(i)}return n.resource.isResource(e)&&(r=Y[e.url]),r||new V(e,t)}function g(e){return T(e)}function y(e,t){return e&&!$[e]&&($[e]=new K(e,t)),$[e||F]}function b(e){if(e&&F!=e){if(-1==q.indexOf(e))return;F=e;for(var t,n=0;t=D[n];n++)t.syncValues();S.call(y,e)}}function _(e){if("string"==typeof e&&(e=e.trim().split(" ")),e.length){var t,r,i={};G={};for(var a,s=0;a=e[s];s++)(t=a.split("/")).length>2&&(t=[t[0],t[1]]),o=t[0],r||(r=o),i[o]=y(o),G[o]=t;for(var o in G)G[o]=n.array.flatten(G[o].map(function(e){return G[e]})).concat(r).filter(function(e,t,n){return!t||-1==n.lastIndexOf(e,t-1)});q=n.object.keys(i),F in i==0&&b(r)}}var E=n.object.extend,N=n.object.complete,k=n.Class,I=n.require("./8.js").Emitter,x=n.resource.extensions[".json"],A=Object.prototype.hasOwnProperty,S=n.Token.prototype.set;n.resource.extensions[".l10n"]=function(e,t){return e=l(e,t),j[t]&&p(e,j[t].url),T(t,!0).update(e)};var j=function(){var e,t=n.config.l10n||{},r=t&&t.patch,i={};if(t.patch={},r){if("string"==typeof r)try{e=n.path.dirname(n.resource.resolveURI(r)),r=n.resource(r).fetch()}catch(e){}for(var a in r){var s=n.resource.resolveURI(a,e),o=n.resource.resolveURI(r[a],e);i[s]=f(s,o)}}return i}(),R=[],C={},O={placeholder:!1,processName:n.fn.$self,value:void 0,types:{}},L={default:!0,plural:!0,markup:!0,"plural-markup":!0,"enum-markup":!0},w={plural:!0,"plural-markup":!0},U={default:"default",plural:"default",markup:"default","plural-markup":"markup","enum-markup":"markup"},B=function(e){return this.culture.plural(e)},M=k(n.Token,{className:"basis.l10n.ComputeToken",token:null,init:function(e){this.token.computeTokens[this.basisObjectId]=this,n.Token.prototype.init.call(this,e)},toString:function(){return this.get()},get:function(){var e=this.token.dictionary.getValue(this.getName());return this.token.descriptor.placeholder&&(e=String(e).replace(/\{#\}/g,this.value)),e},getName:function(){return this.token.name+"."+this.token.descriptor.processName(this.value)},getType:function(){return this.token.descriptor.types[this.getName()]||"default"},getDictionary:function(){return this.token.getDictionary()},destroy:function(){delete this.token.computeTokens[this.basisObjectId],n.Token.prototype.destroy.call(this)}}),P=k(n.Token,{className:"basis.l10n.Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,computeTokenClass:null,init:function(e,t,r){n.Token.prototype.init.call(this,r.value),this.index=R.push(this)-1,this.name=t,this.dictionary=e,this.descriptor=r,this.computeTokens={}},toString:function(){return this.get()},apply:function(){for(var e in this.computeTokens)this.computeTokens[e].apply();n.Token.prototype.apply.call(this)},set:function(){},getName:function(){return this.name},getType:function(){return this.descriptor.types[this.name]||"default"},setType:function(){},compute:function(e,t){1==arguments.length&&(t=e,e=""),t=n.getter(t),e=String(e).trim().split(/\s+|\s*,\s*/).sort();var r=this.basisObjectId,i=e.concat(r,t[n.getter.ID]).join("_");if(C[i])return C[i];for(var a,s=this,o={},u={destroy:function(e){delete o[e.basisObjectId],this.destroy()}},l=0;a=e[l];l++)"destroy"!=a&&(u[a]=function(e){S.call(this,t(e))});return C[i]=function(e){if(e instanceof I==0)throw"basis.l10n.Token#compute: object must be an instanceof Emitter";var n=e.basisObjectId,r=o[n];return r||(r=o[n]=s.computeToken(t(e)),e.addHandler(u,r)),r}},computeToken:function(e){var t=this.computeTokenClass;return t||(t=this.computeTokenClass=M.subclass({token:this})),new t(e)},token:function(e){return this.getType()in w?this.computeToken(e):this.dictionary?this.dictionary.token(this.name+"."+e):void 0},getDictionary:function(){return this.dictionary},destroy:function(){for(var e in this.computeTokens)this.computeTokens[e].destroy();this.descriptor=null,this.computeTokenClass=null,this.computeTokens=null,this.value=null,this.dictionary=null,R[this.index]=null,n.Token.prototype.destroy.call(this)}}),D=[],Y={},z=new n.Token,V=k(null,{className:"basis.l10n.Dictionary",cultureValues:null,tokens:null,index:NaN,resource:null,id:null,init:function(e,t){if(this.tokens={},this.cultureValues={},this.index=D.push(this)-1,n.resource.isResource(e)){var r=e,i=r.url;this.id=i,this.resource=r,Y[i]||(Y[i]=this,z.set(i),j[i]&&j[i].activate()),t||r.fetch()}else this.id="dictionary"+this.index,this.update(e||{})},update:function(e){e||(e={}),this.cultureValues={};var t=v(e);for(var n in e)/^_|_$/.test(n)||(this.cultureValues[n]=d(e[n],"",{dictionary:this,culture:y(n),source:m(e[n]),types:N(v(e[n]),t),values:{}}));return this.syncValues(),this},syncValues:function(){for(var e in this.tokens){var t=this.tokens[e],n=this.getDescriptor(e)||O,r=t.getType();t.descriptor=n,t.value!==n.value?S.call(t,n.value):t.getType()!=r&&t.apply()}},getCultureDescriptor:function(e,t){return this.cultureValues[e]&&this.cultureValues[e][t]},getDescriptor:function(e){for(var t,n=G[F]||[],r=0;t=n[r];r++){var i=this.getCultureDescriptor(t,e);if(i)return i}},getCultureValue:function(e,t){var n=this.getCultureDescriptor(e,t);if(n)return n.value},getValue:function(e){var t=this.getDescriptor(e);if(t)return t.value},getValueSource:function(e){var t=this.getDescriptor(e);return t?t.source:this.id},token:function(e){var t=this.tokens[e];if(!t){var n=this.getDescriptor(e)||O;t=this.tokens[e]=new P(this,e,n)}return t},destroy:function(){if(this.tokens=null,this.cultureValues=null,n.array.remove(D,this),this.resource){var e=this.resource.url;j[e]&&j[e].deactivate(),delete Y[e],this.resource=null}}}),q=[],F=null,$={},G={},H={},X=[[1,function(){return 0}],[2,function(e){return 1==e||e%10==1?0:1}],[2,function(e){return 0==e?0:1}],[2,function(e){return 1==e?0:1}],[2,function(e){return 0==e||1==e?0:1}],[2,function(e){return e%10!=1||e%100==11?1:0}],[3,function(e){return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:0!=e?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return 0==e?0:1==e?1:2}],[3,function(e){return 1==e?0:0==e||e%100>0&&e%100<20?1:2}],[3,function(e){return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return 1==e?0:e>=2&&e<=4?1:2}],[4,function(e){return 1==e?0:2==e?1:8!=e&&11!=e?2:3}],[4,function(e){return 1==e?0:2==e?1:3==e?2:3}],[4,function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0}],[4,function(e){return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3}],[4,function(e){return 1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3}],[5,function(e){return 1==e?0:2==e?1:e<7?2:e<11?3:4}],[6,function(e){return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5}]];["ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh","mk","jv","af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo","ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh","is","csb","lv","lt","be bs hr ru sr uk","mnk","ro","pl","cs sk","cy","kw","sl","mt","gd","ga","ar"].forEach(function(e,t){e.split(" ").forEach(function(e){H[e]=this},X[t])});var K=n.Class(null,{className:"basis.l10n.Culture",name:"",pluralForm:null,init:function(e,t){this.name=e,$[e]||($[e]=this),this.pluralForm=t||H[e]||H[e.split("-")[0]]||X[0]},plural:function(e){return Number(this.pluralForm[1](Math.abs(parseInt(e,10))))}});E(y,new n.Token),y.set=b,_("en-US"),b("en-US"),t.exports={ComputeToken:M,Token:P,token:function(e){if("#"==e.charAt(0))return R[parseInt(e.substr(1),36)];var t=e.match(/^(.+?)@(.+)$/);return t?g(n.path.resolve(t[2])).token(t[1]):void 0},isToken:h,isPluralToken:function(e){return h(e)&&e.getType()in w},isMarkupToken:function(e){return h(e)&&"markup"==e.getType()},isTokenHasPlaceholder:function(e){return h(e)&&e.descriptor.placeholder},Dictionary:V,dictionary:g,getDictionaries:function(){return D.slice(0)},addCreateDictionaryHandler:z.attach.bind(z),removeCreateDictionaryHandler:z.detach.bind(z),Culture:K,culture:y,getCulture:function(){return F},setCulture:b,getCultureList:function(){return q.slice(0)},setCultureList:_,pluralForms:X,onCultureChange:function(e,t,n){y.attach(e,t),n&&e.call(t,F)}}},"8.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=p[e];return t||(t=function(){for(var t,n,r=this;r=r.handler;){if("function"==typeof(n=r.callbacks[e])){if(!t){t=[this];for(i=0;i<arguments.length;i++)t.push(arguments[i])}n.apply(r.context||this,t)}if("function"==typeof(n=r.callbacks["*"])){if(!t){t=[this];for(var i=0;i<arguments.length;i++)t.push(arguments[i])}n.call(r.context||this,{sender:this,type:e,args:t})}}},p[e]=t),t}var c=n.Class,f={},p={},h=function(){},d=function(){},v=c(null,{className:"basis.event.Emitter",extendConstructor_:!0,propertyDescriptors:c.customExtendProperty({basisObjectId:!0,propertyDescriptors:!1,handler:!1,listen:!1},function(e,t){for(var n in t){var r=t[n];!0===r||"<static>"==r?r={isStatic:!0}:!1===r?r={isPrivate:!0}:"string"==typeof r&&(r={events:r}),e[n]=r}}),handler:null,emit_destroy:l("destroy"),listen:c.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(e,t){t=t||this,this.handler={callbacks:e,context:t,handler:this.handler}},removeHandler:function(e,t){if(this.destroy!==d){var n,r=this;for(t=t||this;n=r,r=r.handler;)if(r.callbacks===e&&r.context===t)return r.callbacks=f,void(n.handler=r.handler)}},destroy:function(){this.destroy=h,this.emit_destroy(),this.handler=null,this.destroy=d}});t.exports={create:l,createHandler:function(e,t){var n={events:[]};if(e){n={events:e=String(e).trim().split(/\s+|\s*,\s*/).sort()};for(var r,i=0;r=e[i];i++)"destroy"!=r&&(n[r]=t)}return n},events:p,Emitter:v}},"9.js":function(e,t,n,r,i,a,s,o,u){function l(e,t){for(var n=[],r=0;r<e.length;r++)if(r<t)n.push(e[r]);else{var i=e[r];switch(i[N]){case v:n.push(l(i,j));break;case E:n.push.apply(n,l(i,R).slice(R));break;default:n.push(i)}}return n}function c(e,t){return new Function(e,t)}var f=Object.prototype.hasOwnProperty,p=n.require("./2.js"),h=n.require("./a.js"),d=p.MARKER,v=p.TYPE_ELEMENT,m=p.TYPE_ATTRIBUTE,T=p.TYPE_ATTRIBUTE_CLASS,g=p.TYPE_ATTRIBUTE_STYLE,y=p.TYPE_ATTRIBUTE_EVENT,b=p.TYPE_TEXT,_=p.TYPE_COMMENT,E=p.TYPE_CONTENT,N=p.TOKEN_TYPE,k=p.TOKEN_BINDINGS,I=p.TOKEN_REFS,x=p.ATTR_NAME,A=p.ATTR_NAME_BY_TYPE,S=p.ELEMENT_NAME,j=p.ELEMENT_ATTRIBUTES_AND_CHILDREN,R=p.CONTENT_CHILDREN,C=p.CLASS_BINDING_ENUM,O=p.CLASS_BINDING_BOOL,L=p.CLASS_BINDING_INVERT,w={},U=function(){try{return r.document.createTextNode("").x=1,!0}catch(e){return!1}}(),B=function(){function e(e,t){for(var n,r=0;n=e[r];r++)-1==n.indexOf(":")&&a.push(n+":"+t)}function t(e){var t=i.length,n=c[t]||"r"+t;return i.push(n+"="+e),n}function n(e){s.push(e)}function r(a,s,c){for(var f,p,h,m,E,R,C=0,O=0,L=0;R=a[C];C++,O++,m=!1)if(C?a[C+1]?(R[N]==a[C-1][N]&&R[N]==b&&L++,f=s+".childNodes["+(c?O:O+(L?" + "+L+" * TEXT_BUG":""))+"]"):f=s+".lastChild":f=s+".firstChild",(p=R[I])&&(m=!0,e(p,f=t(f))),R[k]&&(R[k]&&"number"==typeof R[k]&&(R[k]=R[I][R[k]-1]),m||(m=!0,f=t(f)),n([R[N],f,R[k],!!p&&-1!=p.indexOf("element")])),s!=u||!U&&R[N]!=v||o.push(f+"."+d),R[N]==v){h=-1,m||(f=t(f),h=i.length);for(var w,B=[],M=[],P=j;w=R[P];P++)w[N]==v||w[N]==b||w[N]==_?M.push(w):B.push(w);for(var D,P=0;D=B[P];P++){var Y=D[N];if(Y!=y){var z=A[Y]||D[x];if((p=D[I])&&(m=!0,e(p,t(f+'.getAttributeNode("'+z+'")'))),E=D[k])switch(m=!0,Y){case T:for(var V,q=0;V=E[q];q++)n([2,f,V[1],z,V[0]].concat(-1==V[2]?[]:V.slice(2)));break;case g:for(var F,q=0;F=E[q];q++){l++;for(var $=0;G=F[0][$];$++)n([2,f,G,z,F[0],F[1],F[2],F[3],l])}break;default:l++;for(var G,q=0;G=E[0][q];q++)n([2,f,G,z,E[0],E[1],R[S],l])}}}M.length&&r(M,f,c),m||h!=i.length||i.pop()}}var i,a,s,o,u,l,c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return function(e,t,n){return i=[],a=[],s=[],o=[],u=t||"_",l=0,r(e,u,n),{path:i,ref:a,binding:s,markedElementList:o}}}(),M=function(){function e(e){return'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}function t(t,n,i){for(var a,s,o=[],u=[],l=t[5],c=t[4],f=0;f<l.length;f++)if("string"==typeof l[f])o.push(e(l[f]));else if(a=c[l[f]],-1==(s=a.indexOf(":")))o.push("l10n"==n?'"{'+a+'}"':"bool"==n?"(__"+a+'||"")':"__"+a),n||u.push("__"+a+"!==UNSET&&__"+a+"!==undefined");else{var p=null,h=a.substr(s+1).replace(r,function(e,t){return p=t,""});if(p){if(!1===i)return!1;o.push(i[a.substr(s+1)]),n||u.push(i[a.substr(s+1)]+"!==undefined")}else o.push('l10n["'+h+'"]')}return 1==o.length&&o.push('""'),o=o.join("+"),!n&&u.length&&(o=u.join("&&")+"?("+o+'):""'),o}var r=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,i={disabled:"*",checked:["input"],indeterminate:["input"],value:["input","textarea","select"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},a={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0,indeterminate:!0},s={show:'"none"',visible:'"hidden"'},o={hide:'?"none":""',show:'?"":"none"',hidden:'?"hidden":""',visible:'?"":"hidden"'},u={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(l){function c(e){w[e]=!0,p.push(d+"="+e+"("+n.array(arguments,1)+");")}for(var p,d,T,g,y,_={},E=0,N=[],k=[],I=[],A=[],S={},j=0,R={},w={},U=0;V=l[U];U++){if("l10n"==(q=(Y=V[2]).split(":"))[0]&&q[1]){var B=null,M=(G=q[1]).replace(r,function(e,t){return B=t,""});if(B){I.push(V),G in S==0&&(T="$l10n_"+j++,S[G]=T,A.push(T),N.push(T+'=tools.l10nToken("'+M+'").computeToken()'),(p=_[B])||(p=_[B]=[],N.push("__"+B+"=UNSET")),p.push(T+".set(__"+B+");"));continue}}k.push(V)}for(U=0;V=I[U];U++){var P=V[0],D=V[1],Y=V[2],z=V[3];if(Y=S[G=Y.split(":")[1]],d="_"+E++,T="__"+Y,(p=_[Y])||(p=_[Y]=[],N.push(T)),P==b)N.push(d+"="+D),c(u[P],D,d,"value",z);else{re=t(V,!1,S);R[y=V[7]]||(N.push(d),R[y]=d),d=R[y],c("bind_attr",D,H='"'+V[x]+'"',d,re)}}for(var V,U=0;V=k[U];U++){var P=V[0],D=V[1],Y=V[2],z=V[3];if(-1==["get","set","templateId_"].indexOf(Y)){var q=Y.split(":"),F="anim"==q[0],$="l10n"==q[0];if(F&&(Y=q[1]),p=f.call(_,Y)?_[Y]:null,d="_"+E++,T="__"+Y,$&&q[1]){var G=q[1],B=null,M=G;if(g||(g={}),_[M]||(_[M]=[],_[M].l10n="$l10n_"+j++,N.push("__"+_[M].l10n+'=l10n["'+M+'"]'),g[M]=[]),p=_[M],P==b){g[M].push(D+".nodeValue=value;"),p.nodeBind?p.push(D+".nodeValue=value;"):(N.push(d+"="+D),c(u[P],D,d,"value",z),p.nodeBind=d);continue}!1!==(re=t(V,"l10n",!1))&&g[M].push("bind_attr("+[D,'"'+V[x]+'"',"NaN",re]+");")}if(p||(p=_[Y]=[],N.push(T+"=UNSET")),P!=m)if(p.nodeBind)switch(P){case v:c(u[P],D,D,"value!==null?String(value):null");break;case b:p.push(D+".nodeValue=value;")}else N.push(d+"="+D),c(u[P],D,d,"value",z),p.nodeBind=d;else{var H=V[x];switch(H){case"role-marker":N.push(d+'=""'),c("bind_attr",D,'"'+H+'"',d,"value?value"+(V[5][1]?"+"+e(V[5][1]):"")+':""');break;case"class":var X="",K="value",Z=V[5],W=V[7];switch(Z){case O:case L:var J=[V[6]],Q=V[4],ee=Array.isArray(Q)?Q:J.map(function(e){return Q+e});K=(Z==L?"!":"")+'value?"'+ee[0]+'":""',W&&(X=ee[W-1]);break;case C:var J=V[8],Q=V[4],ee=Array.isArray(Q)?Q:J.map(function(e){return Q+e});K=J.map(function(e,t){return'value=="'+e+'"?"'+ee[t]+'"'}).join(":")+':""',W&&(X=ee[W-1]);break;default:K='typeof value=="string"||typeof value=="number"?"'+(Q=V[4])+'"+value:(value?"'+Q+Y+'":"")'}N.push(d+'="'+X+'"'),c("bind_attrClass",D,d,K,F);break;case"style":re=t(V,"style",S);R[y=V[8]]||(R[y]=d,N.push(d+"="+(s[V[7]]||'""'))),V[7]&&(re=re.replace(/\+""$/,"")+(o[V[7]]||"")),d=R[y],c("bind_attrStyle",D,'"'+V[6]+'"',d,re);break;default:var te=i[H],ne=V[6].toLowerCase(),re=te&&a[H]?t(V,"bool",S)+'?"'+H+'":""':t(V,!1,S);if(y=V[7],R[y]||(N.push(d+"=UNSET"),R[y]=d),d=R[y],"tabindex"==H)c("bind_attr",D,'"'+H+'"',d,re+"==-1?"+(-1==["input","button","textarea"].indexOf(ne)?'""':"-1")+":"+re);else{var ie=h.getNamespace(H);ie?c("bind_attrNS",D,'"'+ie+'"','"'+H+'"',d,re):c("bind_attr",D,'"'+H+'"',d,re)}!te||"*"!=te&&-1==te.indexOf(ne)||p.push("if("+D+"."+H+"!="+d+")"+D+"."+H+"="+(a[H]?"!!"+d:d)+";")}}}}var ae=n.object.keys(_),se="";if(ae.length){w.resolve=!0,se=[";function set(bindName,value){",'if(typeof bindName!="string")'];for(var Y in _)_[Y].nodeBind&&se.push("if(bindName==="+_[Y].nodeBind+')bindName="'+Y+'";else ');se.push("return;","value=resolve.call(instance,bindName,value,Attaches);","switch(bindName){");for(var Y in _){var oe=_[Y].l10n||Y;se.push('case"'+Y+'":',"if(__"+oe+"!==value)","{","__"+oe+"=value;",_[Y].join(""),"}","break;")}se=se.join("")+"}}"}var ue=[];for(var le in w)ue.push(le+"=tools."+le);return{allKeys:ae,keys:ae.filter(function(e){return-1==e.indexOf("@")}),tools:ue,vars:N,set:se,l10n:g,l10nCompute:A}}}();t.exports={getFunctions:function(e,t,r,i,a){var s=w[r&&n.path.relative(r)];if(s)return s;e=l(e,0);var o=B(e,"_",a),u=M(o.binding),f=o.markedElementList.join("="),p={keys:u.keys,l10nKeys:n.object.keys(u.l10n)};if(1==e.length&&(o.path[0]="a=_"),u.l10n){var h=[];for(var d in u.l10n)h.push('case"'+d+'":'+u.l10n[d].join("")+"break;");p.createL10nSync=c(["_","l10n","bind_attr","TEXT_BUG"],"var "+o.path+";return function(path, value){switch(path){"+h.join("")+"}}")}return p.createInstanceFactory=c(["tid","createDOM","tools","l10nMap","l10nMarkup","getBindings","TEXT_BUG"],"var UNSET={valueOf:function(){}},"+(u.tools.length?u.tools+",":"")+(u.set?"Attaches=function(){};Attaches.prototype={"+u.keys.map(function(e){return e+":null"})+"};":"set=function(){};")+"return function createTmpl_(id,instance,initL10n){var _=createDOM(),"+(u.l10n?"l10n=initL10n?{}:l10nMap,":"")+o.path.concat(u.vars)+(u.l10nCompute.length?";instance.compute=["+u.l10nCompute+"]":"")+";instance.tmpl={"+[o.ref,"templateId_:id","set:set"]+"}"+(f?";if(instance.context||instance.onAction)"+f+"=(id<<12)|tid":"")+u.set+(u.l10n?";if(initL10n){l10n=l10nMap;initL10n(set)};if(l10nMarkup.length)for(var idx=0,token;token=l10nMarkup[idx];idx++)set(token.path,token.token);":"")+(u.set?";if(instance.bindings)instance.handler=getBindings(instance,set)":"")+";"+u.l10nCompute.map(function(e){return'set("'+e+'",'+e+")"})+"}"),p}}},"a.js":function(e,t,n,r,i,a,s,o,u){var l={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t.exports={namespaceURI:l,getNamespace:function(e,t){if(e){var n=e.indexOf(":");if(-1!=n){var r=e.substr(0,n);return l[r]||t&&t.lookupNamespaceURI(r)}}}}},"b.js":function(e,t,n,r,i,a,s,o,u){function l(e){return function(t){if("click"!=t.type||3!=t.which){for(var n,r=K[t.type]||"mouseenter"!=t.type&&"mouseleave"!=t.type,i=t.path.slice(0,t.path.length-1),a=i.shift();a&&(n=a.getAttribute&&a.getAttribute(e),r&&"string"!=typeof n);)a=i.shift();if("string"==typeof n){var s,o,u=a,l=u;if(K[t.type]){var c=t.relatedTarget;c&&(u===c||d(u,c))&&(u=null)}for(;u&&("number"!=typeof(s=u[_])||!(o=g(s)));)u=i.shift();for(var f,p=n.trim().split(/\s+/),h=o&&o.action,v=0;f=p[v++];)switch(f){case"prevent-default":t.preventDefault();break;case"stop-propagation":t.stopPropagation();break;case"log-event":break;default:h&&(t.actionTarget=l,h.call(o.context,f,t))}}t.type in X&&X[t.type](t,a)}}}function c(e,t){f(t),K[e]=!0,X[t]=function(t){(t=new T.Event(t)).type=e,H[e](t)},X[e]=function(t,n){n&&n.parentNode&&((t=new T.Event(t)).type=e,t.sender=n.parentNode,H[e](t))}}function f(e){if(!m.call(H,e)&&(H[e]=l("event-"+e),!G)){if(!$){if("mouseenter"==e)return c(e,"mouseover");if("mouseleave"==e)return c(e,"mouseout")}for(var t,n=0,r=T.browserEvents(e);t=r[n];n++)T.addGlobalHandler(t,H[e])}}function p(e,t,n){f(t),Z&&-1!=W.indexOf(t)&&e.setAttribute("style","cursor:pointer;"+(e.getAttribute("style")||"")),G&&e.setAttribute("on"+t,G+'("'+t+'",event)'),e.setAttribute("event-"+t,n)}function h(e,t,n){if(J&&"class"==t&&(t="className"),Q&&"style"==t)return e.style.cssText=n;var r=b.getNamespace(t,e);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}var d,v=r.Node,m=Object.prototype.hasOwnProperty,T=n.require("./c.js"),g=n.require("./4.js").resolveActionById,y=n.require("./2.js"),b=n.require("./a.js"),_=y.MARKER,E=y.CLONE_NORMALIZATION_TEXT_BUG,N=y.TYPE_ELEMENT,k=y.TYPE_ATTRIBUTE,I=y.TYPE_ATTRIBUTE_CLASS,x=y.TYPE_ATTRIBUTE_STYLE,A=y.TYPE_ATTRIBUTE_EVENT,S=y.TYPE_TEXT,j=y.TYPE_COMMENT,R=y.TYPE_CONTENT,C=y.TOKEN_TYPE,O=y.TOKEN_BINDINGS,L=y.TOKEN_REFS,w=y.ATTR_NAME,U=y.ATTR_VALUE,B=y.ATTR_VALUE_INDEX,M=y.ELEMENT_NAME,P=y.ELEMENT_ATTRIBUTES_AND_CHILDREN,D=y.CONTENT_CHILDREN,Y=y.TEXT_VALUE,z=y.COMMENT_VALUE,V=y.CLASS_BINDING_ENUM,q=y.CLASS_BINDING_BOOL,F=y.CLASS_BINDING_INVERT,$="onmouseenter"in document.documentElement,G=!1,H={},X={},K={},Z="ontouchstart"in document.documentElement,W=["mouseover","mouseup","mousedown","mousemove","click","dblclick"];d=v&&!v.prototype.contains?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e.contains(t)},document.addEventListener||(G=n.publicCallback(function(e,t){T.fireEvent(document,e),t.returnValue=!0;var n=H[e];n&&n(new T.Event(t))},!0));var J=function(){var e=document.createElement("div");return e.setAttribute("class","a"),!e.className}(),Q=function(){var e=document.createElement("div");return e.setAttribute("style","position:absolute"),"absolute"!=e.style.position}(),ee=function(e,t,n){for(var r,i=t;r=e[i];i++){var a=r[C];switch(a){case N:var s=r[M],o=b.getNamespace(s),u=o?document.createElementNS(o,s):document.createElement(s);ee(r,P,u),n.appendChild(u);break;case R:ee(r,D,n);break;case k:r[O]||h(n,r[w],r[U]||"");break;case I:if(v=(v=r[B[a]])?[v]:[],r[O])for(var l,c=0;l=r[O][c];c++){var f=l[4];if(f){var d=l[0];if(Array.isArray(d))v.push(d[f-1]);else switch(l[2]){case q:case F:v.push(d+l[3]);break;case V:v.push(d+l[5][f-1])}}}v.length&&h(n,"class",v.join(" "));break;case x:var v=r[B[a]];v&&h(n,"style",(n.getAttribute("style")||"")+v);break;case A:p(n,r[1],r[2]||r[1]);break;case j:n.appendChild(document.createComment(r[z]||(r[L]?"{"+r[L].join("|")+"}":"")));break;case S:E&&i&&e[i-1][C]==S&&n.appendChild(document.createComment("")),n.appendChild(document.createTextNode(r[Y]||(r[L]?"{"+r[L].join("|")+"}":"")||(r[O]?"{"+r[O]+"}":"")))}}return n};t.exports=function(e){var t=ee(e,0,document.createDocumentFragment());return 1===t.childNodes.length&&(t=t.removeChild(t.firstChild)),t}},"c.js":function(e,t,n,r,i,a,s,o,u){function l(e){var t=[];do{t.push(e)}while(e=e.parentNode);return t.push(r),t}function c(e){return e instanceof Z?e.event_:e||r.event}function f(e){return"string"==typeof e?B.getElementById(e):e}function p(e){var t=e.target||e.srcElement||B;return 3==t.nodeType?t.parentNode:t}function h(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function d(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function v(e,t){(t=f(t))?R(t,e,v):(d(e),h(e))}function m(e){return e.keyCode||e.which||0}function T(e){return e.charCode||e.keyCode||0}function g(e,t){return"number"==typeof e.which?e.which==t.VALUE:!!(e.button&t.BIT)}function y(e){return"pageX"in e?e.pageX:"clientX"in e?e.clientX+("CSS1Compat"==B.compatMode?B.documentElement.scrollLeft:B.body.scrollLeft):0}function b(e){return"pageY"in e?e.pageY:"clientY"in e?e.clientY+("CSS1Compat"==B.compatMode?B.documentElement.scrollTop:B.body.scrollTop):0}function _(e){if(e.changedTouches)return e.changedTouches[0].pageX}function E(e){if(e.changedTouches)return e.changedTouches[0].pageY}function N(e){var t=0;return"deltaY"in e?t=-e.deltaY:"wheelDelta"in e?t=e.wheelDelta:"DOMMouseScroll"==e.type&&(t=-e.detail),t&&t/Math.abs(t)}function k(e){ee&&e!==w&&(w=e,n.codeFrame.start())}function I(e){ee&&e!==U&&(U=e,n.codeFrame.finish())}function x(e){var t=D(W[e.type]),n=J[e.type],r=new Z(e);if(k(e),n)n.handler.call(n.thisObject,r);else if(t)for(var i=t.length;i-- >0;){var a=t[i];a.handler.call(a.thisObject,r)}I(e)}function A(e){var t=J[e];t&&(j(e,t.handler,t.thisObject),delete J[e])}function S(e,t,n){var r=W[e];if(r){for(var i,a=0;i=r[a];a++)if(i.handler===t&&i.thisObject===n)return}else Q?R(B,e,P):B.addEventListener(e,x,!0),r=W[e]=[];r.push({handler:t,thisObject:n})}function j(e,t,n){var r=W[e];if(r)for(var i,a=0;i=r[a];a++)if(i.handler===t&&i.thisObject===n)return r.splice(a,1),void(r.length||(delete W[e],Q?C(B,e,P):B.removeEventListener(e,x,!0)))}function R(e,t,n,i){if(!(e=f(e)))throw"basis.event.addHandler: can't attach event listener to undefined";if("function"!=typeof n)throw"basis.event.addHandler: handler is not a function";var a=e===r?Y:e[z];a||(a=e[z]={});var s=a[t],o={handler:n,thisObject:i};if(s){for(var u,l=0;u=s[l];l++)if(u.handler===n&&u.thisObject===i)return;s.push(o)}else(s=a[t]=[o]).fireEvent=function(e){if(e=c(e),Q&&e&&W[t]&&void 0===e.returnValue){if(x(e),!0===e.cancelBubble)return;void 0===e.returnValue&&(e.returnValue=!0)}k(e);for(var n,r=0,i=new Z(e);n=s[r++];)n.handler.call(n.thisObject,i);I(e)},V?e.addEventListener(t,s.fireEvent,!1):e.attachEvent("on"+t,s.fireEvent)}function C(e,t,n,i){var a=(e=f(e))===r?Y:e[z];if(a){var s=a[t];if(s)for(var o,u=0;o=s[u];u++)if(o.handler===n&&o.thisObject===i)return s.splice(u,1),void(s.length||O(e,t))}}function O(e,t){var n=(e=f(e))===r?Y:e[z];if(n)if("string"!=typeof t)for(t in n)O(e,t);else{var i=n[t];i&&(e.removeEventListener?e.removeEventListener(t,i.fireEvent,!1):e.detachEvent("on"+t,i.fireEvent),delete n[t])}}function L(e){return function(t,n){return e(c(t),n)}}var w,U,B=r.document,M=n.object.extend,P=n.fn.$null,D=n.array.from,Y={},z="basisEvents_"+n.genUID(),V=!!B.addEventListener,q={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},F={VALUE:1,BIT:1},$={VALUE:2,BIT:4},G={VALUE:3,BIT:2},H={mousewheel:["wheel","mousewheel","DOMMouseScroll"]},X=["returnValue","keyLocation","layerX","layerY","webkitMovementX","webkitMovementY","keyIdentifier"],K={keydown:0,keypress:0,keyup:0,click:1,dblclick:1,mousedown:1,mouseup:1,mouseover:1,mousemove:1,mouseout:1,mouseenter:1,mouseleave:1,wheel:1,mousewheel:1,DOMMouseScroll:1,touchstart:2,touchmove:2,touchend:2,touchcancel:2,pointerover:3,pointerenter:3,pointerdown:3,pointermove:3,pointerup:3,pointercancel:3,pointerout:3,pointerleave:3},Z=n.Class(null,{className:"basis.dom.event.Event",KEY:q,init:function(e){e=c(e);for(var t in e)-1==X.indexOf(t)&&("progress"!=e.type||"totalSize"!=t&&"position"!=t)&&"function"!=typeof e[t]&&t in this==0&&(this[t]=e[t]);var r=p(e);switch(M(this,{event_:e,sender:r,target:r,path:e.path?n.array(e.path):l(r)}),K[e.type]){case 0:M(this,{key:m(e),charCode:T(e)});break;case 1:M(this,{mouseLeft:g(e,F),mouseMiddle:g(e,$),mouseRight:g(e,G),mouseX:y(e),mouseY:b(e),wheelDelta:N(e),pointerX:y(e),pointerY:b(e)});break;case 2:M(this,{touchX:_(e),touchY:E(e),mouseX:_(e),mouseY:E(e),pointerX:_(e),pointerY:E(e)});break;case 3:M(this,{pointerX:y(e),pointerY:b(e),mouseX:y(e),mouseY:b(e)})}},stopBubble:function(){h(this.event_)},stopPropagation:function(){h(this.event_)},preventDefault:function(){d(this.event_)},die:function(){this.stopBubble(),this.preventDefault()}}),W={},J={},Q=!V,ee=!0,te={};t.exports={W3CSUPPORT:V,browserEvents:function(e){return H[e]||[e]},getEventInfo:function(e,t){t||(t="div");var n=t+"-"+e;if(te[n])return te[n];var r=!1,i=!1;if(!V){var a="on"+e,s=B.createElement("div"),o=s.appendChild(B.createElement(t));s[a]=function(){i=!0};try{o.fireEvent(a),r=!0}catch(e){}}return te[n]={supported:r,bubble:i}},KEY:q,MOUSE_LEFT:F,MOUSE_RIGHT:G,MOUSE_MIDDLE:$,Event:Z,sender:L(p),cancelBubble:L(h),cancelDefault:L(d),kill:L(v),key:L(m),charCode:L(T),mouseButton:L(g),mouseX:L(y),mouseY:L(b),wheelDelta:L(N),touchX:L(_),touchY:L(E),addGlobalHandler:S,removeGlobalHandler:j,captureEvent:function(e,t,r){J[e]&&A(e),t||(t=n.fn.$undef),S(e,t,r),J[e]={handler:t,thisObject:r}},releaseEvent:A,addHandler:R,addHandlers:function(e,t,n){e=f(e);for(var r in t)R(e,r,t[r],n)},removeHandler:C,clearHandlers:O,fireEvent:function(e,t,n){var i=(e=f(e))===r?Y:e[z];if(i&&i[t])try{ee=!1,i[t].fireEvent(n)}finally{ee=!0}},onUnload:function(e,t){n.teardown(e,t)},wrap:c}}};!function r(i,a,s){function o(e){function t(e){return Math.round(e).toString(36)}var n=t(10+25*Math.random());for(e||(e=16);n.length<e;)n+=t(new Date*Math.random());return n.substr(0,e)}function u(e,t){for(var n in t)e[n]=t[n];return e}function l(e,t){for(var n in t)n in e==0&&(e[n]=t[n]);return e}function c(e){var t=[];for(var n in e)t.push(n);return t}function f(e,t){var n={};if(!t)return u(n,e);for(var r,i=0;r=t[i++];)r in e&&(n[r]=e[r]);return n}function p(){for(var e={},t=0;t<arguments.length;t++)u(e,arguments[t]);return e}function h(e,t,n){var r=[];for(var i in e)r.push(t.call(n,i,e[i]));return r}function d(e){return e}function v(){}function m(e){"function"!=typeof e&&(e=L(e));var t=function(t){return e(t)};return t.factory=C,t}function T(e){var t=Z[e.url];if(t)for(var n=0;n<t.length;n++)t[n](e.get(),e.url)}function g(e,t,n){try{return new Function(t,'"use strict";\n'+n)}catch(t){U.error("Compilation error at "+e+("line"in t?":"+(t.line-1):"")+": "+t)}}function y(e){if(e in ie==0){var t=e.split("."),n=t.shift(),r=J(n+":"+t.join("/")+".js").replace(/\/\.js$/,".js");ie[e]=r,ae[r]=e}return ie[e]}function b(t){var n=re[t];return n||((n=re[t]=new oe(t)).namespaces_={},n.namespaces_[t]=n,V.noConflict||(k[t]=n)),"templates"!=t||e||(e=re[t]),n}function _(e){if(R.call(re,e))return re[e];for(var t=b((e=e.split("."))[0]),n=t,r=1;r<e.length;r++){var i=e[r],a=e.slice(0,r+1).join(".");if(!R.call(t.namespaces_,a)){var s=new oe(a);V.implicitExt&&(n[i]=s),t.namespaces_[a]=s}n=t.namespaces_[a]}return re[e.join(".")]=n,n}function E(e,t){if(null!=e){var n=e.length;if(void 0===n||"[object Function]"==j.call(e))return[e];if(t||(t=0),n-t>0){for(var r=[],i=0,a=t;a<n;)r[i++]=e[a++];return r}}return[]}function N(e,t,n){for(var r=[],i="function"==typeof t,a=0;a<e;a++)r[a]=i?t.call(n,a,r):t;return r}var k=Function("return this")(),I=k.process,x=k.document,A=k.location,S=!(k===i||!I||!I.argv)&&k,j=Object.prototype.toString,R=Object.prototype.hasOwnProperty,C={},O=function(){},L=function(){function e(t){var a,o,l,f=this;if("function"==typeof t||"string"==typeof t){if(a=n(t,f[s]),l=i+a[s],R.call(f,l))return f[l];"function"==typeof a[u]&&(a=a[u]),o=function(e){return a(f(e))}}else{var p=t;if(!p)return w;o=function(e){return p[f(e)]}}return o[s]=c++,o[u]=t,o.__extend__=r,o.as=e,l&&(f[l]=o),o}function t(e){return new Function("object","return object != null ? object."+e+" : object")}function n(n,i){var a,o=n;if(n&&"string"==typeof n){if(R.call(f,n))return f[n];o=f[n]=t(n)}return"function"!=typeof o?w:o.__extend__===r?o:R.call(o,i)?o[i]:(a=o[i]=o!==n?o:function(e){return o(e)},a[s]=c++,a[u]=n,a.__extend__=r,a.as=e,a)}function r(e,t){var r=e&&e!==w?n(e,a):w;return t||""===t?("string"==typeof t&&(t=de.formatter(t)),r.as(t)):r}var i="basisGetterId"+o()+"_",a=i+"root",s=i,u=i+"base",l=i+"parent",c=1,f={};return r.ID=s,r.SOURCE=u,r.PARENT=l,r}(),w=function(){var e=function(){};return e[L.ID]=L.ID+"nullGetter",e.__extend__=L,e.as=function(){return e},e}(),U=function(){var e=k.console,t={log:v,info:v,warn:v,error:v};return e&&h(t,function(n){t[n]="bind"in Function.prototype&&"function"==typeof e[n]?Function.prototype.bind.call(e[n],e):function(){Function.prototype.apply.call(e[n],e,arguments)}}),t}(),B=k.setImmediate||k.msSetImmediate,M=k.clearImmediate||k.msSetImmediate;B&&(B=B.bind(k)),M&&(M=M.bind(k)),B||function(){var e=function(){var e={},n=0;return B=function(r){if("function"==typeof r)return e[++n]={fn:r,args:E(arguments,1)},t(n),n},M=function(t){delete e[t]},function(t){var n=e[t];n&&(delete e[t],n.fn.apply(void 0,n.args)),P.process()}}(),t=function(t){setTimeout(function(){e(t)},0)};if(S&&S.process&&"function"==typeof I.nextTick)t=function(t){I.nextTick(function(){e(t)})};else{var n=k.postMessage&&!k.importScripts;if(n){var r=k.onmessage;k.onmessage=function(){n=!1},k.postMessage("","*"),k.onmessage=r}if(n){var i={},a=function(t){if(t&&t.source==k){var n=t.data;if(R.call(i,n)){var r=i[n];delete i[n],e(r)}}};k.addEventListener?k.addEventListener("message",a,!0):k.attachEvent("onmessage",a),t=function(e){var t=o(32);i[t]=e,k.postMessage(t,"*")}}else if(k.MessageChannel){var s=new k.MessageChannel;s.port1.onmessage=function(t){e(t.data)},t=function(e){s.port2.postMessage(e)}}else{var u=function(){return x.createElement("script")};if(x&&"onreadystatechange"in u()){var l=t;t=function n(r){void 0!==be&&(t=l,be.head.ready(function(){t=function(t){var n=u();n.onreadystatechange=function(){n.onreadystatechange=null,be.remove(n),n=null,e(t)},be.head.add(n)}})),t===n?l(r):t(r)}}}}}();var P=function(){function e(){try{i=!0;for(var e;e=r.shift();)e.fn.call(e.context)}finally{i=!1,r.length&&(n=B(t))}}function t(){n&&(n=M(n)),r.length&&e()}var n,r=[],i=!1,a=function(e,i){return r.push({fn:e,context:i}),n||(n=B(t)),!0};return a.process=function(){i||t()},a.schedule=function(e){function t(){var i=B(t);r=!1;for(var a in n){var s=n[a];delete n[a],e(s)}M(i),r||(n={})}var n={},r=!1;return{add:function(e){n[e.basisObjectId]=e,r||(r=a(t))},remove:function(e){delete n[e.basisObjectId]}}},a}(),D=function(){var e=0,t={id:e,start:function(){t.id=e++},finish:function(){P.process(),t.id="unknown"}};return t}(),Y=function(){var e,t,n,r=/^([^\/]+:|\/)/,i=/^[a-zA-Z0-9\-]+:\/?/,a=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,s=/[\?#].*$/;if(S){var o=(I.basisjsBaseURI||"/").replace(/\\/g,"/");e=o.replace(/^[^\/]*/,""),t=o.replace(/\/.*/,"")}else e=A.pathname.replace(/[^\/]+$/,""),t=A.protocol+"//"+A.host;return n={baseURI:e,origin:t,normalize:function(e){for(var t=[],n=(e=(e||"").replace(i,"/").replace(a,"/").replace(s,"")).split("/"),r=0;r<n.length;r++)".."==n[r]?(t.length>1||t[0])&&t.pop():!n[r]&&r||"."==n[r]||t.push(n[r]);return t.join("/")||("/"===e[0]?"/":"")},dirname:function(e){var t=n.normalize(e);return t.replace(/\/([^\/]*)$|^[^\/]+$/,"")||("/"==t[0]?"/":".")},extname:function(e){var t=n.normalize(e).match(/[^\/](\.[^\/\.]*)$/);return t?t[1]:""},basename:function(e,t){var r=n.normalize(e).match(/[^\\\/]*$/);return r=r?r[0]:"",t==n.extname(r)&&(r=r.substring(0,r.length-t.length)),r},resolve:function(){for(var t=E(arguments).reverse(),i=[],a=!1,s=0;!a&&s<t.length;s++)"string"==typeof t[s]&&(i.unshift(t[s]),a=r.test(t[s]));return a?i.length&&"/"==i[0]&&(i[0]=""):i.unshift("/"==e?"":e),n.normalize(i.join("/"))},relative:function(t,r){if("string"!=typeof r&&(r=t,t=e),t=n.normalize(t),r=n.normalize(r),"/"==t[0]&&"/"!=r[0])return t;if("/"==r[0]&&"/"!=t[0])return r;for(var i=t.replace(/^\/$/,"").split(/\//),a=r.replace(/^\/$/,"").split(/\//),s=[],o=0;a[o]==i[o]&&"string"==typeof i[o];)o++;for(var u=i.length-o;u>0;u--)s.push("..");return s.concat(a.slice(o).filter(Boolean)).join("/")}}}(),z=a||"",V=s||{noConflict:!0,implicitExt:!0,modules:{},autoload:["./0.js"]},q=function(){function e(e){return"function"==typeof e&&!!e.basisClassId_}function t(e){for(var t=this;t&&t!==e;)t=t.superClass_;return t===e}function n(o){var c=a++;"function"!=typeof o&&(o=l);var f=function(){};f.prototype=o.prototype;for(var h,d=new f,v={basisClassId_:c,superClass_:o,extendConstructor_:!!o.extendConstructor_,isSubclassOf:t,subclass:function(){return n.apply(null,[g].concat(E(arguments)))},extend:r,factory:function(e){return m(function(t){return new g(p(e,t))})},__extend__:function(t){return t&&t!==s&&("object"==typeof t||"function"==typeof t&&!e(t))?l.create.call(null,g,t):t},prototype:d},T=1;h=arguments[T];T++)v.extend(h);var g=v.extendConstructor_?function(e){this.basisObjectId=i.id++;var t;for(var n in e)t=this[n],this[n]=t&&t.__extend__?t.__extend__(e[n]):e[n];this.init(),this.postInit()}:function(){this.basisObjectId=i.id++,this.init.apply(this,arguments),this.postInit()};d.constructor=g;for(var y in d)d[y]===s&&(d[y]=g);return u(g,v),g}function r(t){var n=this.prototype;"function"!=typeof t||e(t)||(t=t(this.superClass_.prototype,f(n))),t.prototype&&(t=t.prototype);for(var r in t){var i=t[r],a=n[r];"className"==r||"extendConstructor_"==r?this[r]=i:a&&a.__extend__?n[r]=a.__extend__(i):n[r]=i}return o&&t[r="toString"]!==j&&(n[r]=t[r]),this}var i={id:1},a=1,s={},o=function(){for(var e in{toString:1})return!1;return!0}(),l=u(n,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var e in this)R.call(this,e)&&(this[e]=null);this.destroy=v}}}),c=function(e,t){return{__extend__:function(e){if(!e)return e;if(e&&e.__extend__)return e;var n=function(){};n.prototype=this;var r=new n;return t(r,e),r}}.__extend__(e||{})},h=function(e){return c(e,u)};return u(l,{SELF:s,create:n,isClass:e,customExtendProperty:c,extensibleProperty:h,nestedExtendProperty:function(e){return c(e,function(e,t){for(var n in t)if(R.call(t,n)){var r=e[n],i=t[n];e[n]=i?r&&r.__extend__?r.__extend__(i):h(i):null}})},oneFunctionProperty:function(e,t){var n=function(t){var r={__extend__:n};if(t){if(t.__extend__)return t;for(var i in t)R.call(t,i)&&t[i]&&(r[i]=e)}return r};return n(t||{})}})}(),F=q(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(e,t,n,r){e.attach(t,n,r)},detach:function(e,t,n){e.detach(t,n)},get:function(e){return e.get()}},init:function(e){this.value=e},get:function(){return this.value},set:function(e){this.value!==e&&(this.value=e,this.apply())},attach:function(e,t,n){this.handler={fn:e,context:t,destroy:n||null,handler:this.handler}},detach:function(e,t){for(var n,r=this;n=r,r=r.handler;)if(r.fn===e&&r.context===t)return r.fn=v,r.destroy=r.destroy&&v,void(n.handler=r.handler)},apply:function(){for(var e=this.get(),t=this;t=t.handler;)t.fn.call(t.context,e)},deferred:function(){var e=this.deferredToken;return e||(e=this.deferredToken=new G(this.get()),this.attach(e.set,e)),e},as:function(e){var t=new F,n=function(t){this.set(e.call(this,t))};return"function"!=typeof e&&(e=L(e)),n.call(t,this.get()),this.attach(n,t,t.destroy),t.attach(v,this,function(){this.detach(n,t)}),t},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null),this.attach=v,this.detach=v;for(var e=this;e=e.handler;)e.destroy&&e.destroy.call(e.context);this.handler=null,this.value=null}}),$=P.schedule(function(e){e.apply()}),G=F.subclass({className:"basis.DeferredToken",set:function(e){this.value!==e&&(this.value=e,$.add(this))},deferred:function(){return this}}),H={},X={},K={},Z={},W=1;!function(){var e=void 0!==n?n:null;if(e)for(var t in e)K[Y.resolve(t)]=e[t]}();var J=function(e,t){var n=e.match(/^([a-zA-Z0-9\_\-]+):/);if(n){var r=n[1];r in se==0&&(se[r]=Y.baseURI+r+"/"),e=se[r]+Y.normalize("./"+e.substr(n[0].length))}else e=Y.resolve(t,e);return e},Q=function(e,t){if(t||!R.call(K,e)){var n="";if(S)try{if("function"!=typeof I.basisjsReadFile)throw new Error("fs not supported for packed basis.js");n=I.basisjsReadFile(e)}catch(t){U.error("basis.resource: Unable to load "+e,t)}else{var r=new k.XMLHttpRequest;r.open("GET",e,!1),r.setRequestHeader("If-Modified-Since",new Date(0).toGMTString()),r.setRequestHeader("X-Basis-Resource",1),r.send(""),r.status>=200&&r.status<400&&(n=r.responseText)}K[e]=n}return K[e]},ee=function(e,t){var n=Y.extname(e),r=te.extensions[n],i=arguments.length>1,a=!1,s=!1;i&&(e+="#virtual");var o=function(){if(a)return t;var n=i?t:Q(e);return r?s||(s=!0,t=r(n,e)):t=n,a=!0,T(o),o.apply(),t};return u(o,u(new F,{url:e,type:n,virtual:i,fetch:function(){return o()},toString:function(){return"[basis.resource "+e+"]"},isResolved:function(){return a},update:function(n){a&&!i&&n==K[e]||(i||(K[e]=n),r?(!s&&i&&(t=n),s&&!r.permanent&&(t=r(n,e,t),T(o),o.apply())):(t=n,a=!0,T(o),o.apply()))},reload:function(){if(!i){var t=K[e],n=Q(e,!0);n!=t&&(a=!1,o.update(n))}},get:function(n){return i&&n?r?void 0:t:n?Q(e):o()},ready:function(e,t){if(!(a&&(e.call(t,o()),r&&r.permanent)))return o.attach(e,t),o}})),H[e]=o,X[e]=o,o},te=function(e,t){e&&"string"!=typeof e&&(e=e.url);var n=t?t+"\0"+e:e,r=X[n];if(!r){var i=J(e,t,"basis.resource('{url}')");r=H[i]||ee(i),X[n]=r}return r};u(te,{resolveURI:J,buildCloak:te,isResource:function(e){return!!e&&H[e.url]===e},isResolved:function(e){var t=te.get(e);return!!t&&t.isResolved()},exists:function(e){return R.call(H,J(e,null,"basis.resource.exists('{url}')"))},get:function(e){return e=J(e,null,"basis.resource.get('{url}')"),te.exists(e)?te(e):null},getFiles:function(e){return e?c(K):c(H).filter(function(e){return!H[e].virtual})},virtual:function(e,t,n){return ee((n?n+":":Y.normalize("/"==Y.baseURI?"":Y.baseURI)+"/")+"virtual-resource"+W+++"."+e,t)},extensions:{".js":u(function(e,t){var n=ae[t];if(!n){var r=!0,i=(Y.dirname(t)+"/"+Y.basename(t,Y.extname(t))).replace(/^\/\//,"/");for(var a in se){var s=se[a]+a+"/";if(i.substr(0,s.length)==s){r=!1,i=i.substr(se[a].length);break}}n=i.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,"."),r&&(n="implicit."+n)}return(a=_(n)).inited||(a.inited=!0,a.exports=ne({path:a.path,exports:a.exports},t,e).exports,a.exports&&a.exports.constructor===Object&&V.implicitExt&&l(a,a.exports)),a.exports},{permanent:!0}),".css":function(e,t,n){return n||(n=new Ee(t)),n.updateCssText(e),n},".svg":function(e,t,n){return n||(n=new ke(t)),n.updateSvgText(e),n},".json":function(e){if("object"==typeof e)return e;var t;try{e=String(e),t=xe.json.parse(e)}catch(e){}return t||null}}});var ne=function(e,t,n){var r=Y.dirname(t),i=n;return e.exports||(e.exports={}),"function"!=typeof i&&(i=g(t,["exports","module","basis","global","__filename","__dirname","resource","require","asset"],n)),"function"==typeof i&&i.call(e.exports,e.exports,e,xe,k,t,r,function(e){return te(e,r)},function(e){return ue(e,r)},function(e,t){return!0===t?Q(J(e,r,"asset('{url}',true)")):J(e,r,"asset('{url}')")}),e},re={},ie={},ae={},se={};h(V.modules,function(e,t){se[e]=t.path+"/",ie[e]=t.filename,ae[t.filename]=e}),function(e){if(e=void 0!==t?t:null)for(var n in e){var r=Y.resolve(n),i=e[n];ae[r]=i,ie[i]=r}}();var oe=q(null,{className:"basis.Namespace",init:function(e){this.name=e,this.exports={}},toString:function(){return"[basis.namespace "+this.name+"]"},extend:function(e){return u(this.exports,e),l(this,e)}}),ue=function(e,t){var n=Y.extname(e);return/[^a-z0-9_\.]/i.test(e)||".js"==n?/[\?#]/.test(e)||(n||(e+=".js"),e=J(e,t,"basis.require('{url}')")):e=y(e),te(e).fetch()};l(Function.prototype,{bind:function(e){var t=this,n=E(arguments,1);return n.length?function(){return t.apply(e,n.concat.apply(n,arguments))}:function(){return t.apply(e,arguments)}}}),l(Array,{isArray:function(e){return"[object Array]"===j.call(e)}}),l(Array.prototype,{indexOf:function(e,t){if((t=parseInt(t,10)||0)<0)return-1;for(;t<this.length;t++)if(this[t]===e)return t;return-1},lastIndexOf:function(e,t){var n=this.length;for(t=parseInt(t,10),t=isNaN(t)||t>=n?n-1:(t+n)%n;t>=0;t--)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&e.call(t,this[n],n,this)},every:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},some:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},filter:function(e,t){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&e.call(t,this[r],r,this)&&n.push(this[r]);return n},map:function(e,t){for(var n=[],r=0,i=this.length;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this));return n},reduce:function(e,t){var n=this.length,r=arguments.length;if(0==n&&1==r)throw new TypeError;var i,a=0;r>1&&(i=t,a=1);for(var s=0;s<n;s++)s in this&&(i=a++?e.call(null,i,this[s],s,this):this[s]);return i}});var le={from:E,create:N,flatten:function(e){return e.concat.apply([],e)},repeat:function(e,t){return le.flatten(N(parseInt(t,10)||0,e))},search:function(e,t,n,r){e.lastSearchIndex=-1,n=L(n||d);for(var i=parseInt(r,10)||0,a=e.length;i<a;i++)if(n(e[i])===t)return e[e.lastSearchIndex=i]},lastSearch:function(e,t,n,r){e.lastSearchIndex=-1,n=L(n||d);for(var i=e.length,a=isNaN(r)||null==r?i:parseInt(r,10),s=a>i?i:a;s-- >0;)if(n(e[s])===t)return e[e.lastSearchIndex=s]},add:function(e,t){return-1==e.indexOf(t)&&!!e.push(t)},remove:function(e,t){var n=e.indexOf(t);return-1!=n&&!!e.splice(n,1)},has:function(e,t){return-1!=e.indexOf(t)},sortAsObject:function(){return le.sort.apply(this,arguments)},sort:function(e,t,n,r){return t=L(t),r=r?-1:1,e.map(function(e,n){return{i:n,v:t(e)}}).sort(n||function(e,t){return r*(e.v>t.v||-(e.v<t.v)||(e.i>t.i?1:-1))}).map(function(e){return this[e.i]},e)}};if(![1,2].splice(1).length){var ce=Array.prototype.splice;Array.prototype.splice=function(){var e=E(arguments);return e.length<2&&(e[1]=this.length),ce.apply(this,e)}}var fe=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,pe=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi,he={};l(String,{toLowerCase:function(e){return String(e).toLowerCase()},toUpperCase:function(e){return String(e).toUpperCase()},trim:function(e){return String(e).trim()},trimLeft:function(e){return String(e).trimLeft()},trimRight:function(e){return String(e).trimRight()}}),l(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var de={toObject:function(e,t){try{return new Function("return 0,"+e)()}catch(e){if(t)throw e}},repeat:function(e,t){return new Array(parseInt(t,10)+1||0).join(e)},qw:function(e){var t=e.trim();return t?t.split(/\s+/):[]},forRegExp:function(e){return e.replace(fe,"\\$1")},format:function(e,t){var n=E(arguments,1);return"object"==typeof t&&u(n,t),e.replace(pe,function(e,t,r,i,a){var s=t in n?n[t]:a?"":e;return r&&!isNaN(s)?(s=Number(s),"."==r?s.toFixed(i):Te.lead(s,i)):s})},formatter:function(e){if(e=String(e),R.call(he,e))return he[e];var t=function(t){return de.format(e,t)};return he[e]=t,t},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},dasherize:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},isEmpty:function(e){return null==e||""==String(e)},isNotEmpty:function(e){return null!=e&&""!=String(e)}};if("|||".split(/\|/).length+"|||".split(/(\|)/).length!=11){var ve=String.prototype.split;String.prototype.split=function(e,t){if(!e||e instanceof RegExp==0||""==e.source)return ve.call(this,e,t);var n,r=[],i=0;for(e.global||(e=new RegExp(e.source,/\/([mi]*)$/.exec(e)[1]+"g"));n=e.exec(this);)n[0]=this.substring(i,n.index),r.push.apply(r,n),i=e.lastIndex;return r.push(this.substr(i)),r}}if("2"!="12".substr(-1)){var me=String.prototype.substr;String.prototype.substr=function(e,t){return me.call(this,e<0?Math.max(0,this.length+e):e,t)}}var Te={fit:function(e,t,n){return!isNaN(t)&&e<t?Number(t):!isNaN(n)&&e>n?Number(n):e},lead:function(e,t,n){return String(e).replace(/\d+/,function(e){return(t-=e.length-1)>1?new Array(t).join(n||0)+e:e})},group:function(e,t,n){return String(e).replace(/\d+/,function(e){return e.replace(/\d/g,function(r,i){return!i+(e.length-i)%(t||3)?r:(n||" ")+r})})},format:function(e,t,n,r,i,a){var s=e.toFixed(t);return(n||a)&&(s=s.replace(/(\d+)(\.?)/,function(e,t,r){return(n?xe.number.group(Number(t),3,n):t)+(r?a||r:"")})),r&&(s=s.replace(/^-?/,"$&"+(r||""))),s+(i||"")}};l(Date,{now:function(){return Number(new Date)}});var ge=function(){function e(){var t;for(r&&(r=M(r)),a.length>1&&(r=B(e));t=a.shift();)t[0].call(t[1]);r=M(r),P.process()}function t(){i++||e()}function n(){try{x.documentElement.doScroll("left"),t()}catch(e){setTimeout(n,1)}}var r,i=!x||"complete"==x.readyState,a=[];if(!i)if(x.addEventListener)x.addEventListener("DOMContentLoaded",t,!1),k.addEventListener("load",t,!1);else{x.attachEvent("onreadystatechange",t),k.attachEvent("onload",t);try{!k.frameElement&&x.documentElement.doScroll&&n()}catch(e){}}return function(t,n){a.length||!i||r||(r=B(e)),a.push([t,n])}}(),ye="addEventListener"in k?function(e,t){k.addEventListener("unload",function(n){e.call(t||null,n||k.event)},!1)}:"attachEvent"in k?function(e,t){k.attachEvent("onunload",function(n){e.call(t||null,n||k.event)})}:v,be=function(){function e(e){if(x&&!s[e]&&(s[e]=x[e]||x.getElementsByTagName(e)[0],s[e])){var t=o[e];delete o[e];for(var n,r=0;n=t[r];r++)n[0].call(n[1],s[e])}return s[e]}function t(){var n=this[0],i=this[1],a=this[2];r(i);var s=e(n);s?(!0===a&&(a=s.firstChild),a&&a.parentNode===s||(a=null),s.insertBefore(i,a)):o[n].push([t,[n,i,a]])}function n(e,t,n){o[e]?o[e].push([t,n]):t.call(n,s[e])}function r(e){for(var t in o){var n=le.search(o[t],e,function(e){return e[1]&&e[1][1]});n&&le.remove(o[t],n)}e&&e.parentNode&&1==e.parentNode.nodeType&&e.parentNode.removeChild(e)}function i(){a&&e("head")&&e("body")&&(a=clearInterval(a))}var a,s={},o={head:[],body:[]};return!x||e("head")&&e("body")||(a=setInterval(i,5),ge(i)),{head:{ready:function(e,t){n("head",e,t)},add:function(e,n){t.call(["head",e,n])}},body:{ready:function(e,t){n("body",e,t)},add:function(e,n){t.call(["body",e,n])}},remove:r}}(),_e=function(){var e=[];if(ye===v)return{add:v,remove:v};ye(function(){t.globalDestroy=!0,t.add=v,t.remove=v;for(var n;n=e.pop();)if("function"==typeof n.destroy)try{n.destroy()}catch(e){}else for(var r in n)n[r]=null;e=[]});var t={add:function(t){null!=t&&e.push(t)},remove:function(t){le.remove(e,t)}};return t}(),Ee=function(){function e(e){i.setAttribute("href",e),be.head.add(i,!0)}function t(){i.setAttribute("href",A.href),be.remove(i)}function n(){e(this.baseURI),this.element||(this.element=x.createElement("style"),r||this.element.appendChild(x.createTextNode(""))),be.head.add(this.element),this.syncCssText(),t()}var r=function(){try{return!x.createElement("style").appendChild(x.createTextNode(""))}catch(e){return!0}}(),i=x&&x.createElement("base");return q(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:void 0,element:null,init:function(e){this.url=e,this.baseURI=Y.dirname(e)+"/"},updateCssText:function(n){this.cssText!=n&&(this.cssText=n,this.inUse&&this.element&&(e(this.baseURI),this.syncCssText(),t()))},syncCssText:r?function(){this.element.styleSheet.cssText=this.cssText}:function(){var e=this.cssText;this.element.firstChild.nodeValue=e},startUse:function(){this.inUse||be.head.ready(n,this),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&be.remove(this.element))},destroy:function(){this.element&&be.remove(this.element),this.element=null,this.cssText=null}})}(),Ne=null,ke=function(){function e(e){r.setAttribute("href",e),be.head.add(r,!0)}function t(){r.setAttribute("href",A.href),be.remove(r)}function n(){e(this.baseURI),this.element||(this.element=x.createElement("span")),Ne.appendChild(this.element),this.syncSvgText(),t()}var r=x&&x.createElement("base");return q(null,{className:"basis.SvgResource",inUse:0,url:"",baseURI:"",svgText:void 0,element:null,init:function(e){this.url=e,this.baseURI=Y.dirname(e)+"/"},toString:function(){return this.svgText},updateSvgText:function(n){this.svgText!=n&&(this.svgText=n,this.inUse&&this.element&&(e(this.baseURI),this.syncSvgText(),t()))},syncSvgText:function(){this.element.innerHTML=this.svgText},startUse:function(){this.inUse||(Ne||((Ne=x.createElement("span")).style.cssText="position:absolute!important;width:0;height:0;overflow:hidden",be.body.add(Ne)),be.body.ready(n,this)),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&Ne.removeChild(this.element))},destroy:function(){this.element&&Ne.removeChild(this.element),this.element=null,this.svgText=null}})}(),Ie={fixSourceOffset:d,setInfo:function(){},patchInfo:function(e,t,n){},patchFactory:function(e){},getInfo:function(e,t){}},xe=_("basis").extend({version:"1.11.1",NODE_ENV:S,config:V,createSandbox:function(e){return r(k,z,l({noConflict:!0,devpanel:!1},e))},dev:U=new oe("basis.dev").extend(U).extend(Ie).extend({warnPropertyAccess:O}),resolveNSFilename:y,patch:function(e,t){e=/[^a-z0-9_\.]/i.test(e)||".js"==Y.extname(e)?J(e,null,"basis.patch('{url}')"):y(e),Z[e]?Z[e].push(t):Z[e]=[t];var n=te.get(e);n&&n.isResolved()&&t(n.get(),n.url)},namespace:_,require:ue,resource:te,asset:function(e,t){return!0===t?Q(J(e,null,"basis.asset('{url}')")):J(e,null,"basis.asset('{url}')")},setImmediate:B,clearImmediate:M,nextTick:function(){B.apply(null,arguments)},asap:P,FACTORY:C,PROXY:{},Class:q,Token:F,DeferredToken:G,codeFrame:D,ready:ge,teardown:ye,cleaner:_e,genUID:o,getter:L,console:U,path:Y,doc:be,object:{extend:u,complete:l,keys:c,values:function(e){var t=[];for(var n in e)t.push(e[n]);return t},slice:f,splice:function(e,t){var n={};if(!t)return u(n,e);for(var r,i=0;r=t[i++];)r in e&&(n[r]=e[r],delete e[r]);return n},merge:p,iterate:h},fn:{$undefined:function(e){return void 0==e},$defined:function(e){return void 0!=e},$isNull:function(e){return null==e||void 0==e},$isNotNull:function(e){return null!=e&&void 0!=e},$isSame:function(e){return e===this},$isNotSame:function(e){return e!==this},$self:d,$const:function(e){return function(){return e}},$false:function(){return!1},$true:function(){return!0},$null:function(){return null},$undef:v,getter:L,nullGetter:w,wrapper:function(e){return function(t){var n={};return n[e]=t,n}},factory:m,isFactory:function(e){return"function"==typeof e&&e.factory===C},lazyInit:function(e,t){var n,r,i=0;return n=function(){return i++||(n.inited=!0,n.data=r=e.apply(t||this,arguments)),r}},lazyInitAndRun:function(e,t,n){var r,i,a=0;return r=function(){return a++||(r.inited=!0,r.data=i=e.call(n||this)),t.apply(i,arguments),i}},runOnce:function(e,t){var n=0;return function(){if(!n++)return e.apply(t||this,arguments)}},publicCallback:function(e,t){var n="basisjsCallback"+o();return k[n]=t?e:function(){try{delete k[n]}catch(e){k[n]=void 0}return e.apply(this,arguments)},n}},array:u(E,le),string:de,number:Te,bool:{invert:function(e){return!e}},json:{parse:"undefined"!=typeof JSON?JSON.parse:function(e){return de.toObject(e,!0)}}});return S||V.autoload&&V.autoload.forEach(function(e){ue(e)}),S&&"undefined"!=typeof module&&module&&(module.exports=xe,module.exports.basis=xe),xe}(this)}).call(this);