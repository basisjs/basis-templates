(function(){"use strict";var e={"0.js":"templates","1.js":"basis.template","2.js":"basis.template.const","3.js":"basis.template.declaration","4.js":"basis.template.store","5.js":"basis.template.theme","6.js":"basis.template.html","7.js":"basis.l10n","8.js":"basis.event","9.js":"basis.template.htmlfgen","a.js":"basis.template.namespace","b.js":"basis.template.buildDom","c.js":"basis.dom.event"},t,n={"n.js":function(e,t,n,r,i,s,o,u,a){var f=n.require("./f.js"),l=f.getTokenAttrValues;t.exports=function(e,t,n){if(e.isolate)return;e.isolate=l(n).prefix||t.isolate||t.genIsolateMarker()}},"0.js":function(e,t,n,r,i,s,o,u,a){function p(e){var t=c.indexOf(e);if(t!=-1)return h[t];var n=new l(e);return c.push(e),h.push(n),n}var f=n.require("./1.js").resolveTemplateById,l=n.require("./6.js").Template,c=[],h=[];r.bt=t.exports=n.object.extend(p,{init:function(e){if(!e)return this;if(e.noConflict)return delete r.bt,this},dispose:function(e){var t=f(e.templateId_);if(!t){n.dev.warn("Template is not resolved for ",e);return}t.clearInstance(e)},template:p})},"2.js":function(e,t,n,r,i,s,o,u,a){var f="basisTemplateId_"+n.genUID(),l=1,c=2,h=4,p=5,d=6,v=3,m=8,g=9,y=0,b=1,w=2,E=3,S=4,x={4:"class",5:"style"},T={"class":h,style:p},N={2:S,4:S-1,5:S-1,6:2},C=1,k=2,L=3,A=4,O=5,M=3,_=4,D=3,P=3,H=2,B=1,j=r.document,F=j?function(){var e=j.createElement("div");return e.appendChild(j.createTextNode("a")),e.appendChild(j.createTextNode("a")),e.cloneNode(true).childNodes.length==1}():!0;t.exports={MARKER:f,TYPE_ELEMENT:l,TYPE_ATTRIBUTE:c,TYPE_ATTRIBUTE_CLASS:h,TYPE_ATTRIBUTE_STYLE:p,TYPE_ATTRIBUTE_EVENT:d,TYPE_TEXT:v,TYPE_COMMENT:m,TYPE_CONTENT:g,TOKEN_TYPE:y,TOKEN_BINDINGS:b,TOKEN_REFS:w,ATTR_NAME:E,ATTR_VALUE:S,ATTR_NAME_BY_TYPE:x,ATTR_TYPE_BY_NAME:T,ATTR_VALUE_INDEX:N,ELEMENT_NAME:M,ELEMENT_ATTRIBUTES_AND_CHILDREN:_,TEXT_VALUE:D,COMMENT_VALUE:P,CONTENT_CHILDREN:H,CONTENT_PRIORITY:B,CLASS_BINDING_ENUM:C,CLASS_BINDING_BOOL:k,CLASS_BINDING_INVERT:L,CLASS_BINDING_EQUAL:A,CLASS_BINDING_NOTEQUAL:O,CLONE_NORMALIZATION_TEXT_BUG:F}},"3.js":function(e,t,n,r,i,s,o,u,a){function J(e){var t=[];for(var n=0;n<e.length;n++)t.push(Array.isArray(e[n])?J(e[n]):e[n]);return t}function K(e,t,r,i){var s=e,o;e.bindingBridge&&(t="baseURI"in e?e.baseURI:"url"in e?n.path.dirname(e.url):t,o="url"in e?e.url:o,s=e.bindingBridge.get(e)),Array.isArray(s)?(r&&(s=J(s)),s={tokens:s}):s&&(typeof s!="object"||!Array.isArray(s.tokens))&&(s=String(s));if(!s||typeof s=="string")s=$(s,t,i,o,e);return s}var f=Object.prototype.hasOwnProperty,l=n.array.search,c=n.array.add,h=n.require("./d.js"),p=n.require("./e.js"),d=n.require("./2.js"),v=n.require("./f.js"),m=n.require("./g.js"),g=n.require("./i.js"),y=n.require("./j.js"),b=n.require("./h.js").walk,w=d.TYPE_ELEMENT,E=d.TYPE_ATTRIBUTE,S=d.TYPE_ATTRIBUTE_CLASS,x=d.TYPE_TEXT,T=d.TYPE_COMMENT,N=d.TYPE_CONTENT,C=d.TOKEN_TYPE,k=d.TOKEN_BINDINGS,L=d.TOKEN_REFS,A=d.ATTR_VALUE_INDEX,O=d.ELEMENT_ATTRIBUTES_AND_CHILDREN,M=d.TEXT_VALUE,_=d.CONTENT_PRIORITY,D=d.CONTENT_CHILDREN,P=v.resourceHash,H=v.getTokenName,B=v.bindingList,j=m.refList,F=m.addTokenRef,I=m.normalizeRefs,q=y.applyAttrs,R=g.styleNamespaceIsolate,U=g.isolateTokens,z={content:n.require("./k.js"),define:n.require("./l.js"),include:n.require("./m.js"),isolate:n.require("./n.js"),l10n:n.require("./o.js"),style:n.require("./p.js"),svg:n.require("./q.js"),text:n.require("./r.js")},W=function(){},X=function(){},V=function(){return n.genUID()+"__"},$=function(){function r(e,t,n){var i=[];for(var s=0,o,u;o=e[s];s++){var a=j(o),f=B(o);switch(o.type){case w:if(o.prefix=="b"){if(!z.hasOwnProperty(o.name))continue;z[o.name](t,n,o,i);continue}u=[1,f,a,H(o)],q(t,n,u,o.attrs),u.push.apply(u,r(o.children,t,n));break;case x:a&&a.length==2&&l(a,"element")&&(f=a[+!a.lastSearchIndex]),u=[3,f,a],(!a||o.value!="{"+a.join("|")+"}")&&u.push(o.value);break;case T:if(n.optimizeSize&&!f&&!a)continue;u=[8,f,a],n.optimizeSize||(!a||o.value!="{"+a.join("|")+"}")&&u.push(o.value);break;default:continue}i.push(u)}return i}function i(e,t,n){if(typeof e=="string"){var r=e.split(":"),i=r[1];if(i&&r[0]=="l10n"){if(r.length==2&&i.indexOf("@")==-1){if(!t)return!1;i=i+"@"+t,e="l10n:"+i}c(n,i)}}return e}function s(e,t,n){b(e,function(e,r){var o=r[k];switch(e){case w:s(r,t,n,O);break;case x:if(o){var u=i(o,n.dictURI,t.l10n);r[k]=u||0,u===!1&&(r[M]="{"+o+"}")}break;case E:if(o){var a=o[0];for(var l=a.length-1;l>=0;l--){var u=i(a[l],n.dictURI,t.l10n);if(u===!1){var c=o[1];for(var h=0;h<c.length;h++)typeof c[h]=="number"&&(c[h]==l?c[h]="{"+a[l]+"}":c[h]>l&&(c[h]=c[h]-1));a.splice(l,1),a.length||(r[k]=0)}else a[l]=u}}break;case S:if(o){for(var h=0,p;p=o[h];h++){if(p.length>2)continue;var d=p[1].split(":"),v=d.pop(),m=d.pop()||"";if(f.call(n.defines,v)){var g=n.defines[v];p[1]=(m?m+":":"")+g[0],p.push.apply(p,g.slice(1))}else p.push(0)}if(n.optimizeSize){var y=A[e];r[y]||(r.length=y)}}}})}function o(e){function t(e,n){for(var r=n;r<e.length;r++){var i=e[r],s=i[C],o;if(s==w||s==x)return i;if(s==T)if(i[L]||i[k])return i;if(s==N){o=t(i,D);if(o)return o}}return null}return t(e,0)}var e=[],t={};return function u(i,a,f,l,c){f=n.object.slice(f),f.Template=W,f.genIsolateMarker=V,f.resolveResource=X,f.getDeclFromSource=K,f.makeDeclaration=u,f.process=r,f.includeStack=e,f.includeOptions=f.includeOptions||{},f.templates={},f.defines={},f.dictURI=l?n.path.resolve(l):a||"";if(f.dictURI){var d=n.path.extname(f.dictURI);d&&d!=".l10n"&&(f.dictURI=f.dictURI.substr(0,f.dictURI.length-d.length)+".l10n")}var v={sourceUrl:l,baseURI:a||"",tokens:null,includes:[],deps:[],templates:{},isolate:!1,styleNSPrefix:{},resources:[],l10n:[],warns:[]};i||(i=""),Array.isArray(i)||(i=h(String(i||""),{loc:!!f.loc,range:!!f.range})),e.push(c!==!0&&c||{}),v.tokens=r(i,v,f),e.pop(),v.tokens.push([N,0]);var m=I(v.tokens),g=o(v.tokens),y=m[":content"];y.node[_]>1&&(y.node[_]=1),y.overrided.forEach(function(e){var t=e.parent.indexOf(e.node);t!=-1&&e.parent.splice.apply(e.parent,[t,1].concat(e.node.slice(D)))}),g||(g=[x,0,0],v.tokens.unshift(g)),m.element||F(g,"element"),s(v.tokens,v,f);if(e.length==0){U(v.tokens,v.isolate||"",v,f);if(v.isolate)for(var b=0,w;w=v.resources[b];b++)w.type=="style"&&w.isolate!==R&&(w.isolate=v.isolate+w.isolate);v.resources=v.resources.filter(function(e,t,r){return e.url&&!n.array.search(r,P(e),P,t+1)}).map(function(e){if(e.type!="style")return{type:e.type,url:e.url};var r=e.url,i=e.isolate,s=i===R,o;if(s){i=R[r];if(r in t)return{type:"style",url:t[r].url}}if(!i)return{type:"style",url:r};var u=n.resource.virtual("css","").ready(function(e){e.url=r+"?isolate-prefix="+i,e.baseURI=n.path.dirname(r)+"/",e.map=o,a()}),a=n.resource(r).ready(function(e){var t=p(e&&e.cssText||"",i,!0);o=t.map,u.update(t.css)});return s&&(t[r]=u),{type:"style",url:u.url}})}return v.warns.length||(v.warns=!1),v}}();n.resource("./1.js").ready(function(e){X=e.resolveResource,W=e.Template}),t.exports={VERSION:3,makeDeclaration:$,walk:b,getDeclFromSource:K,setIsolatePrefixGenerator:function(e){V=e}}},"d.js":function(e,t,n,r,i,s,o,u,a){function P(e){var t,n=[],r=[],i={};for(var s=0;s<e.length;s++)s%2?(t=e[s],i[t]||(i[t]=n.length,n.push(t)),r.push(i[t])):e[s]&&r.push(D(e[s]));return[n,r]}function H(e,t,n){var r=e.value,i=0,s,o;if(r)switch(t){case"class":var u=e.valueRange.start_,a=/(\s*)(\S+)/g,f=[],l=[],h;i=[];while(y=a.exec(r)){var p=y[2],v={value:p,binding:!1,range:{start_:u+=y[1].length,end_:u+=p.length}};n(v),(o=p.match(L))?(h=[o[1]||"",o[2]],h.info_=v,v.binding=!0,i.push(h)):f.push(p),l.push(v)}r=f.join(" "),e.map_=l;break;case"style":var m=[];i=[];if(s=r.match(A))for(var g=0,y;y=s[g];g++){var o=y.match(O),b=o[1],r=o[2].trim(),w=r.split(M);if(w.length>1){var E=P(w);E.push(b),i.push(E)}else m.push(b+": "+D(r))}r=m.join("; "),r&&(r+=";");break;default:s=r.split(k),s.length>1?i=P(s):r=D(r)}i&&!i.length&&(i=0),e.binding=i,e.value=r,e.type=d[t]||c}function B(e,t,n){function r(e){return(e.prefix?e.prefix+":":"")+e.name}function i(e){return e.attrs.reduce(function(e,t){return e[r(t)]=t.value,e},{})}function s(){var e=1,t=0;c=new Array(n.length),d=new Array(n.length);for(var r=0;r<n.length+1;r++)c[r]=e,d[r]=t,n[r]==="\n"?(e++,t=0):t++}function o(e){return{line:c[e],column:d[e]}}function u(e){return{start:o(e.start_),end:o(e.end_)}}function a(e){t.loc&&(e.loc=u(e.range),e.valueRange&&(e.valueLoc=u(e.valueRange))),t.range?(e.range=[e.range.start_,e.range.end_],e.valueRange&&(e.valueRange=[e.valueRange.start_,e.valueRange.end_])):(delete e.range,delete e.valueRange)}function f(e){var t,n;for(var r=0;t=e[r++];n=t){if(t.type==l){var s=i(t);for(var o=0,u;u=t.attrs[o++];){var c=u.name;if(t.prefix=="b"&&u.name=="value"){var d=t.name.match(_);d&&(c=d[1]=="class"?"class":s.name)}H(u,c,a),a(u)}f(t.children)}t.type==h&&(t.value=D(t.value),!t.refs&&n&&n.type==h&&!n.refs&&(n.value+=t.value,n.end_=t.end_,e.splice(--r,1))),t.type==p&&(t.value=D(t.value)),a(t)}}var c,d;t.loc&&s(),f(e)}function j(e,t){var n=[],r=[],i={children:n},s=!1,o,u=m,a=0,f=0,d,k,L,A;if(!t||t.trim!==!1)a=f=e.match(/^\s*/)[0].length,e=e.trimRight();while(a<e.length||u!=m){u.lastIndex=a,L=a,A=u.exec(e);if(!A||A.index!==a){if(u==E&&o&&o.type==p){u=b;continue}s&&(i=r.pop()),o&&i.children.pop();if(o=i.children.pop())o.type==h&&!o.refs?f-=o.value.length:i.children.push(o);s=!1,u=m;continue}a=u.lastIndex;switch(u){case m:d=L+A[1].length;if(f!=d){var O=f==L?A[1]:e.substring(f,d);O=O.replace(/\s*(\r\n?|\n\r?)\s*/g,""),O&&i.children.push({type:h,value:O,range:{start_:f,end_:d}})}f=d,A[3]?i.children.push({type:h,refs:["l10n:"+A[3]],value:"{l10n:"+A[3]+"}",range:{start_:d,end_:a}}):A[2]=="{"?(k=a-1,i.children.push(o={type:h,range:{start_:d,end_:d}}),u=E):A[4]?A[4]=="/"?(o=null,u=w):(i.children.push(o={type:p,range:{start_:d,end_:d}}),A[5]?(k=a-A[5].length,u=E):(k=a,u=b)):A[2]&&(s=!0,r.push(i),i.children.push(o={type:l,attrs:[],children:[],range:{start_:d,end_:d}}),i=o,u=g);break;case w:A[1]!==(i.prefix?i.prefix+":":"")+i.name?i.children.push({type:h,value:"</"+A[0],range:{start_:L-2,end_:L+A[0].length}}):(i.range.end_=L+A[0].length,i=r.pop()),u=m;break;case g:case y:if(A[2]==":"){o.prefix?u=T:o.prefix=A[1];break}A[1]&&(o.name=A[1],o.range.end_=L+A[1].length,o.type==c&&i.attrs.push(o));if(A[2]=="{"){o.type==l?u=E:u=T;break}if(A[3]){s=!1,i.range.end_=a;if(A[3]=="/>"||!i.prefix&&N.test(i.name))i=r.pop();else if(i.prefix=="b"&&i.name in C){u=C[i.name];break}u=m;break}if(A[2]=="="){u=S;break}o={type:c,range:{start_:a,end_:a}},u=y;break;case b:o.value=e.substring(k,a-3),o.range.end_=a,u=m;break;case E:o.refs?o.refs.push(A[1]):o.refs=[A[1]],A[2]!="|"&&(o.type==h?(a-=A[2].length-1,o.value=e.substring(k,a),o.range.end_=a,u=m):o.type==p?u=b:o.type==c&&e[a]=="="?(a++,u=S):(o={type:c,range:{start_:a,end_:a}},u=y));break;case S:o.value=A[1].replace(x,'"'),o.range.end_=a,o.valueRange={start_:L+1,end_:L+1+A[1].length},o={type:c,range:{start_:a,end_:a}},u=y;break;case C.text:case C.style:i.children.push({type:h,value:A[1],range:{start_:L,end_:L+A[1].length}}),i=r.pop(),u=m;break;default:throw v}u==m&&(f=a)}return f!=a&&i.children.push({type:h,value:e.substring(f,a),range:{start_:f,end_:a}}),B(n,t||{},e),n.templateTokens=!0,n}var f=n.require("./2.js"),l=f.TYPE_ELEMENT,c=f.TYPE_ATTRIBUTE,h=f.TYPE_TEXT,p=f.TYPE_COMMENT,d=f.ATTR_TYPE_BY_NAME,v="Invalid or unsupported syntax",m=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,g=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,y=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,b=/(.|[\r\n])*?-->/g,w=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,E=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,S=/"((?:(\\")|[^"])*?)"\s*/g,x=/\\"/g,T=/^/g,N=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,C={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},k=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,L=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,A=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,O=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,M=/\{([a-z_][a-z0-9_]*)\}/i,_=/^(?:|append-|set-|remove-)(class|attr)$/,D=function(){function s(n,r){return e[r]||(r.charAt(0)=="#"?e[r]=String.fromCharCode(r.charAt(1)=="x"||r.charAt(1)=="X"?parseInt(r.substr(2),16):r.substr(1)):t&&(t.innerHTML=n,e[r]=t.firstChild?t.firstChild.nodeValue:n)),e[r]||n}var e={},t=n.NODE_ENV?null:r.document.createElement("div"),i=/&([a-z]+\d*|#\d+|#x[0-9a-f]{1,4});?/gi;return function(t){return String(t).replace(i,s)}}();t.exports=j},"e.js":function(e,t,n,r,i,s,o,u,a){function v(){return n.genUID()+"__"}function m(e,t,n){function r(t,n){var r=e.indexOf(t,n);N=r!==-1?r+t.length-1:S.length}function i(){var e=S[N];if(e!=='"'&&e!=="'")return;for(N++;N<x&&S[N]!==e;N++)S[N]==="\\"&&N++;return!0}function s(){var e=S[N];if(e==="(")return r(")",N+1),!0;if(e==="["){for(N++;N<x&&S[N]!=="]";N++)i();return!0}}function o(){if(S[N]!=="/"||S[N+1]!=="*")return;return r("*/",N+2),!0}function u(){for(;N<x&&S[N]!=")";N++)if(o()||s()||a()||y())continue}function a(){if(S[N]!==":")return;var t=e.substr(N+1,d).match(p);return t&&(N+=t[0].length+1,u()),!0}function m(){if(S[N]!=="@")return;var t=e.substr(N+1,h).match(c);return t&&(N+=t[0].length,C=!0),!0}function g(){if(S[N]!=="{")return;if(C){N++,b(!0);return}for(N++;N<x&&S[N]!=="}";N++)o()||i()||s();return!0}function y(){if(S[N]!==".")return;var n=e.substr(N+1,l).match(f);return n&&(N++,w[N+E.length/2*t.length-1]=N,E.push(e.substring(T,N),t),T=N),!0}function b(e){for(C=!1;N<x;N++){if(o()||m()||a()||s()||i()||y())continue;if(e&&S[N]=="}")return;g()}}var w={},E=[],S=e.split(""),x=S.length,T=0,N=0,C;return t||(t=v()),b(!1),E=E.join("")+e.substring(T),n?{css:E,map:w,prefix:t}:E}var f=/^\-?([_a-z]|[^\x00-\xb1]|\\[0-9a-f]{1,6}(\r\n|[ \n\r\t\f])?|\\[^\n\r\f0-9a-f])/i,l=8,c=/^(media|supports|document)\b/i,h=8,p=/^(not|has|matches|nth-child|nth-last-child)\(/i,d=15;t.exports=m},"f.js":function(e,t,n,r,i,s,o,u,a){function l(e){return[e.type,e.url,e.isolate].join(";")}function c(e,t){for(var n=0;n<t.length;n++)f(e,t[n])}function h(e){return(e.prefix?e.prefix+":":"")+e.name}function p(e){var t=e.refs;return t&&t.length?t[0]:0}function d(e){var t={};if(e.attrs)for(var n=0,r;r=e.attrs[n];n++)t[h(r)]=r.value;return t}function v(e){var t={};if(e.attrs)for(var n=0,r;r=e.attrs[n];n++)t[h(r)]=r;return t}function m(e){var t={},n=(e||"").trim().split(/\s*,\s*/);for(var r=0;r<n.length;r++){var i=n[r].split(/\s*:\s*/);if(i.length!=2)return{};t[i[0]]=i[1]}return t}function g(e,t){if(t)return(e.sourceUrl||"")+":"+t.start.line+":"+(t.start.column+1)}function y(e,t,n,r){r&&t.loc&&(n=Object(n),n.loc=typeof r=="string"?r:g(e,r)),e.warns.push(n)}function b(e,t,n,r){t.loc&&r&&r.loc&&!n.loc&&(n.loc=g(e,r.loc))}var f=n.array.add;t.exports={resourceHash:l,addUnique:c,getTokenName:h,bindingList:p,getTokenAttrValues:d,getTokenAttrs:v,parseOptionsValue:m,getLocation:g,addTemplateWarn:y,addTokenLocation:b}},"g.js":function(e,t,n,r,i,s,o,u,a){function g(e){var t=e.refs;return t&&t.length?t:0}function y(e,t){e[m]||(e[m]=[]),f(e[m],t),t!="element"&&!e[v]&&(e[v]=e[m].length==1?t:0)}function b(e,t){var n=e[m].indexOf(t);if(n!=-1){var r=e[v]&&typeof e[v]=="number";e[m].splice(n,1),r&&n==e[v]-1&&(e[v]=t,r=!1),e[m].length?r&&(e[v]-=n<e[v]-1):e[m]=0}}function w(e){var t={};return l(e,function(e,n,r){if(e===p){var i=t[":content"];i?n[d]>=i.node[d]?(i.overrided.push({parent:i.parent,node:i.node}),i.parent=r,i.node=n):i.overrided.push({parent:r,node:n}):t[":content"]={parent:r,node:n,overrided:[]}}else if(e!==h){var s=n[m];if(!s)return;for(var o=s.length-1,u;u=s[o];o--){if(u.indexOf(":")!=-1){b(n,u);continue}t[u]&&b(t[u].node,u),n[v]==u&&(n[v]=o+1),t[u]={parent:r,node:n}}}}),t}var f=n.array.add,l=n.require("./h.js").walk,c=n.require("./2.js"),h=c.TYPE_ATTRIBUTE_EVENT,p=c.TYPE_CONTENT,d=c.CONTENT_PRIORITY,v=c.TOKEN_BINDINGS,m=c.TOKEN_REFS;t.exports={refList:g,addTokenRef:y,removeTokenRef:b,normalizeRefs:w}},"h.js":function(e,t,n,r,i,s,o,u,a){function v(e,t){function n(e,r){for(var i=r,s;s=e[i];i++){var o=s[h];t(o,s,e);switch(o){case l:n(s,p);break;case c:n(s,d)}}}n(e,0)}var f=n.require("./2.js"),l=f.TYPE_ELEMENT,c=f.TYPE_CONTENT,h=f.TOKEN_TYPE,p=f.ELEMENT_ATTRIBUTES_AND_CHILDREN,d=f.CONTENT_CHILDREN;t.exports={walk:v}},"i.js":function(e,t,n,r,i,s,o,u,a){function m(e,t,n){for(var r=0,i;i=e[r];r++)i.type=="style"&&(i.isolate!==v&&(i.isolate=t+i.isolate),i.includeToken||(i.includeToken=n))}function g(e,t,r,i,s){var o=t.children[0],u=r?n.resource.resolveURI(r,e.baseURI,'<b:style src="{url}"/>'):n.resource.virtual("css",o?o.value:"",e.sourceUrl).url;return e.resources.push({type:"style",url:u,isolate:i,token:t,includeToken:null,inline:r?!1:o||!0,namespace:s}),u}function y(e,t){function n(e){return e.indexOf(":")<=0?e:t.prefix+e}l(e,function(e,t){if(e!==h)return;var r=t[p],i=d[e];t[i]&&(t[i]=t[i].replace(/\S+/g,n));if(r)for(var s=0,o;o=r[s];s++)o[0]=n(o[0])})}function b(e,t,n){function r(e){if(e.indexOf(":")==-1)return t+e;if(!n)return e;var r=e.split(":");if(!r[0])return r[1];var i=f.call(n.styleNSPrefix,r[0])?n.styleNSPrefix[r[0]]:!1;return i?i.prefix+r[1]:!1}l(e,function(e,t){if(e!==h)return;var n=t[p],i=d[e];t[i]&&(t[i]=t[i].split(/\s+/).map(function(e){return r(e,e,t.valueLocMap?t.valueLocMap[e]:null)}).filter(Boolean).join(" "));if(n){for(var s=0,o,u,a;o=n[s];s++)u=r(o[0],o[0]+"{"+o[1]+"}",o.loc),u===!1?(a=!0,n[s]=null):o[0]=u;a&&(n=n.filter(Boolean),t[p]=n.length?n:0)}})}var f=Object.prototype.hasOwnProperty,l=n.require("./h.js").walk,c=n.require("./2.js"),h=c.TYPE_ATTRIBUTE_CLASS,p=c.TOKEN_BINDINGS,d=c.ATTR_VALUE_INDEX,v={};t.exports={styleNamespaceIsolate:v,adoptStyles:m,addStyle:g,applyStyleNamespaces:y,isolateTokens:b}},"j.js":function(e,t,n,r,i,s,o,u,a){function M(e,t){var n=typeof e[0]=="number"?L:0;for(var r=n,i,s;i=e[r];r++){i[C]==b?s="event-"+i[1]:s=S[i[C]]||i[E];if(s==t)return i}}function _(e,t){var n=e[k];if(n)for(var r=0,i;i=n[r];r++)if(i[2]==t)return i}function D(e,t,n,r,i,s,o){var u=M(n,"style");u||(u=[w,0,0],n.push(u));var a=r.binding,f=u[k],c=!1,h=r.name==s,p=u[3];f&&l(f,_(u,i)),!a||a[0].length!=a[1].length?c=!(h^r.value===""):(a=a.concat(i,r.name),c=h,f?f.push(a):u[k]=[a]),p&&(p=p.replace(new RegExp(i+"\\s*:\\s*[^;]+(;|$)"),"")),c&&(p=(p?p+" ":"")+o),u[3]=p}function P(e,t,n,r){(r.name=="show"||r.name=="hide")&&D(e,t,n,r,"display","show","display: none;"),(r.name=="visible"||r.name=="hidden")&&D(e,t,n,r,"visibility","visible","visibility: hidden;")}function H(e,t,n,r){if(n[C]!==g)return;if(!/[\/\(\)]/.test(r)){var i=[y,[["$role"],[0,r?"/"+r:""]],0,"role-marker"];n.push(i)}}function B(e,t,n,r){var i,s,o,u;for(var a=0,f;f=r[a];a++){if(f.prefix=="b"){switch(f.name){case"ref":var l=(f.value||"").trim().split(/\s+/);for(var h=0;h<l.length;h++)c(n,l[h]);break;case"show":case"hide":i=f;break;case"visible":case"hidden":s=f;break;case"role":H(e,t,n,f.value||"",f)}continue}(u=f.name.match(O))?o=u[1]==f.value?[b,u[1]]:[b,u[1],f.value]:(o=[f.type,f.binding,0],f.type==y&&o.push(d(f)),f.value&&(!t.optimizeSize||!f.binding||f.type!=y)&&o.push(f.value)),n.push(o)}return i&&P(e,t,n,i),s&&P(e,t,n,s),n}function j(e,t,r,i,s,o,u){var a=v(s),c=m(s);o&&(a.name=o);if(!a.name)return;if(!A.test(a.name))return;if(i&&i[C]==g){var h=i,p=a.name.match(O),d=a.name=="class"||a.name=="style",w=p?b:x[a.name]||y,E=T[w]||N,S=h&&M(h,a.name);S&&u=="set"&&(l(h,S),S=null),!S&&(u=="set"||u=="append")&&(u="set",p?S=[w,p[1]]:(S=[w,0,0,w==y?a.name:""],w==y&&S.push("")),h||(h=[],i.push(h)),h.push(S));switch(u){case"set":if(S[C]==b){a.value==p[1]?S.length=2:S[E]=a.value;return}var L=c.value||{};S[k]=L.binding||0,!t.optimizeSize||!S[k]||d?S[E]=L.value||"":S.length=E;if(d&&!S[k]&&!S[E]){l(h,S);return}break;case"append":var L=c.value||{},D=L.value||"",P=L.binding;if(!p)if(P){var H=S[k];if(H)switch(a.name){case"style":for(var B=0,j;j=P[B];B++)l(H,_(S,j[2])),H.push(j);break;case"class":H.push.apply(H,P);break;default:P[0].forEach(function(e){f(this,e)},H[0]);for(var B=0;B<P[1].length;B++){var F=P[1][B];typeof F=="number"&&(F=H[0].indexOf(P[0][F])),H[1].push(F)}}else S[k]=P,d||S[k][1].unshift(S[E])}else!d&&S[k]&&S[k][1].push(a.value);if(D)if(p||a.name=="class"){var I=(S[E]||"").trim(),q=D.trim();I=I?I.split(/\s+/):[],q=q?q.split(/\s+/):[];for(var B=0;B<q.length;B++){var R=q[B];n.array.remove(I,R),I.push(R)}S[E]=I.join(" ")}else S[E]=(S[E]||"")+(S[E]&&d?" ":"")+D;d&&!S[k]&&!S[E]&&l(h,S);break;case"remove-class":if(S){var L=c.value||{},U=(S[E]||"").split(" "),z=(L.value||"").split(" "),W=S[k];if(L.binding&&W){for(var B=0,X;X=L.binding[B];B++)for(var V=W.length-1,$;$=W[V];V--){var J=$[0],K=$[3]||$[1];J===X[0]&&K===X[1]&&W.splice(V,1)}W.length||(S[k]=0)}for(var B=0;B<z.length;B++)l(U,z[B]);S[E]=U.join(" "),!W.length&&!U.length&&l(h,S)}break;case"remove":S&&l(h,S)}}}var f=n.array.add,l=n.array.remove,c=n.require("./g.js").addTokenRef,h=n.require("./2.js"),p=n.require("./f.js"),d=p.getTokenName,v=p.getTokenAttrValues,m=p.getTokenAttrs,g=h.TYPE_ELEMENT,y=h.TYPE_ATTRIBUTE,b=h.TYPE_ATTRIBUTE_EVENT,w=h.TYPE_ATTRIBUTE_STYLE,E=h.ATTR_NAME,S=h.ATTR_NAME_BY_TYPE,x=h.ATTR_TYPE_BY_NAME,T=h.ATTR_VALUE_INDEX,N=h.ATTR_VALUE,C=h.TOKEN_TYPE,k=h.TOKEN_BINDINGS,L=h.ELEMENT_ATTRIBUTES_AND_CHILDREN,A=/^[a-z_][a-z0-9_\-:]*$/i,O=/^event-(.+)$/;t.exports={getAttrByName:M,applyShowHideAttribute:P,addRoleAttribute:H,applyAttrs:B,modifyAttr:j}},"k.js":function(e,t,n,r,i,s,o,u,a){var f=n.require("./2.js"),l=f.TYPE_CONTENT;t.exports=function(e,t,n,r){var i=[l,2];n.children&&i.push.apply(i,t.process(n.children,e,t)),r.push(i)}},"l.js":function(e,t,n,r,i,s,o,u,a){var f=Object.prototype.hasOwnProperty,l=n.require("./2.js"),c=n.require("./f.js"),h=c.getTokenAttrValues,p=l.CLASS_BINDING_BOOL,d=l.CLASS_BINDING_INVERT,v=l.CLASS_BINDING_ENUM;t.exports=function(e,t,n){var r=h(n);if("name"in r&&"type"in r&&!f.call(t.defines,r.name)){var i=r.from||r.name,s=r.name,o=!1,u,a;switch(r.type){case"bool":o=[i,p,s,r["default"]=="true"?1:0];break;case"invert":o=[i,d,s,!r["default"]||r["default"]=="true"?1:0];break;case"enum":if("values"in r==0)break;a=(r.values||"").trim();if(!a)break;a=a.split(/\s+/),u=a.indexOf(r["default"]),o=[i,v,s,u+1,a]}o&&(t.defines[s]=o)}}},"m.js":function(e,t,n,r,i,s,o,u,a){function U(e,t){c(e,function(e,n){n.includeToken||(n.includeToken=t)})}function z(e,t){c(e,function(e,n){if(e!==B||n[H]!="role-marker")return;var r=n[P][1],i=r[1];r[1]="/"+t+i})}function W(e){if(Array.isArray(e))return e.map(W);if(e&&e.constructor===Object){var t={};for(var n in e)t[n]=W(e[n]);return t}return e}function X(e,t){return{type:j,prefix:"b",name:e.instruction,attrs:n.object.iterate(e.attrs||{},function(e,t){return{type:B,name:e,value:t}}).concat(n.object.complete({name:e.valueTo},t))}}var f=n.array.remove,l=n.array.add,c=n.require("./h.js").walk,h=n.require("./f.js"),p=h.addUnique,d=h.getTokenAttrValues,v=h.getTokenAttrs,m=h.parseOptionsValue,g=n.require("./g.js"),y=g.normalizeRefs,b=g.addTokenRef,w=g.removeTokenRef,E=n.require("./i.js"),S=E.styleNamespaceIsolate,x=E.adoptStyles,T=E.addStyle,N=E.isolateTokens,C=E.applyStyleNamespaces,k=n.require("./j.js"),L=k.getAttrByName,A=k.addRoleAttribute,O=k.applyShowHideAttribute,M=k.modifyAttr,_=n.require("./2.js"),D=_.TOKEN_TYPE,P=_.TOKEN_BINDINGS,H=_.ATTR_NAME,B=_.TYPE_ATTRIBUTE,j=_.TYPE_ELEMENT,F=_.ELEMENT_ATTRIBUTES_AND_CHILDREN,I=_.CONTENT_CHILDREN,q=["include","content"],R={"class":{instruction:"append-class",valueTo:"value"},id:{instruction:"set-attr",valueTo:"value",attrs:{name:"id"}},ref:{instruction:"add-ref",valueTo:"name"},show:{instruction:"show",valueTo:"expr"},hide:{instruction:"hide",valueTo:"expr"},visible:{instruction:"visible",valueTo:"expr"},hidden:{instruction:"hidden",valueTo:"expr"}};t.exports=function(e,t,r,i){var s=d(r),o=v(r),u=t.includeStack,a=s.src;if(!a)return;var c;/^#[^\d]/.test(a)?(c=e.templates[a.substr(1)],c&&(c=t.makeDeclaration(W(c.tokens),c.baseURI,c.options,c.sourceUrl))):c=t.resolveResource(a,e.baseURI);if(!c)return;if(u.indexOf(c)!==-1)return;var h=o.isolate?o.isolate.value||t.genIsolateMarker():"",g=s.options?m(s.options):null,E=t.getDeclFromSource(c,"",!0,n.object.merge(t,{includeOptions:g}));U(E.tokens,r),e.includes.push({token:r,resource:c,nested:E.includes}),c.bindingBridge&&l(e.deps,c),E.deps&&p(e.deps,E.deps),E.warns&&e.warns.push.apply(e.warns,E.warns);if(E.resources){var k=E.resources;"no-style"in s?k=k.filter(function(e){return e.type!="style"}):x(k,h,r),e.resources.unshift.apply(e.resources,k)}var _={prefix:t.genIsolateMarker()};C(E.tokens,_);for(var P in E.styleNSPrefix)e.styleNSPrefix[_.prefix+P]=n.object.merge(E.styleNSPrefix[P],{});h&&N(E.tokens,h);var H=!1,B=[],V=y(E.tokens);for(var $ in o)if(R.hasOwnProperty($))B.push(X(R[$],o[$]));else if($==="role"){var J=o.role.value;if(J&&!/[\/\(\)]/.test(J)){var K;z(E.tokens,J,o.role,K)}}B=B.concat(r.children);for(var Q=0,G;G=B[Q];Q++)if(G.type==j&&G.prefix=="b"&&q.indexOf(G.name)===-1){var Y=d(G),Z="ref"in Y?Y.ref:"element",et=Z.charAt(0)===":",tt=Z&&V[Z],nt=tt&&tt.node;switch(G.name){case"style":var Y=d(G),rt=!0;if(Y.options){var it=m(Y.options);for(var st in it)rt=rt&&it[st]==g[st]}if(rt){var ot=Y.namespace?"namespace":"ns",ut=Y[ot],at=ut?S:h,ft=T(e,G,Y.src,at,ut);ut&&(ft in S==0&&(S[ft]=t.genIsolateMarker()),e.styleNSPrefix[_.prefix+ut]={name:ut,prefix:S[ft]})}break;case"replace":case"remove":case"before":case"after":var lt=G.name=="replace"||G.name=="remove",Y=d(G),Z="ref"in Y||!lt?Y.ref:"element",tt=Z&&V[Z];if(tt){var ct=tt.parent,ht=ct.indexOf(tt.node);if(ht!=-1){var pt=[ht+(G.name=="after"),lt];G.name!="remove"&&(pt=pt.concat(t.process(G.children,e,t))),ct.splice.apply(ct,pt)}}break;case"prepend":case"append":if(nt&&nt[D]==j){var dt=t.process(G.children,e,t);G.name=="prepend"?nt.splice.apply(nt,[F,0].concat(dt)):nt.push.apply(nt,dt)}break;case"show":case"hide":case"visible":case"hidden":if(nt&&nt[D]==j){var vt=v(G).expr;if(!vt)break;O(e,t,nt,n.object.complete({name:G.name},v(G).expr))}break;case"attr":case"set-attr":M(e,t,r,nt,G,!1,"set");break;case"append-attr":M(e,t,r,nt,G,!1,"append");break;case"remove-attr":M(e,t,r,nt,G,!1,"remove");break;case"class":case"append-class":M(e,t,r,nt,G,"class","append");break;case"set-class":M(e,t,r,nt,G,"class","set");break;case"remove-class":var mt=v(G).value;mt&&(mt.value=mt.value.split(/\s+/).map(function(e){return e.indexOf(":")>0?_.prefix+e:e}).join(" "),mt.binding&&mt.binding.forEach(function(e){e[0].indexOf(":")>0&&(e[0]=_.prefix+e[0])}),mt.map_&&mt.map_.forEach(function(e){e.value.indexOf(":")>0&&(e.value=_.prefix+e.value)})),M(e,t,r,nt,G,"class","remove-class");break;case"add-ref":var gt=(Y.name||"").trim();if(!nt)break;if(et)break;if(!/^[a-z_][a-z0-9_]*$/i.test(gt))break;b(nt,gt);break;case"remove-ref":var gt=(Y.name||"").trim(),Z="ref"in Y?Y.ref:gt||"element",et=Z.charAt(0)===":",tt=Z&&V[Z],nt=tt&&tt.node;if(!nt)break;if(et)break;if(!/^[a-z_][a-z0-9_]*$/i.test(gt))break;w(nt,gt||Z);break;case"role":case"set-role":var st=Y.name;!st&&"value"in Y&&(st=Y.value);if(!nt)break;f(nt,L(nt,"role-marker")),A(e,t,nt,st||"",G);break;case"remove-role":if(!nt)break;f(nt,L(nt,"role-marker"));break;default:}}else{var tt=V[":content"],yt=t.process([G],e,t);if(tt){var ct=tt.parent,ht=ct.indexOf(tt.node);H||(H=!0,tt.node.splice(I)),tt.node.push.apply(tt.node,yt)}else E.tokens.push.apply(E.tokens,yt)}V.element&&w(V.element.node,"element"),i.push.apply(i,E.tokens)}},"1.js":function(e,t,n,r,i,s,o,u,a){function T(e){var t=x[e];if(!t){var r=l.getElementById(e),i="";r&&r.tagName=="SCRIPT"&&r.type=="text/basis-template"&&(i=r.textContent||r.text),t=x[e]=n.resource.virtual("tmpl",i||"")}return t}function N(e,t){return/^#\d+$/.test(e)?S[e.substr(1)]:/^id:/.test(e)?T(e.substr(3)):/^[a-z0-9\.]+$/i.test(e)&&!/\.tmpl$/.test(e)?E(e):n.resource(n.resource.resolveURI(e,t,'<b:include src="{url}"/>'))}function C(){this.destroyBuilder&&k.call(this);var e=this;while(e=e.attaches_)e.handler.call(e.context)}function k(){var e=m(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),t=this.destroyBuilder,r={},i=this.builder(e.tokens,r);this.createInstance=i.createInstance,this.clearInstance=i.destroyInstance,this.destroyBuilder=i.destroy,b.add(this.templateId,this,r);var s=e.deps,o=this.deps_;this.deps_=s;if(o)for(var u=0,a;a=o[u];u++)a.bindingBridge.detach(a,C,this);if(s)for(var u=0,a;a=s[u];u++)a.bindingBridge.attach(a,C,this);var f=e.resources,l=this.resources;this.resources=f;if(f)for(var u=0,c;c=f[u];u++){var h=n.resource(c.url).fetch();typeof h.startUse=="function"&&h.startUse()}if(l)for(var u=0,c;c=l[u];u++){var h=n.resource(c.url).fetch();typeof h.stopUse=="function"&&h.stopUse()}t&&t(!0)}function M(e,t){return t||(t=e,e=null),typeof e=="string"&&(e=e.split(/\s+/)),new A({rule:t,events:e})}var f="basis.template",l=r.document,c=n.Class,h=n.cleaner,p=n.path,d=n.require("./2.js"),v=n.require("./3.js").VERSION,m=n.require("./3.js").getDeclFromSource,g=n.require("./3.js").makeDeclaration,y=n.require("./3.js").setIsolatePrefixGenerator,b=n.require("./4.js"),w=n.require("./5.js"),E=w.get,S=[],x={},L=c(null,{className:f+".Template",__extend__:function(e){return e instanceof L?e:e instanceof A?new O(e):new L(e)},source:"",baseURI:"",url:"",attaches_:null,init:function(e){if(S.length==4096)throw"Too many templates (maximum 4096)";this.setSource(e||""),this.templateId=S.push(this)-1},bindingBridge:{attach:function(e,t,n){e.attaches_={handler:t,context:n,attaches_:e.attaches_}},detach:function(e,t,n){var r=e,i;while(i=r,r=r.attaches_)if(r.handler===t&&r.context===n){i.attaches_=r.attaches_;return}},get:function(e){var t=e.source;return t&&t.bindingBridge?t.bindingBridge.get(t):t}},createInstance:function(e,t,n,r,i){return k.call(this),this.createInstance(e,t,n,r,i)},clearInstance:function(){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},setSource:function(e){var t=this.source;if(t!=e){if(typeof e=="string"){var n=e.match(/^([a-z]+):/);if(n){e=e.substr(n[0].length);switch(n[1]){case"id":e=T(e);break;case"path":e=E(e);break;default:}}}t&&t.bindingBridge&&(this.url="",this.baseURI="",t.bindingBridge.detach(t,C,this)),e&&e.bindingBridge&&(e.url&&(this.url=e.url,this.baseURI=p.dirname(e.url)+"/"),e.bindingBridge.attach(e,C,this)),this.source=e,C.call(this)}},destroy:function(){this.destroyBuilder&&(b.remove(this.templateId),this.destroyBuilder()),this.attaches_=null,this.createInstance=null,this.resources=null,this.source=null}}),A=function(e){n.object.extend(this,e)},O=n.Class(null,{className:f+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:L,ruleEvents:null,rule:String,init:function(e){this.ruleRet_=[],this.templates_=[],this.rule=e.rule;var t=e.events;if(t&&t.length){this.ruleEvents={};for(var n=0,r;r=t[n];n++)this.ruleEvents[r]=!0}h.add(this)},resolve:function(e){var t=this.rule(e),n=this.ruleRet_.indexOf(t);return n==-1&&(this.ruleRet_.push(t),n=this.templates_.push(new this.templateClass(t))-1),this.templates_[n]},destroy:function(){this.rule=null,this.templates_=null,this.ruleRet_=null}});h.add({destroy:function(){for(var e=0,t;t=S[e];e++)t.destroy();S=null}}),t.exports={DECLARATION_VERSION:v,TYPE_ELEMENT:d.TYPE_ELEMENT,TYPE_ATTRIBUTE:d.TYPE_ATTRIBUTE,TYPE_ATTRIBUTE_CLASS:d.TYPE_ATTRIBUTE_CLASS,TYPE_ATTRIBUTE_STYLE:d.TYPE_ATTRIBUTE_STYLE,TYPE_ATTRIBUTE_EVENT:d.TYPE_ATTRIBUTE_EVENT,TYPE_TEXT:d.TYPE_TEXT,TYPE_COMMENT:d.TYPE_COMMENT,TYPE_CONTENT:d.TYPE_CONTENT,TOKEN_TYPE:d.TOKEN_TYPE,TOKEN_BINDINGS:d.TOKEN_BINDINGS,TOKEN_REFS:d.TOKEN_REFS,ATTR_NAME:d.ATTR_NAME,ATTR_VALUE:d.ATTR_VALUE,ATTR_NAME_BY_TYPE:d.ATTR_NAME_BY_TYPE,CLASS_BINDING_ENUM:d.CLASS_BINDING_ENUM,CLASS_BINDING_BOOL:d.CLASS_BINDING_BOOL,CLASS_BINDING_INVERT:d.CLASS_BINDING_INVERT,ELEMENT_NAME:d.ELEMENT_NAME,ELEMENT_ATTRS:d.ELEMENT_ATTRIBUTES_AND_CHILDREN,ELEMENT_ATTRIBUTES_AND_CHILDREN:d.ELEMENT_ATTRIBUTES_AND_CHILDREN,TEXT_VALUE:d.TEXT_VALUE,COMMENT_VALUE:d.COMMENT_VALUE,CONTENT_CHILDREN:d.CONTENT_CHILDREN,CONTENT_PRIORITY:d.CONTENT_PRIORITY,TemplateSwitchConfig:A,TemplateSwitcher:O,Template:L,switcher:M,getDeclFromSource:m,makeDeclaration:g,resolveResource:N,setIsolatePrefixGenerator:y,resolveTemplateInfoByNode:function(e){while(e){if(e[d.MARKER])return b.resolveInfoById(e[d.MARKER]);e=e.parentNode}return null},resolveInfoById:b.resolveInfoById,resolveTemplateById:b.resolveTemplateById,resolveObjectById:b.resolveObjectById,resolveTmplById:b.resolveTmplById,SourceWrapper:w.SourceWrapper,Theme:w.Theme,theme:w.theme,getThemeList:w.getThemeList,currentTheme:w.currentTheme,setTheme:w.setTheme,onThemeChange:w.onThemeChange,define:w.define,get:w.get,getPathList:w.getPathList}},"o.js":function(e,t,n,r,i,s,o,u,a){var f=n.require("./f.js").getTokenAttrValues;t.exports=function(e,t,r){var i=f(r);i.src&&(t.dictURI=n.resource.resolveURI(i.src,e.baseURI,"<b:"+r.name+' src="{url}"/>'))}},"p.js":function(e,t,n,r,i,s,o,u,a){var f=n.require("./f.js"),l=n.require("./i.js"),c=l.styleNamespaceIsolate,h=l.addStyle,p=f.parseOptionsValue,d=f.getTokenAttrValues;t.exports=function(e,t,n){var r=!0,i=d(n);if(i.options){var s=p(i.options);for(var o in s)r=r&&s[o]==t.includeOptions[o]}if(r){var u=i.namespace?"namespace":"ns",a=i[u],f=a?c:"",l=h(e,n,i.src,f,a);if(a){l in c==0&&(c[l]=t.genIsolateMarker());if(a in e.styleNSPrefix)return;e.styleNSPrefix[a]={name:a,prefix:c[l]}}}}},"q.js":function(e,t,n,r,i,s,o,u,a){var f=n.array.add,l=n.require("./f.js"),c=l.getTokenName,h=l.getTokenAttrs,p=l.bindingList,d=n.require("./g.js").refList,v=n.require("./j.js").applyAttrs,m=n.require("./2.js").TYPE_ELEMENT;t.exports=function(e,t,r,i){var s=h(r),o=[],u=[m,0,0,"svg:use"],a=[m,p(r),d(r),"svg:svg",u];for(var l in s){var g=s[l];switch(c(g)){case"src":if(!g.value)continue;var y=n.resource.resolveURI(g.value,e.baseURI,"<b:"+r.name+' src="{url}"/>');f(e.deps,n.resource.buildCloak(y)),e.resources.push({type:"svg",url:y});break;case"use":v(e,t,u,[n.object.merge(g,{prefix:"xlink",name:"href"})]);break;default:o.push(g)}}i.push(v(e,t,a,o))}},"r.js":function(e,t,n,r,i,s,o,u,a){var f=n.require("./f.js").getTokenAttrValues;t.exports=function(e,t,r,i){var s=f(r),o=(s.ref||"").trim(),u=r.children[0]||{type:3,value:""};u=n.object.merge(u,{refs:o?o.split(/\s+/):[],value:"notrim"in s?u.value:(u.value||"").replace(/^ *(\r\n?|\n)( *$)?|(\r\n?|\n) *$/g,"")}),i.push.apply(i,t.process([u],e,t))}},"4.js":function(e,t,n,r,i,s,o,u,a){function l(e,t,n){f[e]={template:t,instances:n}}function c(e){delete f[e]}function h(e){var t=e&4095,n=e>>12,r=f[t];return r&&r.instances[n]}function p(e){var t=e&4095,n=e>>12,r=f[t],i=r&&r.instances[n];if(i)return{id:e,template:r.template,context:i.context,tmpl:i.tmpl}}function d(e){var t=e&4095,n=f[t];return n&&n.template}function v(e){var t=h(e);return t&&t.context}function m(e){var t=h(e);return t&&t.tmpl}function g(e){var t=h(e);return t&&{context:t.context,action:t.action}}var f={};t.exports={add:l,remove:c,resolveInfoById:p,resolveTemplateById:d,resolveObjectById:v,resolveTmplById:m,resolveActionById:g}},"5.js":function(e,t,n,r,i,s,o,u,a){function g(){var e=n.array(arguments).join("."),t=c[e];return t||(t=new m("",e),c[e]=t),t}function y(e){var t={},n=[];for(var r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function b(e,t){var n=[];n.source=y(t).join("/");var r={base:!0};for(var i=0;i<t.length;i++){var s=t[i]||"base";if(s==e||r[s])continue;r[s]=!0,n.push(s),T(s),t.splice.apply(t,[i+1,0].concat(l[s].fallback))}return n.unshift(e),e!="base"&&n.push("base"),n.value=n.join("/"),n}function w(e,t){var n=l[e].sourcesList;for(var r=0,i;i=n[r];r++)if(i.hasOwnProperty(t))return i[t];return""}function E(e){return l[p].fallback.indexOf(e)!=-1}function S(e){g(e).set()}function x(){for(var e in c)S(e)}function T(e){e||(e="base");if(l[e])return l[e].theme;if(!/^([a-z0-9\_\-]+)$/.test(e))throw"Bad name for theme - "+e;var t={},r=[t],i=new v;l[e]={theme:i,sources:t,sourcesList:r,fallback:[]};var s=function(n,r){return n in t==0&&(t[n]=r,E(e)&&S(n)),g(n)};return n.object.extend(i,{name:e,fallback:function(t){if(i!==d&&arguments.length>0){var n=typeof t=="string"?t.split("/"):[],r={};n=b(e,n);if(l[e].fallback.source!=n.source){l[e].fallback.source=n.source;for(var s in l){var o=l[s].fallback,n=b(s,(o.source||"").split("/"));if(n.value!=o.value){r[s]=!0,l[s].fallback=n;var u=l[s].sourcesList;u.length=n.length;for(var a=0;a<u.length;a++)u[a]=l[n[a]].sources}}}for(var s in r)if(E(s)){x();break}}var f=l[e].fallback.slice(1);return f.source=l[e].fallback.source,f},define:function(e,t){typeof e=="function"&&(e=e());if(typeof e=="string"){if(typeof t=="object"){var n=e,r=t,o={};for(var u in r)r.hasOwnProperty(u)&&(o[u]=s(n+"."+u,r[u]));return o}return arguments.length==1?g(e):s(e,t)}if(typeof e=="object"){var r=e;for(var a in r)r.hasOwnProperty(a)&&s(a,r[a]);return i}},apply:function(){if(e!=p){p=e,x(),n.Token.prototype.set.call(T,p);for(var t=0,r;r=h[t];t++)r.fn.call(r.context,e)}return i},getSource:function(n,r){return r?w(e,n):t[n]},drop:function(n){t.hasOwnProperty(n)&&(delete t[n],E(e)&&S(n))}}),l[e].fallback=b(e,[]),r.push(l.base.sources),i}function N(e){return T(e).apply()}function C(e,t,n){h.push({fn:e,context:t}),n&&e.call(t,p)}var f="basis.template.theme",l={},c={},h=[],p="base",d,v=n.Class(null,{className:f+".Theme",get:g}),m=n.Class(n.Token,{className:f+".SourceWrapper",path:"",url:"",baseURI:"",init:function(e,t){this.path=t,n.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=w(p,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,m.prototype.apply,this),this.value=e,this.url=e&&e.url||"",this.baseURI=(typeof e=="object"||typeof e=="function")&&"baseURI"in e?e.baseURI:n.path.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,m.prototype.apply,this),this.apply())},destroy:function(){this.url=null,this.baseURI=null,this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this),n.Token.prototype.destroy.call(this)}});n.object.extend(T,new n.Token(p)),T.set=N,n.cleaner.add({destroy:function(){for(var e in c)c[e].destroy();l=null,c=null}}),d=T(),t.exports={SourceWrapper:m,Theme:v,theme:T,getThemeList:function(){return n.object.keys(l)},currentTheme:function(){return l[p].theme},setTheme:N,onThemeChange:C,define:d.define,get:g,getPathList:function(){return n.object.keys(c)}}},"6.js":function(e,t,n,r,i,s,o,u,a){function k(e){var t=e.getDictionary(),n=e.getName(),r=n+"@"+t.id,i=C[r],s;if(!i){var o=t.token(n);i=C[r]=o.as(function(e){return o.getType()=="markup"?(typeof e=="string"&&d(o)&&(e=e.replace(/\{#\}/g,"{__templateContext}")),e!=this.value&&s&&(s.detach(o,o.apply),s=null),e&&String(e).substr(0,5)=="path:"&&(s=E(e.substr(5)),s.attach(o,o.apply)),s?s.bindingBridge.get(s):e):this.value}),i.id="{l10n:"+r+"}",i.url=t.getValueSource(n)+":"+n}return i}function L(e){typeof e=="string"&&(e=v(e));if(!e)return null;var t=k(e),n=t.id,r=N[n];return r||(r=N[n]=new O(t)),r}var f="basis.template.html",l=r.document,c=r.Node,h=n.string.camelize,p=n.require("./7.js").isMarkupToken,d=n.require("./7.js").isTokenHasPlaceholder,v=n.require("./7.js").token,m=n.require("./9.js").getFunctions,g=n.require("./1.js"),y=g.TemplateSwitchConfig,b=g.TemplateSwitcher,w=g.Template,E=g.get,S=n.require("./b.js"),x=n.require("./2.js").CLONE_NORMALIZATION_TEXT_BUG,T=!!function(){try{return l.documentElement.style.color="x"}catch(e){}}(),N={},C={},A=function(){function s(e){var t=e.startMarker,n=e.endMarker,r=t.nextSibling;while(r&&r!==n){var i=r;r=r.nextSibling,e.appendChild(i)}return n.parentNode.removeChild(n),e.startMarker=null,e.endMarker=null,t}function g(e,t,r,i){var s=e.classList;if(!s)return y(e,t,r,i);var o=r||"";return o!=t&&(t&&e.classList.remove(t),o&&(e.classList.add(o),i&&(e.classList.add(o+"-anim"),n.nextTick(function(){e.classList.remove(o+"-anim")})))),o}function y(t,r,i,s){var o=i||"";if(o!=r){var u=t.className,a=typeof u!="string",f;a&&(u=u.baseVal),f=u.split(e),r&&n.array.remove(f,r),o&&(f.push(o),s&&(n.array.add(f,o+"-anim"),n.nextTick(function(){var r=(a?t.className.baseVal:t.className).split(e);n.array.remove(r,o+"-anim"),a?t.className.baseVal=r.join(" "):t.className=r.join(" ")}))),a?t.className.baseVal=f.join(" "):t.className=f.join(" ")}return o}function N(){this.set(this.name,this.value)}function C(e,t,n){var r=t&&t.bindingBridge,i=this.attaches&&this.attaches[e],s=null;if(r||i)if(r){var o=p(t),u;o&&(u=L(t));if(!i||i.value!==t||i.template!==u){i&&(i.tmpl&&i.template.clearInstance(i.tmpl),i.value.bindingBridge.detach(i.value,N,i));if(u){var a=this.context,f=this.bindings,l=this.action,c=this.bindingInterface;s=u.createInstance(a,l,function d(){s=h.tmpl=u.createInstance(a,l,d,f,c),s.parent=s.element.parentNode||s.element,N.call(h)},f,c),s.parent=s.element.parentNode||s.element}this.attaches||(this.attaches=new n);var h=this.attaches[e]={name:e,value:t,template:u,tmpl:s,set:this.tmpl.set};r.attach(t,N,h)}else s=t&&p(t)?i.tmpl:null;if(s)return s.set("__templateContext",t.value),s.parent;t=r.get(t)}else i&&(i.tmpl&&i.template.clearInstance(i.tmpl),i.value.bindingBridge.detach(i.value,N,i),this.attaches[e]=null);return t}function k(e,t){var n=e[0],r=e[1],i=t[n],s=t[r];switch(e.length){case 1:return function(t){this(n,i(t))};case 2:return function(t){this(n,i(t)),this(r,s(t))};default:var o=e.map(function(e){return t[e]});return function(n){for(var r=0;r<e.length;r++)this(e[r],o[r](n))}}}function A(e,t){for(var n in e)e[n]=k(e[n],t);return n?e:null}function O(e){var t={};return function(r,i){var s=r.bindings;if(!s)return{};var o="bindingId"in s?s.bindingId:null,u=t[o];if(!u){var a=[],f={},l={};for(var c=0,h;h=e[c];c++){var p=s[h],d=p&&p.getter;if(d){f[h]=d,a.push(h);if(p.events){var v=String(p.events).trim().split(/\s+|\s*,\s*/);for(var m=0,g;g=v[m];m++)l[g]?l[g].push(h):l[g]=[h]}}}u={names:a,sync:k(a,f),handler:A(l,f)},o&&(t[o]=u)}i&&u.sync.call(i,r.context);if(!r.bindingInterface)return;return u.handler&&r.bindingInterface.attach(r.context,u.handler,i),u.handler}}var e=/\s+/,t=r.DOMTokenList&&l&&l.documentElement.classList instanceof r.DOMTokenList,i=function(){try{return l instanceof c}catch(e){}}()||!1,o=i?function(e,t,n,r){var i=!r&&n&&n instanceof c?n:e;return i!==t&&(i.nodeType===11&&!i.startMarker&&(i.startMarker=l.createTextNode(""),i.endMarker=l.createTextNode(""),i.insertBefore(i.startMarker,i.firstChild),i.appendChild(i.endMarker)),t.nodeType===11&&t.startMarker&&(t=s(t)),t.parentNode.replaceChild(i,t)),i}:function(e,t,n,r){var i=!r&&n&&typeof n=="object"?n:e;if(i!==t)try{t.parentNode.replaceChild(i,t)}catch(s){i=e,t!==i&&t.parentNode.replaceChild(i,t)}return i},u=function(e,t,n,r){var i=o(e,t,n,r);return i===e&&typeof n=="string"&&(e.innerHTML=n),i},a=o,f=function(e,t,n,r){var i=o(e,t,n,r);return i===e&&(e.nodeValue=String(n)),i},d=t?g:y,b=T?function(e,t,n,r){return n!==r&&(e.style[h(t)]=r),r}:function(e,t,n,r){if(n!==r)try{e.style[h(t)]=r}catch(i){}return r},w=function(e,t,n,r){return n!==r&&(r?e.setAttribute(t,r):e.removeAttribute(t)),r},E=function(e,t,n,r,i){return r!==i&&(i?e.setAttributeNS(t,n,i):e.removeAttributeNS(t,n)),i},M={bind_textNode:f,bind_node:o,bind_element:u,bind_comment:a,bind_attr:w,bind_attrNS:E,bind_attrClass:d,bind_attrStyle:b,resolve:C,l10nToken:v};return function(e,t){var r=m(e,!0,this.source.url,e.source_,!x),i=r.createL10nSync,s,o,u={},a=[],f=[],l=0,c={cloneNode:function(){if(l==1)return S(e);c=S(e);if(i){o=r.createL10nSync(c,u,w,x);for(var t=0,n;n=a[t];t++)o(n.path,u[n.path])}return c.cloneNode(!0)}},h=function(){return c.cloneNode(!0)};if(i){var d=function(e){for(var t=0,n;n=a[t];t++)e(n.path,u[n.path])},g=function(e){var r=p(this.token);r?n.array.add(f,this):n.array.remove(f,this),u[this.path]=r?undefined:e==null?"{"+this.path+"}":e,o&&o(this.path,u[this.path]);for(var i in t)t[i].tmpl.set(this.path,r?this.token:e)};a=r.l10nKeys.map(function(e){var t=v(e),n={path:e,token:t,handler:g};return t.attach(g,n),p(t)?f.push(n):u[e]=t.value==null?"{"+e+"}":t.value,n})}return s=r.createInstanceFactory(this.templateId,h,M,u,f,O(r.keys),x),{createInstance:function(e,n,r,i,o){var u=l++,a={context:e,action:n,rebuild:r,handler:null,bindings:i,bindingInterface:o,attaches:null,compute:null,tmpl:null};return s(u,a,u?null:d),t[u]=a,a.tmpl},destroyInstance:function(e){var n=e.templateId_,r=t[n];if(r){r.handler&&r.bindingInterface.detach(r.context,r.handler,r.tmpl.set);if(r.compute){for(var i=0;i<r.compute.length;i++)r.compute[i].destroy();r.compute=null}for(var s in r.attaches)C.call(r,s,null);delete t[n]}},destroy:function(e){for(var n=0,i;i=a[n];n++)i.token.detach(i.handler,i);for(var s in t){var f=t[s];e&&f.rebuild&&f.rebuild.call(f.context);if(!e||s in t){f.handler&&f.bindingInterface.detach(f.context,f.handler,f.tmpl.set);for(var s in f.attaches)C.call(s,null)}}r=null,c=null,u=null,a=null,o=null,t=null}}}}(),O=w.subclass({className:f+".Template",__extend__:function(e){return e instanceof O?e:e instanceof y?new M(e):new O(e)},builder:A}),M=b.subclass({className:f+".TemplateSwitcher",templateClass:O});t.exports={Template:O,TemplateSwitcher:M}},"7.js":function(e,t,n,r,i,s,o,u,a){function y(e,t){return e=d(e,t),e}function b(e){return y(u(e).get(!0),e)||{}}function w(e,t){function n(){F[e].update(E(b(e),t))}return{url:t,activate:function(){u(t).attach(n)},deactivate:function(){u(t).detach(n)}}}function E(e,t){function n(e){return e&&Object.prototype.toString.call(e)=="[object Object]"}function r(e,i,s,o){s&&(s+=".");for(var u in i)n(i[u])?e[u]=r(n(e[u])?e[u]:{},i[u],s+u,o):(o[s+u]=t,e[u]=i[u]);return e}var i=b(t),s;for(var o in i){if(o=="_meta"||o=="_locationMap"){n(e[o])||(e[o]={}),r(e[o],i[o],"",{});continue}v.call(e,o)?e[o]._meta||(e[o]._meta={}):e[o]={_meta:{source:{}}},s={},e[o]._meta.source={},r(e[o],i[o],"",s),e[o]._meta.source=s}return e}function S(e,t){return e=y(e,t),g[t]&&E(e,g[t].url),W(t,!0).update(e)}function _(e){if(e.charAt(0)=="#")return x[parseInt(e.substr(1),36)];var t=e.match(/^(.+?)@(.+)$/);if(t)return X(n.path.resolve(t[2])).token(t[1])}function D(e){return e?e instanceof M||e instanceof O:!1}function P(e){return D(e)&&e.getType()in k}function H(e){return D(e)&&e.descriptor.placeholder}function B(e){return D(e)&&e.getType()=="markup"}function q(e,t,r){var i=t?t+".":"",s=r.types[t]||"default";for(var o in e){if(t==""&&o=="_meta")continue;if(o.indexOf(".")!=-1)continue;if(v.call(e,o)){var u=i+o,a=r.types[u]||L[s]||"default",f=e[o],l=a in k||s in k;r.values[u]={placeholder:l,processName:l?A:n.fn.$self,source:r.source[u]||r.dictionary.id,culture:r.culture,name:u,types:r.types,value:f},u in r.types==0&&(r.types[u]=a),f&&(typeof f=="object"||Array.isArray(f))&&q(f,u,r)}}return r.values}function R(e){var t=e._meta&&e._meta.type||{},n={};for(var r in t)t[r]in C&&(n[r]=t[r]);return n}function U(e){return e._meta&&e._meta.source||{}}function W(e,t){var r;if(typeof e=="string"){var i=e,s=n.path.extname(i);s!=".l10n"&&(i=i.replace(new RegExp(s+"([#?]|$)"),".l10n$1")),e=n.resource(i)}return n.resource.isResource(e)&&(r=F[e.url]),r||new z(e,t)}function X(e){return W(e)}function V(){return j.slice(0)}function et(e,t){return e&&!K[e]&&(K[e]=new Z(e,t)),K[e||J]}function tt(){return J}function nt(e){if(!e)return;if(J!=e){if($.indexOf(e)==-1)return;J=e;for(var t=0,n;n=j[t];t++)n.syncValues();m.call(et,e)}}function rt(){return $.slice(0)}function it(e){typeof e=="string"&&(e=e.trim().split(" "));if(!e.length)return;var t={},r,i;Q={};for(var s=0,o,u;o=e[s];s++)r=o.split("/"),r.length>2&&(r=[r[0],r[1]]),u=r[0],i||(i=u),t[u]=et(u),Q[u]=r;for(var u in Q)Q[u]=n.array.flatten(Q[u].map(function(e){return Q[e]})).concat(i).filter(function(e,t,n){return!t||n.lastIndexOf(e,t-1)==-1});$=n.object.keys(t),J in t==0&&nt(i)}function st(e,t,n){et.attach(e,t),n&&e.call(t,J)}var f="basis.l10n",l=n.object.extend,c=n.object.complete,h=n.Class,p=n.require("./8.js").Emitter,d=n.resource.extensions[".json"],v=Object.prototype.hasOwnProperty,m=n.Token.prototype.set;n.resource.extensions[".l10n"]=S;var g=function(){var e=n.config.l10n||{},t=e&&e.patch,r={},i;e.patch={};if(t){if(typeof t=="string")try{i=n.path.dirname(n.resource.resolveURI(t)),t=n.resource(t).fetch()}catch(s){}for(var o in t){var u=n.resource.resolveURI(o,i),a=n.resource.resolveURI(t[o],i);r[u]=w(u,a)}}return r}(),x=[],T={},N={placeholder:!1,processName:n.fn.$self,value:undefined,types:{}},C={"default":!0,plural:!0,markup:!0,"plural-markup":!0,"enum-markup":!0},k={plural:!0,"plural-markup":!0},L={"default":"default",plural:"default",markup:"default","plural-markup":"markup","enum-markup":"markup"},A=function(e){return this.culture.plural(e)},O=h(n.Token,{className:f+".ComputeToken",token:null,init:function(e){this.token.computeTokens[this.basisObjectId]=this,n.Token.prototype.init.call(this,e)},toString:function(){return this.get()},get:function(){var e=this.token.dictionary.getValue(this.getName());return this.token.descriptor.placeholder&&(e=String(e).replace(/\{#\}/g,this.value)),e},getName:function(){return this.token.name+"."+this.token.descriptor.processName(this.value)},getType:function(){return this.token.descriptor.types[this.getName()]||"default"},getDictionary:function(){return this.token.getDictionary()},destroy:function(){delete this.token.computeTokens[this.basisObjectId],n.Token.prototype.destroy.call(this)}}),M=h(n.Token,{className:f+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,computeTokenClass:null,init:function(e,t,r){n.Token.prototype.init.call(this,r.value),this.index=x.push(this)-1,this.name=t,this.dictionary=e,this.descriptor=r,this.computeTokens={}},toString:function(){return this.get()},apply:function(){for(var e in this.computeTokens)this.computeTokens[e].apply();n.Token.prototype.apply.call(this)},set:function(){},getName:function(){return this.name},getType:function(){return this.descriptor.types[this.name]||"default"},setType:function(){},compute:function(e,t){arguments.length==1&&(t=e,e=""),t=n.getter(t),e=String(e).trim().split(/\s+|\s*,\s*/).sort();var r=this.basisObjectId,i=e.concat(r,t[n.getter.ID]).join("_");if(T[i])return T[i];var s=this,o={},u=function(e){m.call(this,t(e))},a={destroy:function(e){delete o[e.basisObjectId],this.destroy()}};for(var f=0,l;l=e[f];f++)l!="destroy"&&(a[l]=u);return T[i]=function(e){if(e instanceof p==0)throw"basis.l10n.Token#compute: object must be an instanceof Emitter";var n=e.basisObjectId,r=o[n];return r||(r=o[n]=s.computeToken(t(e)),e.addHandler(a,r)),r}},computeToken:function(e){var t=this.computeTokenClass;return t||(t=this.computeTokenClass=O.subclass({token:this})),new t(e)},token:function(e){if(this.getType()in k)return this.computeToken(e);if(this.dictionary)return this.dictionary.token(this.name+"."+e)},getDictionary:function(){return this.dictionary},destroy:function(){for(var e in this.computeTokens)this.computeTokens[e].destroy();this.descriptor=null,this.computeTokenClass=null,this.computeTokens=null,this.value=null,this.dictionary=null,x[this.index]=null,n.Token.prototype.destroy.call(this)}}),j=[],F={},I=new n.Token,z=h(null,{className:f+".Dictionary",cultureValues:null,tokens:null,index:NaN,resource:null,id:null,init:function(e,t){this.tokens={},this.cultureValues={},this.index=j.push(this)-1;if(n.resource.isResource(e)){var r=e,i=r.url;this.id=i,this.resource=r,F[i]||(F[i]=this,I.set(i),g[i]&&g[i].activate()),t||r.fetch()}else this.id="dictionary"+this.index,this.update(e||{})},update:function(e){e||(e={}),this.cultureValues={};var t=R(e);for(var n in e)/^_|_$/.test(n)||(this.cultureValues[n]=q(e[n],"",{dictionary:this,culture:et(n),source:U(e[n]),types:c(R(e[n]),t),values:{}}));return this.syncValues(),this},syncValues:function(){for(var e in this.tokens){var t=this.tokens[e],n=this.getDescriptor(e)||N,r=t.getType();t.descriptor=n,t.value!==n.value?m.call(t,n.value):t.getType()!=r&&t.apply()}},getCultureDescriptor:function(e,t){return this.cultureValues[e]&&this.cultureValues[e][t]},getDescriptor:function(e){var t=Q[J]||[];for(var n=0,r;r=t[n];n++){var i=this.getCultureDescriptor(r,e);if(i)return i}},getCultureValue:function(e,t){var n=this.getCultureDescriptor(e,t);if(n)return n.value},getValue:function(e){var t=this.getDescriptor(e);if(t)return t.value},getValueSource:function(e){var t=this.getDescriptor(e);return t?t.source:this.id},token:function(e){var t=this.tokens[e];if(!t){var n=this.getDescriptor(e)||N;t=this.tokens[e]=new M(this,e,n)}return t},destroy:function(){this.tokens=null,this.cultureValues=null,n.array.remove(j,this);if(this.resource){var e=this.resource.url;g[e]&&g[e].deactivate(),delete F[e],this.resource=null}}}),$=[],J=null,K={},Q={},G={},Y=[[1,function(){return 0}],[2,function(e){return e==1||e%10==1?0:1}],[2,function(e){return e==0?0:1}],[2,function(e){return e==1?0:1}],[2,function(e){return e==0||e==1?0:1}],[2,function(e){return e%10!=1||e%100==11?1:0}],[3,function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e!=0?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e==0?0:e==1?1:2}],[3,function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2}],[3,function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e==1?0:e>=2&&e<=4?1:2}],[4,function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3}],[4,function(e){return e==1?0:e==2?1:e==3?2:3}],[4,function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0}],[4,function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3}],[4,function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3}],[5,function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4}],[6,function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5}]];["ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh","mk","jv","af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo","ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh","is","csb","lv","lt","be bs hr ru sr uk","mnk","ro","pl","cs sk","cy","kw","sl","mt","gd","ga","ar"].forEach(function(e,t){e.split(" ").forEach(function(e){G[e]=this},Y[t])});var Z=n.Class(null,{className:f+".Culture",name:"",pluralForm:null,init:function(e,t){this.name=e,K[e]||(K[e]=this),this.pluralForm=t||G[e]||G[e.split("-")[0]]||Y[0]},plural:function(e){return Number(this.pluralForm[1](Math.abs(parseInt(e,10))))}});l(et,new n.Token),et.set=nt,it("en-US"),nt("en-US"),t.exports={ComputeToken:O,Token:M,token:_,isToken:D,isPluralToken:P,isMarkupToken:B,isTokenHasPlaceholder:H,Dictionary:z,dictionary:X,getDictionaries:V,addCreateDictionaryHandler:I.attach.bind(I),removeCreateDictionaryHandler:I.detach.bind(I),Culture:Z,culture:et,getCulture:tt,setCulture:nt,getCultureList:rt,setCultureList:it,pluralForms:Y,onCultureChange:st}},"8.js":function(e,t,n,r,i,s,o,u,a){function v(e){var t=h[e];return t||(t=function(){var t=this,n,r;while(t=t.handler){r=t.callbacks[e];if(typeof r=="function"){if(!n){n=[this];for(var i=0;i<arguments.length;i++)n.push(arguments[i])}r.apply(t.context||this,n)}r=t.callbacks["*"];if(typeof r=="function"){if(!n){n=[this];for(var i=0;i<arguments.length;i++)n.push(arguments[i])}r.call(t.context||this,{sender:this,type:e,args:n})}}},h[e]=t),t}function m(e,t){var n={events:[]};if(e){e=String(e).trim().split(/\s+|\s*,\s*/).sort(),n={events:e};for(var r=0,i;i=e[r];r++)i!="destroy"&&(n[i]=t)}return n}var f="basis.event",l=n.Class,c={},h={},p=function(){},d=function(){},g=l(null,{className:f+".Emitter",extendConstructor_:!0,propertyDescriptors:l.customExtendProperty({basisObjectId:!0,propertyDescriptors:!1,handler:!1,listen:!1},function(e,t){for(var n in t){var r=t[n];r===!0||r=="<static>"?r={isStatic:!0}:r===!1?r={isPrivate:!0}:typeof r=="string"&&(r={events:r}),e[n]=r}}),handler:null,emit_destroy:v("destroy"),listen:l.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(e,t){t=t||this,this.handler={callbacks:e,context:t,handler:this.handler}},removeHandler:function(e,t){if(this.destroy===d)return;var n=this,r;t=t||this;while(r=n,n=n.handler)if(n.callbacks===e&&n.context===t){n.callbacks=c,r.handler=n.handler;return}},destroy:function(){this.destroy=p,this.emit_destroy(),this.handler=null,this.destroy=d}});t.exports={create:v,createHandler:m,events:h,Emitter:g}},"9.js":function(e,t,n,r,i,s,o,u,a){function P(e,t){var n=[];for(var r=0;r<e.length;r++){if(r<t){n.push(e[r]);continue}var i=e[r];switch(i[E]){case p:n.push(P(i,k));break;case w:n.push.apply(n,P(i,L).slice(L));break;default:n.push(i)}}return n}function j(e,t){return new Function(e,t)}var f=Object.prototype.hasOwnProperty,l=n.require("./2.js"),c=n.require("./a.js"),h=l.MARKER,p=l.TYPE_ELEMENT,d=l.TYPE_ATTRIBUTE,v=l.TYPE_ATTRIBUTE_CLASS,m=l.TYPE_ATTRIBUTE_STYLE,g=l.TYPE_ATTRIBUTE_EVENT,y=l.TYPE_TEXT,b=l.TYPE_COMMENT,w=l.TYPE_CONTENT,E=l.TOKEN_TYPE,S=l.TOKEN_BINDINGS,x=l.TOKEN_REFS,T=l.ATTR_NAME,N=l.ATTR_NAME_BY_TYPE,C=l.ELEMENT_NAME,k=l.ELEMENT_ATTRIBUTES_AND_CHILDREN,L=l.CONTENT_CHILDREN,A=l.CLASS_BINDING_ENUM,O=l.CLASS_BINDING_BOOL,M=l.CLASS_BINDING_INVERT,_={},D=function(){try{return r.document.createTextNode("").x=1,!0}catch(e){return!1}}(),H=function(){function u(e,t){for(var r=0,i;i=e[r];r++)i.indexOf(":")==-1&&n.push(i+":"+t)}function a(n){var r=t.length,i=e[r]||"r"+r;return t.push(i+"="+n),i}function f(e){r.push(e)}function l(e,n,r){var c,d,w,L,A;for(var O=0,M=0,_=0,P;P=e[O];O++,M++,L=!1){O?e[O+1]?(P[E]==e[O-1][E]&&P[E]==y&&_++,c=n+".childNodes["+(r?M:M+(_?" + "+_+" * TEXT_BUG":""))+"]"):c=n+".lastChild":c=n+".firstChild";if(d=P[x])L=!0,c=a(c),u(d,c);P[S]&&(P[S]&&typeof P[S]=="number"&&(P[S]=P[x][P[S]-1]),L||(L=!0,c=a(c)),f([P[E],c,P[S],d?d.indexOf("element")!=-1:!1])),n==s&&(D||P[E]==p)&&i.push(c+"."+h);if(P[E]==p){w=-1,L||(c=a(c),w=t.length);var H=[],B=[];for(var j=k,F;F=P[j];j++)F[E]==p||F[E]==y||F[E]==b?B.push(F):H.push(F);for(var j=0,I;I=H[j];j++){var q=I[E];if(q==g)continue;var R=N[q]||I[T];if(d=I[x])L=!0,u(d,a(c+'.getAttributeNode("'+R+'")'));if(A=I[S]){L=!0;switch(q){case v:for(var U=0,z;z=A[U];U++)f([2,c,z[1],R,z[0]].concat(z[2]==-1?[]:z.slice(2)));break;case m:for(var U=0,W;W=A[U];U++){o++;for(var X=0,V;V=W[0][X];X++)f([2,c,V,R,W[0],W[1],W[2],W[3],o])}break;default:o++;for(var U=0,V;V=A[0][U];U++)f([2,c,V,R,A[0],A[1],P[C],o])}}}B.length&&l(B,c,r),!L&&w==t.length&&t.pop()}}}var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t,n,r,i,s,o;return function(e,u,a){return t=[],n=[],r=[],i=[],s=u||"_",o=0,l(e,s,a),{path:t,ref:n,binding:r,markedElementList:i}}}(),B=function(){function u(e){return'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}function a(t,n,r){var i=[],s=[],o=t[5],a=t[4],f,l;for(var c=0;c<o.length;c++)if(typeof o[c]=="string")i.push(u(o[c]));else{f=a[o[c]],l=f.indexOf(":");if(l==-1)i.push(n=="l10n"?'"{'+f+'}"':n=="bool"?"(__"+f+'||"")':"__"+f),n||s.push("__"+f+"!==UNSET&&__"+f+"!==undefined");else{var h=null,p=f.substr(l+1).replace(e,function(e,t){return h=t,""});if(h){if(r===!1)return!1;i.push(r[f.substr(l+1)]),n||s.push(r[f.substr(l+1)]+"!==undefined")}else i.push('l10n["'+p+'"]')}}return i.length==1&&i.push('""'),i=i.join("+"),!n&&s.length&&(i=s.join("&&")+"?("+i+'):""'),i}var e=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,t={disabled:"*",checked:["input"],indeterminate:["input"],value:["input","textarea","select"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},r={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0,indeterminate:!0},i={show:'"none"',visible:'"hidden"'},s={hide:'?"none":""',show:'?"":"none"',hidden:'?"hidden":""',visible:'?"":"hidden"'},o={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(l){function h(e){P[e]=!0,m.push(g+"="+e+"("+n.array(arguments,1)+");")}var v={},m,g,b=0,w=[],E=[],S=[],x,N,C=[],k={},L=0,_,D={},P={};for(var H=0,B;B=l[H];H++){var j=B[2],F=j.split(":");if(F[0]=="l10n"&&F[1]){var I=F[1],q=null,R=I.replace(e,function(e,t){return q=t,""});if(q){S.push(B),I in k==0&&(x="$l10n_"+L++,k[I]=x,C.push(x),w.push(x+'=tools.l10nToken("'+R+'").computeToken()'),m=v[q],m||(m=v[q]=[],w.push("__"+q+"=UNSET")),m.push(x+".set(__"+q+");"));continue}}E.push(B)}for(var H=0,B;B=S[H];H++){var U=B[0],z=B[1],j=B[2],W=B[3],I=j.split(":")[1];j=k[I],g="_"+b++,x="__"+j,m=v[j],m||(m=v[j]=[],w.push(x));if(U==y)w.push(g+"="+z),h(o[U],z,g,"value",W);else{var X=a(B,!1,k);_=B[7],D[_]||(w.push(g),D[_]=g),g=D[_],J='"'+B[T]+'"',h("bind_attr",z,J,g,X)}}for(var H=0,B;B=E[H];H++){var U=B[0],z=B[1],j=B[2],W=B[3];if(["get","set","templateId_"].indexOf(j)!=-1)continue;var F=j.split(":"),V=F[0]=="anim",$=F[0]=="l10n";V&&(j=F[1]),m=f.call(v,j)?v[j]:null,g="_"+b++,x="__"+j;if($&&F[1]){var I=F[1],q=null,R=I;N||(N={}),v[R]||(v[R]=[],v[R].l10n="$l10n_"+L++,w.push("__"+v[R].l10n+'=l10n["'+R+'"]'),N[R]=[]),m=v[R];if(U==y){N[R].push(z+".nodeValue=value;"),m.nodeBind?m.push(z+".nodeValue=value;"):(w.push(g+"="+z),h(o[U],z,g,"value",W),m.nodeBind=g);continue}var X=a(B,"l10n",!1);X!==!1&&N[R].push("bind_attr("+[z,'"'+B[T]+'"',"NaN",X]+");")}m||(m=v[j]=[],w.push(x+"=UNSET"));if(U!=d)if(!m.nodeBind)w.push(g+"="+z),h(o[U],z,g,"value",W),m.nodeBind=g;else switch(U){case p:h(o[U],z,z,"value!==null?String(value):null");break;case y:m.push(z+".nodeValue=value;")}else{var J=B[T];switch(J){case"role-marker":w.push(g+'=""'),h("bind_attr",z,'"'+J+'"',g,"value?value"+(B[5][1]?"+"+u(B[5][1]):"")+':""');break;case"class":var K="",Q="value",G=B[5],Y=B[7];switch(G){case O:case M:var Z=[B[6]],et=B[4],tt=Array.isArray(et)?et:Z.map(function(e){return et+e});Q=(G==M?"!":"")+'value?"'+tt[0]+'":""',Y&&(K=tt[Y-1]);break;case A:var Z=B[8],et=B[4],tt=Array.isArray(et)?et:Z.map(function(e){return et+e});Q=Z.map(function(e,t){return'value=="'+e+'"?"'+tt[t]+'"'}).join(":")+':""',Y&&(K=tt[Y-1]);break;default:var et=B[4];Q='typeof value=="string"||typeof value=="number"?"'+et+'"+value:(value?"'+et+j+'":"")'}w.push(g+'="'+K+'"'),h("bind_attrClass",z,g,Q,V);break;case"style":var X=a(B,"style",k);_=B[8],D[_]||(D[_]=g,w.push(g+"="+(i[B[7]]||'""'))),B[7]&&(X=X.replace(/\+""$/,"")+(s[B[7]]||"")),g=D[_],h("bind_attrStyle",z,'"'+B[6]+'"',g,X);break;default:var nt=t[J],rt=B[6].toLowerCase(),X=nt&&r[J]?a(B,"bool",k)+'?"'+J+'":""':a(B,!1,k);_=B[7],D[_]||(w.push(g+"=UNSET"),D[_]=g),g=D[_];if(J=="tabindex")h("bind_attr",z,'"'+J+'"',g,X+"==-1?"+(["input","button","textarea"].indexOf(rt)==-1?'""':"-1")+":"+X);else{var it=c.getNamespace(J);it?h("bind_attrNS",z,'"'+it+'"','"'+J+'"',g,X):h("bind_attr",z,'"'+J+'"',g,X)}nt&&(nt=="*"||nt.indexOf(rt)!=-1)&&m.push("if("+z+"."+J+"!="+g+")"+z+"."+J+"="+(r[J]?"!!"+g:g)+";")}}}var st=n.object.keys(v),ot="";if(st.length){P.resolve=!0,ot=[";function set(bindName,value){",'if(typeof bindName!="string")'];for(var j in v)v[j].nodeBind&&ot.push("if(bindName==="+v[j].nodeBind+")"+'bindName="'+j+'";'+"else ");ot.push("return;","value=resolve.call(instance,bindName,value,Attaches);","switch(bindName){");for(var j in v){var ut=v[j].l10n||j;ot.push('case"'+j+'":',"if(__"+ut+"!==value)","{","__"+ut+"=value;",v[j].join(""),"}","break;")}ot=ot.join("")+"}}"}var at=[];for(var ft in P)at.push(ft+"=tools."+ft);return{allKeys:st,keys:st.filter(function(e){return e.indexOf("@")==-1}),tools:at,vars:w,set:ot,l10n:N,l10nCompute:C}}}(),F=function(e,t,r,i,s){var o=_[r&&n.path.relative(r)];if(o)return o;e=P(e,0);var u=H(e,"_",s),a=B(u.binding),f=u.markedElementList.join("="),l={keys:a.keys,l10nKeys:n.object.keys(a.l10n)};e.length==1&&(u.path[0]="a=_");if(a.l10n){var c=[];for(var h in a.l10n)c.push('case"'+h+'":'+a.l10n[h].join("")+"break;");l.createL10nSync=j(["_","l10n","bind_attr","TEXT_BUG"],"var "+u.path+";"+"return function(path, value){"+"switch(path){"+c.join("")+"}"+"}")}return l.createInstanceFactory=j(["tid","createDOM","tools","l10nMap","l10nMarkup","getBindings","TEXT_BUG"],"var UNSET={valueOf:function(){}},"+(a.tools.length?a.tools+",":"")+(a.set?"Attaches=function(){};Attaches.prototype={"+a.keys.map(function(e){return e+":null"})+"};":"set=function(){};")+"return function createTmpl_(id,instance,initL10n){"+"var _=createDOM(),"+(a.l10n?"l10n=initL10n?{}:l10nMap,":"")+u.path.concat(a.vars)+(a.l10nCompute.length?";instance.compute=["+a.l10nCompute+"]":"")+";instance.tmpl={"+[u.ref,"templateId_:id","set:set"]+"}"+(f?";if(instance.context||instance.onAction)"+f+"=(id<<12)|tid":"")+a.set+(a.l10n?";if(initL10n){l10n=l10nMap;initL10n(set)};if(l10nMarkup.length)for(var idx=0,token;token=l10nMarkup[idx];idx++)set(token.path,token.token);":"")+(a.set?";if(instance.bindings)instance.handler=getBindings(instance,set)":"")+";"+a.l10nCompute.map(function(e){return'set("'+e+'",'+e+")"})+"}"),l};t.exports={getFunctions:F}},"a.js":function(e,t,n,r,i,s,o,u,a){function l(e,t){if(!e)return;var n=e.indexOf(":");if(n!=-1){var r=e.substr(0,n);return f[r]||t&&t.lookupNamespaceURI(r)}}var f={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};t.exports={namespaceURI:f,getNamespace:l}},"b.js":function(e,t,n,r,i,s,o,u,a){function $(e){return function(t){if(t.type=="click"&&t.which==3)return;var n=z[t.type]||t.type!="mouseenter"&&t.type!="mouseleave",r=t.path.slice(0,t.path.length-1),i=r.shift(),s;while(i){s=i.getAttribute&&i.getAttribute(e);if(!n||typeof s=="string")break;i=r.shift()}if(typeof s=="string"){var o=i,u=o,a,f;if(z[t.type]){var l=t.relatedTarget;l&&(o===l||W(o,l))&&(o=null)}while(o){a=o[v];if(typeof a=="number")if(f=h(a))break;o=r.shift()}var c=s.trim().split(/\s+/),p=f&&f.action;for(var d=0,m;m=c[d++];)switch(m){case"prevent-default":t.preventDefault();break;case"stop-propagation":t.stopPropagation();break;case"log-event":break;default:p&&(t.actionTarget=u,p.call(f.context,m,t))}}t.type in U&&U[t.type](t,i)}}function J(e,t){K(t),z[e]=!0,U[t]=function(t){t=new c.Event(t),t.type=e,R[e](t)},U[e]=function(t,n){if(!n||!n.parentNode)return;t=new c.Event(t),t.type=e,t.sender=n.parentNode,R[e](t)}}function K(e){if(l.call(R,e))return;R[e]=$("event-"+e);if(q)return;if(!I){if(e=="mouseenter")return J(e,"mouseover");if(e=="mouseleave")return J(e,"mouseout")}for(var t=0,n=c.browserEvents(e),r;r=n[t];t++)c.addGlobalHandler(r,R[e])}function Y(e,t,n){K(t),X&&V.indexOf(t)!=-1&&e.setAttribute("style","cursor:pointer;"+(e.getAttribute("style")||"")),q&&e.setAttribute("on"+t,q+'("'+t+'",event)'),e.setAttribute("event-"+t,n)}function Z(e,t,n){Q&&t=="class"&&(t="className");if(G&&t=="style")return e.style.cssText=n;var r=d.getNamespace(t,e);r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}var f=r.Node,l=Object.prototype.hasOwnProperty,c=n.require("./c.js"),h=n.require("./4.js").resolveActionById,p=n.require("./2.js"),d=n.require("./a.js"),v=p.MARKER,m=p.CLONE_NORMALIZATION_TEXT_BUG,g=p.TYPE_ELEMENT,y=p.TYPE_ATTRIBUTE,b=p.TYPE_ATTRIBUTE_CLASS,w=p.TYPE_ATTRIBUTE_STYLE,E=p.TYPE_ATTRIBUTE_EVENT,S=p.TYPE_TEXT,x=p.TYPE_COMMENT,T=p.TYPE_CONTENT,N=p.TOKEN_TYPE,C=p.TOKEN_BINDINGS,k=p.TOKEN_REFS,L=p.ATTR_NAME,A=p.ATTR_VALUE,O=p.ATTR_VALUE_INDEX,M=p.ELEMENT_NAME,_=p.ELEMENT_ATTRIBUTES_AND_CHILDREN,D=p.CONTENT_CHILDREN,P=p.TEXT_VALUE,H=p.COMMENT_VALUE,B=p.CLASS_BINDING_ENUM,j=p.CLASS_BINDING_BOOL,F=p.CLASS_BINDING_INVERT,I="onmouseenter"in document.documentElement,q=!1,R={},U={},z={},W,X="ontouchstart"in document.documentElement,V=["mouseover","mouseup","mousedown","mousemove","click","dblclick"];f&&!f.prototype.contains?W=function(e,t){return e.compareDocumentPosition(t)&16}:W=function(e,t){return e.contains(t)},document.addEventListener||(q=n.publicCallback(function(e,t){c.fireEvent(document,e),t.returnValue=!0;var n=R[e];n&&n(new c.Event(t))},!0));var Q=function(){var e=document.createElement("div");return e.setAttribute("class","a"),!e.className}(),G=function(){var e=document.createElement("div");return e.setAttribute("style","position:absolute"),e.style.position!="absolute"}(),et=function(e,t,n){for(var r=t,i;i=e[r];r++){var s=i[N];switch(s){case g:var o=i[M],u=d.getNamespace(o),a=u?document.createElementNS(u,o):document.createElement(o);et(i,_,a),n.appendChild(a);break;case T:et(i,D,n);break;case y:i[C]||Z(n,i[L],i[A]||"");break;case b:var f=i[O[s]];f=f?[f]:[];if(i[C])for(var l=0,c;c=i[C][l];l++){var h=c[4];if(h){var p=c[0];if(Array.isArray(p))f.push(p[h-1]);else switch(c[2]){case j:case F:f.push(p+c[3]);break;case B:f.push(p+c[5][h-1])}}}f.length&&Z(n,"class",f.join(" "));break;case w:var f=i[O[s]];f&&Z(n,"style",(n.getAttribute("style")||"")+f);break;case E:Y(n,i[1],i[2]||i[1]);break;case x:n.appendChild(document.createComment(i[H]||(i[k]?"{"+i[k].join("|")+"}":"")));break;case S:m&&r&&e[r-1][N]==S&&n.appendChild(document.createComment("")),n.appendChild(document.createTextNode(i[P]||(i[k]?"{"+i[k].join("|")+"}":"")||(i[C]?"{"+i[C]+"}":"")))}}return n};t.exports=function(e){var t=et(e,0,document.createDocumentFragment());return t.childNodes.length===1&&(t=t.removeChild(t.firstChild)),t}},"c.js":function(e,t,n,r,i,s,o,u,a){function L(e){return E[e]||[e]}function A(e){var t=[];do t.push(e);while(e=e.parentNode);return t.push(r),t}function M(e){return e instanceof O?e.event_:e||r.event}function _(e){return typeof e=="string"?l.getElementById(e):e}function D(e){var t=e.target||e.srcElement||l;return t.nodeType==3?t.parentNode:t}function P(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function H(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function B(e,t){t=_(t),t?it(t,e,B):(H(e),P(e))}function j(e){return e.keyCode||e.which||0}function F(e){return e.charCode||e.keyCode||0}function I(e,t){return typeof e.which=="number"?e.which==t.VALUE:!!(e.button&t.BIT)}function q(e){return"pageX"in e?e.pageX:"clientX"in e?e.clientX+(l.compatMode=="CSS1Compat"?l.documentElement.scrollLeft:l.body.scrollLeft):0}function R(e){return"pageY"in e?e.pageY:"clientY"in e?e.clientY+(l.compatMode=="CSS1Compat"?l.documentElement.scrollTop:l.body.scrollTop):0}function U(e){if(e.changedTouches)return e.changedTouches[0].pageX}function z(e){if(e.changedTouches)return e.changedTouches[0].pageY}function W(e){var t=0;return"deltaY"in e?t=-e.deltaY:"wheelDelta"in e?t=e.wheelDelta:e.type=="DOMMouseScroll"&&(t=-e.detail),t&&t/Math.abs(t)}function G(e){J&&e!==K&&(K=e,n.codeFrame.start())}function Y(e){J&&e!==Q&&(Q=e,n.codeFrame.finish())}function Z(e){var t=p(X[e.type]),n=V[e.type],r=new O(e);G(e);if(n)n.handler.call(n.thisObject,r);else if(t)for(var i=t.length;i-->0;){var s=t[i];s.handler.call(s.thisObject,r)}Y(e)}function et(e,t,r){V[e]&&tt(e),t||(t=n.fn.$undef),nt(e,t,r),V[e]={handler:t,thisObject:r}}function tt(e){var t=V[e];t&&(rt(e,t.handler,t.thisObject),delete V[e])}function nt(e,t,n){var r=X[e];if(r){for(var i=0,s;s=r[i];i++)if(s.handler===t&&s.thisObject===n)return}else $?it(l,e,h):l.addEventListener(e,Z,!0),r=X[e]=[];r.push({handler:t,thisObject:n})}function rt(e,t,n){var r=X[e];if(r)for(var i=0,s;s=r[i];i++)if(s.handler===t&&s.thisObject===n){r.splice(i,1),r.length||(delete X[e],$?ot(l,e,h):l.removeEventListener(e,Z,!0));return}}function it(e,t,n,i){e=_(e);if(!e)throw"basis.event.addHandler: can't attach event listener to undefined";if(typeof n!="function")throw"basis.event.addHandler: handler is not a function";var s=e===r?d:e[v];s||(s=e[v]={});var o=s[t],u={handler:n,thisObject:i};if(!o)o=s[t]=[u],o.fireEvent=function(e){e=M(e);if($&&e&&X[t]&&typeof e.returnValue=="undefined"){Z(e);if(e.cancelBubble===!0)return;typeof e.returnValue=="undefined"&&(e.returnValue=!0)}G(e);for(var n=0,r=new O(e),i;i=o[n++];)i.handler.call(i.thisObject,r);Y(e)},m?e.addEventListener(t,o.fireEvent,!1):e.attachEvent("on"+t,o.fireEvent);else{for(var a=0,f;f=o[a];a++)if(f.handler===n&&f.thisObject===i)return;o.push(u)}}function st(e,t,n){e=_(e);for(var r in t)it(e,r,t[r],n)}function ot(e,t,n,i){e=_(e);var s=e===r?d:e[v];if(s){var o=s[t];if(o)for(var u=0,a;a=o[u];u++)if(a.handler===n&&a.thisObject===i){o.splice(u,1),o.length||ut(e,t);return}}}function ut(e,t){e=_(e);var n=e===r?d:e[v];if(n)if(typeof t!="string")for(t in n)ut(e,t);else{var i=n[t];i&&(e.removeEventListener?e.removeEventListener(t,i.fireEvent,!1):e.detachEvent("on"+t,i.fireEvent),delete n[t])}}function at(e,t,n){e=_(e);var i=e===r?d:e[v];if(i&&i[t])try{J=!1,i[t].fireEvent(n)}finally{J=!0}}function ft(e,t){n.teardown(e,t)}function ct(e,t){t||(t="div");var n=t+"-"+e;if(lt[n])return lt[n];var r=!1,i=!1;if(!m){var s="on"+e,o=l.createElement("div"),u=o.appendChild(l.createElement(t));o[s]=function(){i=!0};try{u.fireEvent(s),r=!0}catch(a){}}return lt[n]={supported:r,bubble:i}}function ht(e){return function(t,n){return e(M(t),n)}}var f="basis.dom.event",l=r.document,c=n.object.extend,h=n.fn.$null,p=n.array.from,d={},v="basisEvents_"+n.genUID(),m=!!l.addEventListener,g={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},y={VALUE:1,BIT:1},b={VALUE:2,BIT:4},w={VALUE:3,BIT:2},E={mousewheel:["wheel","mousewheel","DOMMouseScroll"]},S=["returnValue","keyLocation","layerX","layerY","webkitMovementX","webkitMovementY","keyIdentifier"],x=0,T=1,N=2,C=3,k={keydown:x,keypress:x,keyup:x,click:T,dblclick:T,mousedown:T,mouseup:T,mouseover:T,mousemove:T,mouseout:T,mouseenter:T,mouseleave:T,wheel:T,mousewheel:T,DOMMouseScroll:T,touchstart:N,touchmove:N,touchend:N,touchcancel:N,pointerover:C,pointerenter:C,pointerdown:C,pointermove:C,pointerup:C,pointercancel:C,pointerout:C,pointerleave:C},O=n.Class(null,{className:f+".Event",KEY:g,init:function(e){e=M(e);for(var t in e)S.indexOf(t)==-1&&(e.type!="progress"||t!="totalSize"&&t!="position")&&typeof e[t]!="function"&&t in this==0&&(this[t]=e[t]);var r=D(e);c(this,{event_:e,sender:r,target:r,path:e.path?n.array(e.path):A(r)});switch(k[e.type]){case x:c(this,{key:j(e),charCode:F(e)});break;case T:c(this,{mouseLeft:I(e,y),mouseMiddle:I(e,b),mouseRight:I(e,w),mouseX:q(e),mouseY:R(e),wheelDelta:W(e),pointerX:q(e),pointerY:R(e)});break;case N:c(this,{touchX:U(e),touchY:z(e),mouseX:U(e),mouseY:z(e),pointerX:U(e),pointerY:z(e)});break;case C:c(this,{pointerX:q(e),pointerY:R(e),mouseX:q(e),mouseY:R(e)})}},stopBubble:function(){P(this.event_)},stopPropagation:function(){P(this.event_)},preventDefault:function(){H(this.event_)},die:function(){this.stopBubble(),this.preventDefault()}}),X={},V={},$=!m,J=!0,K,Q,lt={};t.exports={W3CSUPPORT:m,browserEvents:L,getEventInfo:ct,KEY:g,MOUSE_LEFT:y,MOUSE_RIGHT:w,MOUSE_MIDDLE:b,Event:O,sender:ht(D),cancelBubble:ht(P),cancelDefault:ht(H),kill:ht(B),key:ht(j),charCode:ht(F),mouseButton:ht(I),mouseX:ht(q),mouseY:ht(R),wheelDelta:ht(W),touchX:ht(U),touchY:ht(z),addGlobalHandler:nt,removeGlobalHandler:rt,captureEvent:et,releaseEvent:tt,addHandler:it,addHandlers:st,removeHandler:ot,clearHandlers:ut,fireEvent:at,onUnload:ft,wrap:M}}};(function r(i,s,o){function g(e){function t(e){return Math.round(e).toString(36)}var n=t(10+25*Math.random());e||(e=16);while(n.length<e)n+=t(new Date*Math.random());return n.substr(0,e)}function b(e,t){for(var n in t)e[n]=t[n];return e}function w(e,t){for(var n in t)n in e==0&&(e[n]=t[n]);return e}function E(e){var t=[];for(var n in e)t.push(n);return t}function S(e){var t=[];for(var n in e)t.push(e[n]);return t}function x(e,t){var n={};if(!t)return b(n,e);for(var r=0,i;i=t[r++];)i in e&&(n[i]=e[i]);return n}function T(e,t){var n={};if(!t)return b(n,e);for(var r=0,i;i=t[r++];)i in e&&(n[i]=e[i],delete e[i]);return n}function N(){var e={};for(var t=0;t<arguments.length;t++)b(e,arguments[t]);return e}function C(e,t,n){var r=[];for(var i in e)r.push(t.call(n,i,e[i]));return r}function k(e){return e==undefined}function L(e){return e!=undefined}function A(e){return e==null||e==undefined}function O(e){return e!=null&&e!=undefined}function M(e){return e===this}function _(e){return e!==this}function D(e){return e}function P(e){return function(){return e}}function H(){return!1}function B(){return!0}function j(){return null}function F(){}function R(e){return function(t){var n={};return n[e]=t,n}}function U(e,t){var n=0,r,i;return r=function(){return n++||(r.inited=!0,r.data=i=e.apply(t||this,arguments)),i}}function z(e,t,n){var r=0,i,s;return i=function(){return r++||(i.inited=!0,i.data=s=e.call(n||this)),t.apply(s,arguments),s}}function W(e,t){var n=0;return function(){if(!(n++))return e.apply(t||this,arguments)}}function X(e){typeof e!="function"&&(e=I(e));var t=function(t){return e(t)};return t.factory=v,t}function V(e){return typeof e=="function"&&e.factory===v}function $(e,t){var n="basisjsCallback"+g();return a[n]=t?e:function(){try{delete a[n]}catch(t){a[n]=undefined}return e.apply(this,arguments)},n}function nt(){var e=o;if(!e)if(h)et=f.basisjsFilename||__filename.replace(/\\/g,"/");else{var t=l.scripts;for(var n=0,r;r=t[n];n++){var i=r.hasAttribute("basis-config")?r.getAttribute("basis-config"):r.getAttribute("data-basis-config");r.removeAttribute("basis-config"),r.removeAttribute("data-basis-config");if(i!==null){et=Z.normalize(r.src);try{e=Function("return{"+i+"}")()}catch(s){}break}}et||(et=Z.normalize(t[0].src))}return rt(e)}function rt(e){e=x(e),w(e,{implicitExt:h?!0:!1});var t=[],n=N(e.path,e.modules,{basis:et});e.modules={};if(e.autoload){var r=String(e.autoload).match(/^((?:[^\/]*\/)*)([a-z$_][a-z0-9$_]*)((?:\.[a-z$_][a-z0-9$_]*)*)$/i);r&&(n[r[2]]={autoload:!0,filename:r[1]+r[2]+(r[3]||".js")}),delete e.autoload}for(var i in n){var s=n[i];typeof s=="string"&&(s={filename:s.replace(/\/$/,"/"+i+".js")});var o=s.filename,u=s.path;o&&!u&&(o=Z.resolve(o),u=o.substr(0,o.length-Z.extname(o).length),o="../"+Z.basename(o)),u=Z.resolve(u),!o&&u&&(o=Z.basename(u),u=Z.dirname(u)),Z.extname(o)||(o+=".js"),o=Z.resolve(u,o),e.modules[i]={path:u,filename:o},s.autoload&&(e.autoload=t,t.push(i))}return e}function pt(e){var t=ct[e.url];if(t)for(var n=0;n<t.length;n++)t[n](e.get(),e.url)}function yt(e,t,n){try{return new Function(t,'"use strict";\n'+n)}catch(r){J.error("Compilation error at "+e+("line"in r?":"+(r.line-1):"")+": "+r)}}function Nt(e){if(e in Et==0){var t=e.split("."),n=t.shift(),r=dt(n+":"+t.join("/")+".js").replace(/\/\.js$/,".js");Et[e]=r,St[r]=e}return Et[e]}function Ct(e){var n=wt[e];return n||(n=wt[e]=new Tt(e),n.namespaces_={},n.namespaces_[e]=n,tt.noConflict||(a[e]=n)),e=="templates"&&!t&&(t=wt[e]),n}function kt(e){if(d.call(wt,e))return wt[e];e=e.split(".");var t=Ct(e[0]),n=t;for(var r=1;r<e.length;r++){var i=e[r],s=e.slice(0,r+1).join(".");if(!d.call(t.namespaces_,s)){var o=new Tt(s);tt.implicitExt&&(n[i]=o),t.namespaces_[s]=o}n=t.namespaces_[s]}return wt[e.join(".")]=n,n}function At(e,t){!/[^a-z0-9_\.]/i.test(e)&&Z.extname(e)!=".js"?e=Nt(e):e=dt(e,null,"basis.patch('{url}')"),ct[e]?ct[e].push(t):ct[e]=[t];var n=gt.get(e);n&&n.isResolved()&&t(n.get(),n.url)}function Ot(e,t){if(e!=null){var n=e.length;if(typeof n=="undefined"||p.call(e)=="[object Function]")return[e];t||(t=0);if(n-t>0){for(var r=[],i=0,s=t;s<n;)r[i++]=e[s++];return r}}return[]}function Mt(e,t,n){var r=[],i=typeof t=="function";for(var s=0;s<e;s++)r[s]=i?t.call(n,s,r):t;return r}var u="1.10.3",a=Function("return this")(),f=a.process,l=a.document,c=a.location,h=a!==i&&f&&f.argv?a:!1,p=Object.prototype.toString,d=Object.prototype.hasOwnProperty,v={},m={},y=function(){return function(){}}(),I=function(){function u(t){var i=this,o,a,c;if(typeof t=="function"||typeof t=="string"){o=f(t,i[n]),c=e+o[n];if(d.call(i,c))return i[c];typeof o[r]=="function"&&(o=o[r]),a=function(e){return o(i(e))}}else{var h=t;if(!h)return q;a=function(e){return h[i(e)]}}return a[n]=s++,a[r]=t,a.__extend__=l,a.as=u,c&&(i[c]=a),a}function a(e){return new Function("object","return object != null ? object."+e+" : object")}function f(e,t){var i=e,f;if(e&&typeof e=="string"){if(d.call(o,e))return o[e];i=o[e]=a(e)}return typeof i!="function"?q:i.__extend__===l?i:d.call(i,t)?i[t]:(f=i[t]=i!==e?i:function(e){return i(e)},f[n]=s++,f[r]=e,f.__extend__=l,f.as=u,f)}function l(e,n){var r=e&&e!==q?f(e,t):q;return n||n===""?(typeof n=="string"&&(n=jt.formatter(n)),r.as(n)):r}var e="basisGetterId"+g()+"_",t=e+"root",n=e,r=e+"base",i=e+"parent",s=1,o={};return l.ID=n,l.SOURCE=r,l.PARENT=i,l}(),q=function(){var e=function(){};return e[I.ID]=I.ID+"nullGetter",e.__extend__=I,e.as=function(){return e},e}(),J=function(){var e=a.console,t={log:F,info:F,warn:F,error:F};return e&&C(t,function(n){t[n]="bind"in Function.prototype&&typeof e[n]=="function"?Function.prototype.bind.call(e[n],e):function(){Function.prototype.apply.call(e[n],e,arguments)}}),t}(),K=a.setImmediate||a.msSetImmediate,Q=a.clearImmediate||a.msSetImmediate;K&&(K=K.bind(a)),Q&&(Q=Q.bind(a)),K||function(){var e=function(){var e={},n=0;return K=function(r){if(typeof r!="function")return;return e[++n]={fn:r,args:Ot(arguments,1)},t(n),n},Q=function(t){delete e[t]},function(t){var n=e[t];n&&(delete e[t],n.fn.apply(undefined,n.args)),G.process()}}(),t=function(t){setTimeout(function(){e(t)},0)};if(h&&h.process&&typeof f.nextTick=="function")t=function(t){f.nextTick(function(){e(t)})};else{var n=a.postMessage&&!a.importScripts;if(n){var r=a.onmessage;a.onmessage=function(){n=!1},a.postMessage("","*"),a.onmessage=r}if(n){var i={},s=function(t){if(t&&t.source==a){var n=t.data;if(d.call(i,n)){var r=i[n];delete i[n],e(r)}}};a.addEventListener?a.addEventListener("message",s,!0):a.attachEvent("onmessage",s),t=function(e){var t=g(32);i[t]=e,a.postMessage(t,"*")}}else if(a.MessageChannel){var o=new a.MessageChannel;o.port1.onmessage=function(t){e(t.data)},t=function(e){o.port2.postMessage(e)}}else{var u=function(){return l.createElement("script")};if(l&&"onreadystatechange"in u()){var c=t;t=function p(n){typeof zt!="undefined"&&(t=c,zt.head.ready(function(){t=function(t){var n=u();n.onreadystatechange=function(){n.onreadystatechange=null,zt.remove(n),n=null,e(t)},zt.head.add(n)}})),t===p?c(n):t(n)}}}}}();var G=function(){function r(){try{t=!0;var r;while(r=e.shift())r.fn.call(r.context)}finally{t=!1,e.length&&(n=K(i))}}function i(){n&&(n=Q(n)),e.length&&r()}var e=[],t=!1,n,s=function(t,r){return e.push({fn:t,context:r}),n||(n=K(i)),!0};return s.process=function(){t||i()},s.schedule=function(e){function r(){var i=K(r);n=!1;for(var s in t){var o=t[s];delete t[s],e(o)}Q(i),n||(t={})}var t={},n=!1;return{add:function(e){t[e.basisObjectId]=e,n||(n=s(r))},remove:function(e){delete t[e.basisObjectId]}}},s}(),Y=function(){var e=0,t={id:e,start:function(){t.id=e++},finish:function(){G.process(),t.id="unknown"}};return t}(),Z=function(){var e=/^([^\/]+:|\/)/,t=/^[a-zA-Z0-9\-]+:\/?/,n=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,r=/[\?#].*$/,i,s,o;if(h){var u=(f.basisjsBaseURI||"/").replace(/\\/g,"/");i=u.replace(/^[^\/]*/,""),s=u.replace(/\/.*/,"")}else i=c.pathname.replace(/[^\/]+$/,""),s=c.protocol+"//"+c.host;return o={baseURI:i,origin:s,normalize:function(e){e=(e||"").replace(t,"/").replace(n,"/").replace(r,"");var i=[],s=e.split("/");for(var o=0;o<s.length;o++)s[o]==".."?(i.length>1||i[0])&&i.pop():(s[o]||!o)&&s[o]!="."&&i.push(s[o]);return i.join("/")||(e[0]==="/"?"/":"")},dirname:function(e){var t=o.normalize(e);return t.replace(/\/([^\/]*)$|^[^\/]+$/,"")||(t[0]=="/"?"/":".")},extname:function(e){var t=o.normalize(e).match(/[^\/](\.[^\/\.]*)$/);return t?t[1]:""},basename:function(e,t){var n=o.normalize(e).match(/[^\\\/]*$/);return n=n?n[0]:"",t==o.extname(n)&&(n=n.substring(0,n.length-t.length)),n},resolve:function(){var t=Ot(arguments).reverse(),n=[],r=!1;for(var s=0;!r&&s<t.length;s++)typeof t[s]=="string"&&(n.unshift(t[s]),r=e.test(t[s]));return r?n.length&&n[0]=="/"&&(n[0]=""):n.unshift(i=="/"?"":i),o.normalize(n.join("/"))},relative:function(e,t){typeof t!="string"&&(t=e,e=i),e=o.normalize(e),t=o.normalize(t);if(e[0]=="/"&&t[0]!="/")return e;if(t[0]=="/"&&e[0]!="/")return t;var n=e.replace(/^\/$/,"").split(/\//),r=t.replace(/^\/$/,"").split(/\//),s=[],u=0;while(r[u]==n[u]&&typeof n[u]=="string")u++;for(var a=n.length-u;a>0;a--)s.push("..");return s.concat(r.slice(u).filter(Boolean)).join("/")}},o}(),et=s||"",tt=o||{noConflict:!0,implicitExt:!0,modules:{},autoload:["./0.js"]},it=function(){function r(e){return typeof e=="function"&&!!e.basisClassId_}function i(e){var t=this;while(t&&t!==e)t=t.superClass_;return t===e}function o(s){var f=t++;typeof s!="function"&&(s=a);var l=function(){};l.prototype=s.prototype;var c=new l,h={basisClassId_:f,superClass_:s,extendConstructor_:!!s.extendConstructor_,isSubclassOf:i,subclass:function(){return o.apply(null,[v].concat(Ot(arguments)))},extend:u,factory:function(e){return X(function(t){return new v(N(e,t))})},__extend__:function(e){return e&&e!==n&&(typeof e=="object"||typeof e=="function"&&!r(e))?a.create.call(null,v,e):e},prototype:c};for(var p=1,d;d=arguments[p];p++)h.extend(d);var v=h.extendConstructor_?function(t){this.basisObjectId=e.id++;var n;for(var r in t)n=this[r],this[r]=n&&n.__extend__?n.__extend__(t[r]):t[r];this.init(),this.postInit()}:function(){this.basisObjectId=e.id++,this.init.apply(this,arguments),this.postInit()};c.constructor=v;for(var m in c)c[m]===n&&(c[m]=v);return b(v,h),v}function u(e){var t=this.prototype;typeof e=="function"&&!r(e)&&(e=e(this.superClass_.prototype,x(t))),e.prototype&&(e=e.prototype);for(var n in e){var i=e[n],o=t[n];n=="className"||n=="extendConstructor_"?this[n]=i:o&&o.__extend__?t[n]=o.__extend__(i):t[n]=i}return s&&e[n="toString"]!==p&&(t[n]=e[n]),this}var e={id:1},t=1,n={},s=function(){for(var e in{toString:1})return!1;return!0}(),a=b(o,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var e in this)d.call(this,e)&&(this[e]=null);this.destroy=F}}}),f=function(e,t){return{__extend__:function(e){if(!e)return e;if(e&&e.__extend__)return e;var n=function(){};n.prototype=this;var r=new n;return t(r,e),r}}.__extend__(e||{})},l=function(e){return f(e,b,"extensibleProperty")},c=function(e){return f(e,function(e,t){for(var n in t)if(d.call(t,n)){var r=e[n],i=t[n];i?e[n]=r&&r.__extend__?r.__extend__(i):l(i):e[n]=null}},"nestedExtendProperty")},h=function(e,t){var n=function(t){var r={__extend__:n};if(t){if(t.__extend__)return t;for(var i in t)d.call(t,i)&&t[i]&&(r[i]=e)}return r};return n(t||{})};return b(a,{SELF:n,create:o,isClass:r,customExtendProperty:f,extensibleProperty:l,nestedExtendProperty:c,oneFunctionProperty:h})}(),st=it(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(e,t,n,r){e.attach(t,n,r)},detach:function(e,t,n){e.detach(t,n)},get:function(e){return e.get()}},init:function(e){this.value=e},get:function(){return this.value},set:function(e){this.value!==e&&(this.value=e,this.apply())},attach:function(e,t,n){this.handler={fn:e,context:t,destroy:n||null,handler:this.handler}},detach:function(e,t){var n=this,r;while(r=n,n=n.handler)if(n.fn===e&&n.context===t){n.fn=F,n.destroy=n.destroy&&F,r.handler=n.handler;return}},apply:function(){var e=this.get(),t=this;while(t=t.handler)t.fn.call(t.context,e)},deferred:function(){var e=this.deferredToken;return e||(e=this.deferredToken=new ut(this.get()),this.attach(e.set,e)),e},as:function(e){var t=new st,n=function(t){this.set(e.call(this,t))};return typeof e!="function"&&(e=I(e)),n.call(t,this.get()),this.attach(n,t,t.destroy),t.attach(F,this,function(){this.detach(n,t)}),t},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null),this.attach=F,this.detach=F;var e=this;while(e=e.handler)e.destroy&&e.destroy.call(e.context);this.handler=null,this.value=null}}),ot=G.schedule(function(e){e.apply()}),ut=st.subclass({className:"basis.DeferredToken",set:function(e){this.value!==e&&(this.value=e,ot.add(this))},deferred:function(){return this}}),at={},ft={},lt={},ct={},ht=1;(function(){var e=typeof n!="undefined"?n:null;if(e)for(var t in e)lt[Z.resolve(t)]=e[t]})();var dt=function(e,t){var n=e.match(/^([a-zA-Z0-9\_\-]+):/);if(n){var r=n[1];r in xt==0&&(xt[r]=Z.baseURI+r+"/"),e=xt[r]+Z.normalize("./"+e.substr(n[0].length))}else e=Z.resolve(t,e);return e},vt=function(e,t){if(t||!d.call(lt,e)){var n="";if(!h){var r=new a.XMLHttpRequest;r.open("GET",e,!1),r.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString()),r.setRequestHeader("X-Basis-Resource",1),r.send(""),r.status>=200&&r.status<400&&(n=r.responseText)}else try{n=typeof f.basisjsReadFile=="function"?f.basisjsReadFile(e):require("fs").readFileSync(e,"utf-8")}catch(i){}lt[e]=n}return lt[e]},mt=function(e,t){var n=Z.extname(e),r=gt.extensions[n],i=arguments.length>1,s=!1,o=!1,u;i&&(e+="#virtual");var a=function(){if(s)return t;var n=i?t:vt(e);return r?o||(o=!0,t=r(n,e)):t=n,s=!0,pt(a),a.apply(),t};return b(a,b(new st,{url:e,type:n,virtual:i,fetch:function(){return a()},toString:function(){return"[basis.resource "+e+"]"},isResolved:function(){return s},update:function(n){if(!s||i||n!=lt[e])i||(lt[e]=n),r?(!o&&i&&(t=n),o&&!r.permanent&&(t=r(n,e,t),pt(a),a.apply())):(t=n,s=!0,pt(a),a.apply())},reload:function(){if(i)return;var t=lt[e],n=vt(e,!0);n!=t&&(s=!1,a.update(n))},get:function(n){return i&&n?r?u:t:n?vt(e):a()},ready:function(e,t){if(s){e.call(t,a());if(r&&r.permanent)return}return a.attach(e,t),a}})),at[e]=a,ft[e]=a,a},gt=function(e,t){e&&typeof e!="string"&&(e=e.url);var n=t?t+"\0"+e:e,r=ft[n];if(!r){var i=dt(e,t,"basis.resource('{url}')");r=at[i]||mt(i),ft[n]=r}return r};b(gt,{resolveURI:dt,buildCloak:gt,isResource:function(e){return e?at[e.url]===e:!1},isResolved:function(e){var t=gt.get(e);return t?t.isResolved():!1},exists:function(e){return d.call(at,dt(e,null,"basis.resource.exists('{url}')"))},get:function(e){return e=dt(e,null,"basis.resource.get('{url}')"),gt.exists(e)?gt(e):null},getFiles:function(e){return e?E(lt):E(at).filter(function(e){return!at[e].virtual})},virtual:function(e,t,n){return mt((n?n+":":Z.normalize(Z.baseURI=="/"?"":Z.baseURI)+"/")+"virtual-resource"+ht++ +"."+e,t)},extensions:{".js":b(function(t,n){var r=St[n];if(!r){var i=!0,s=(Z.dirname(n)+"/"+Z.basename(n,Z.extname(n))).replace(/^\/\//,"/");for(var o in xt){var u=xt[o]+o+"/";if(s.substr(0,u.length)==u){i=!1,s=s.substr(xt[o].length);break}}r=s.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,"."),i&&(r="implicit."+r)}var o=kt(r);return o.inited||(o.inited=!0,o.exports=bt({path:o.path,exports:o.exports},n,t).exports,o.exports&&o.exports.constructor===Object&&tt.implicitExt&&w(o,o.exports)),o.exports},{permanent:!0}),".css":function(t,n,r){return r||(r=new Xt(n)),r.updateCssText(t),r},".svg":function(t,n,r){return r||(r=new $t(n)),r.updateSvgText(t),r},".json":function(t){if(typeof t=="object")return t;var n;try{t=String(t),n=Kt.json.parse(t)}catch(r){}return n||null}}});var bt=function(e,t,n){var r=Z.dirname(t),i=n;return e.exports||(e.exports={}),typeof i!="function"&&(i=yt(t,["exports","module","basis","global","__filename","__dirname","resource","require","asset"],n)),typeof i=="function"&&i.call(e.exports,e.exports,e,Kt,a,t,r,function(e){return gt(e,r)},function(e){return Lt(e,r)},function(e){return dt(e,r,"asset('{url}')")}),e},wt={},Et={},St={},xt={};C(tt.modules,function(e,t){xt[e]=t.path+"/",Et[e]=t.filename,St[t.filename]=e}),function(t){var t=typeof e!="undefined"?e:null;if(t)for(var n in t){var r=Z.resolve(n),i=t[n];St[r]=i,Et[i]=r}}();var Tt=it(null,{className:"basis.Namespace",init:function(e){this.name=e,this.exports={}},toString:function(){return"[basis.namespace "+this.name+"]"},extend:function(e){return b(this.exports,e),w(this,e)}}),Lt=function(e,t){var n=Z.extname(e);return!/[^a-z0-9_\.]/i.test(e)&&n!=".js"?e=Nt(e):/[\?#]/.test(e)||(n||(e+=".js"),e=dt(e,t,"basis.require('{url}')")),gt(e).fetch()};w(Function.prototype,{bind:function(e){var t=this,n=Ot(arguments,1);return n.length?function(){return t.apply(e,n.concat.apply(n,arguments))}:function(){return t.apply(e,arguments)}}}),w(Array,{isArray:function(e){return p.call(e)==="[object Array]"}}),w(Array.prototype,{indexOf:function(e,t){t=parseInt(t,10)||0;if(t<0)return-1;for(;t<this.length;t++)if(this[t]===e)return t;return-1},lastIndexOf:function(e,t){var n=this.length;t=parseInt(t,10),isNaN(t)||t>=n?t=n-1:t=(t+n)%n;for(;t>=0;t--)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&e.call(t,this[n],n,this)},every:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},some:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},filter:function(e,t){var n=[];for(var r=0,i=this.length;r<i;r++)r in this&&e.call(t,this[r],r,this)&&n.push(this[r]);return n},map:function(e,t){var n=[];for(var r=0,i=this.length;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this));return n},reduce:function(e,t){var n=this.length,r=arguments.length;if(n==0&&r==1)throw new TypeError;var i,s=0;r>1&&(i=t,s=1);for(var o=0;o<n;o++)o in this&&(s++?i=e.call(null,i,this[o],o,this):i=this[o]);return i}});var _t={from:Ot,create:Mt,flatten:function(e){return e.concat.apply([],e)},repeat:function(e,t){return _t.flatten(Mt(parseInt(t,10)||0,e))},search:function(e,t,n,r){e.lastSearchIndex=-1,n=I(n||D);for(var i=parseInt(r,10)||0,s=e.length;i<s;i++)if(n(e[i])===t)return e[e.lastSearchIndex=i]},lastSearch:function(e,t,n,r){e.lastSearchIndex=-1,n=I(n||D);var i=e.length,s=isNaN(r)||r==null?i:parseInt(r,10);for(var o=s>i?i:s;o-->0;)if(n(e[o])===t)return e[e.lastSearchIndex=o]},add:function(e,t){return e.indexOf(t)==-1&&!!e.push(t)},remove:function(e,t){var n=e.indexOf(t);return n!=-1&&!!e.splice(n,1)},has:function(e,t){return e.indexOf(t)!=-1},sortAsObject:function(){return _t.sort.apply(this,arguments)},sort:function(e,t,n,r){return t=I(t),r=r?-1:1,e.map(function(e,n){return{i:n,v:t(e)}}).sort(n||function(e,t){return r*(e.v>t.v||-(e.v<t.v)||(e.i>t.i?1:-1))}).map(function(e){return this[e.i]},e)}};if(![1,2].splice(1).length){var Dt=Array.prototype.splice;Array.prototype.splice=function(){var e=Ot(arguments);return e.length<2&&(e[1]=this.length),Dt.apply(this,e)}}var Pt=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,Ht=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi,Bt={};w(String,{toLowerCase:function(e){return String(e).toLowerCase()},toUpperCase:function(e){return String(e).toUpperCase()},trim:function(e){return String(e).trim()},trimLeft:function(e){return String(e).trimLeft()},trimRight:function(e){return String(e).trimRight()}}),w(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var jt={toObject:function(e,t){try{return(new Function("return 0,"+e))()}catch(n){if(t)throw n}},repeat:function(e,t){return(new Array(parseInt(t,10)+1||0)).join(e)},qw:function(e){var t=e.trim();return t?t.split(/\s+/):[]},forRegExp:function(e){return e.replace(Pt,"\\$1")},format:function(e,t){var n=Ot(arguments,1);return typeof t=="object"&&b(n,t),e.replace(Ht,function(e,t,r,i,s){var o=t in n?n[t]:s?"":e;return r&&!isNaN(o)?(o=Number(o),r=="."?o.toFixed(i):qt.lead(o,i)):o})},formatter:function(e){e=String(e);if(d.call(Bt,e))return Bt[e];var t=function(t){return jt.format(e,t)};return Bt[e]=t,t},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},dasherize:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},isEmpty:function(e){return e==null||String(e)==""},isNotEmpty:function(e){return e!=null&&String(e)!=""}};if("|||".split(/\|/).length+"|||".split(/(\|)/).length!=11){var Ft=String.prototype.split;String.prototype.split=function(e,t){if(!e||e instanceof RegExp==0||e.source=="")return Ft.call(this,e,t);var n=[],r=0,i;e.global||(e=new RegExp(e.source,/\/([mi]*)$/.exec(e)[1]+"g"));while(i=e.exec(this))i[0]=this.substring(r,i.index),n.push.apply(n,i),r=e.lastIndex;return n.push(this.substr(r)),n}}if("12".substr(-1)!="2"){var It=String.prototype.substr;String.prototype.substr=function(e,t){return It.call(this,e<0?Math.max(0,this.length+e):e,t)}}var qt={fit:function(e,t,n){return!isNaN(t)&&e<t?Number(t):!isNaN(n)&&e>n?Number(n):e},lead:function(e,t,n){return String(e).replace(/\d+/,function(e){return(t-=e.length-1)>1?(new Array(t)).join(n||0)+e:e})},group:function(e,t,n){return String(e).replace(/\d+/,function(e){return e.replace(/\d/g,function(r,i){return!i+(e.length-i)%(t||3)?r:(n||" ")+r})})},format:function(e,t,n,r,i,s){var o=e.toFixed(t);if(n||s)o=o.replace(/(\d+)(\.?)/,function(e,t,r){return(n?Kt.number.group(Number(t),3,n):t)+(r?s||r:"")});return r&&(o=o.replace(/^-?/,"$&"+(r||""))),o+(i||"")}};w(Date,{now:function(){return Number(new Date)}});var Rt=function(){function r(){var e;n&&(n=Q(n)),t.length>1&&(n=K(r));while(e=t.shift())e[0].call(e[1]);n=Q(n),G.process()}function i(){e++||r()}function s(){try{l.documentElement.doScroll("left"),i()}catch(e){setTimeout(s,1)}}var e=!l||l.readyState=="complete",t=[],n;if(!e)if(l.addEventListener)l.addEventListener("DOMContentLoaded",i,!1),a.addEventListener("load",i,!1);else{l.attachEvent("onreadystatechange",i),a.attachEvent("onload",i);try{!a.frameElement&&l.documentElement.doScroll&&s()}catch(o){}}return function(i,s){!t.length&&e&&!n&&(n=K(r)),t.push([i,s])}}(),Ut=function(){return"addEventListener"in a?function(e,t){a.addEventListener("unload",function(n){e.call(t||null,n||a.event)},!1)}:"attachEvent"in a?function(e,t){a.attachEvent("onunload",function(n){e.call(t||null,n||a.event)})}:F}(),zt=function(){function r(e){if(l&&!t[e]){t[e]=l[e]||l.getElementsByTagName(e)[0];if(t[e]){var r=n[e];delete n[e];for(var i=0,s;s=r[i];i++)s[0].call(s[1],t[e])}}return t[e]}function i(){var e=this[0],t=this[1],s=this[2];o(t);var u=r(e);if(u){s===!0&&(s=u.firstChild);if(!s||s.parentNode!==u)s=null;u.insertBefore(t,s)}else n[e].push([i,[e,t,s]])}function s(e,r,i){n[e]?n[e].push([r,i]):r.call(i,t[e])}function o(e){for(var t in n){var r=_t.search(n[t],e,function(e){return e[1]&&e[1][1]});r&&_t.remove(n[t],r)}e&&e.parentNode&&e.parentNode.nodeType==1&&e.parentNode.removeChild(e)}function u(){e&&r("head")&&r("body")&&(e=clearInterval(e))}var e,t={},n={head:[],body:[]};return l&&(!r("head")||!r("body"))&&(e=setInterval(u,5),Rt(u)),{head:{ready:function(e,t){s("head",e,t)},add:function(e,t){i.call(["head",e,t])}},body:{ready:function(e,t){s("body",e,t)},add:function(e,t){i.call(["body",e,t])}},remove:o}}(),Wt=function(){function t(){n.globalDestroy=!0,n.add=F,n.remove=F;var t;while(t=e.pop())if(typeof t.destroy=="function")try{t.destroy()}catch(r){}else for(var i in t)t[i]=null;e=[]}var e=[];if(Ut===F)return{add:F,remove:F};Ut(t);var n={add:function(t){t!=null&&e.push(t)},remove:function(t){_t.remove(e,t)}};return n}(),Xt=function(){function n(e){t.setAttribute("href",e),zt.head.add(t,!0)}function r(){t.setAttribute("href",c.href),zt.remove(t)}function i(){n(this.baseURI),this.element||(this.element=l.createElement("style"),e||this.element.appendChild(l.createTextNode(""))),zt.head.add(this.element),this.syncCssText(),r()}var e=function(){try{return!l.createElement("style").appendChild(l.createTextNode(""))}catch(e){return!0}}(),t=l&&l.createElement("base");return it(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:undefined,element:null,init:function(e){this.url=e,this.baseURI=Z.dirname(e)+"/"},updateCssText:function(e){this.cssText!=e&&(this.cssText=e,this.inUse&&this.element&&(n(this.baseURI),this.syncCssText(),r()))},syncCssText:e?function(){this.element.styleSheet.cssText=this.cssText}:function(){var e=this.cssText;this.element.firstChild.nodeValue=e},startUse:function(){this.inUse||zt.head.ready(i,this),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&zt.remove(this.element))},destroy:function(){this.element&&zt.remove(this.element),this.element=null,this.cssText=null}})}(),Vt=null,$t=function(){function t(t){e.setAttribute("href",t),zt.head.add(e,!0)}function n(){e.setAttribute("href",c.href),zt.remove(e)}function r(){t(this.baseURI),this.element||(this.element=l.createElement("span")),Vt.appendChild(this.element),this.syncSvgText(),n()}var e=l&&l.createElement("base");return it(null,{className:"basis.SvgResource",inUse:0,url:"",baseURI:"",svgText:undefined,element:null,init:function(e){this.url=e,this.baseURI=Z.dirname(e)+"/"},toString:function(){return this.svgText},updateSvgText:function(e){this.svgText!=e&&(this.svgText=e,this.inUse&&this.element&&(t(this.baseURI),this.syncSvgText(),n()))},syncSvgText:function(){this.element.innerHTML=this.svgText},startUse:function(){this.inUse||(Vt||(Vt=l.createElement("span"),Vt.style.cssText="position:absolute!important;width:0;height:0;overflow:hidden",zt.body.add(Vt)),zt.body.ready(r,this)),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&Vt.removeChild(this.element))},destroy:function(){this.element&&Vt.removeChild(this.element),this.element=null,this.svgText=null}})}(),Jt=function(){var e=D,t=function(){},n=function(e,t,n){},r=function(e,t){},i=function(e){};return{fixSourceOffset:e,setInfo:t,patchInfo:n,patchFactory:i,getInfo:r}}(),Kt=kt("basis").extend({version:u,NODE_ENV:h,config:tt,createSandbox:function(e){return r(a,et,w({noConflict:!0,devpanel:!1},e))},dev:J=(new Tt("basis.dev")).extend(J).extend(Jt).extend({warnPropertyAccess:y}),resolveNSFilename:Nt,patch:At,namespace:kt,require:Lt,resource:gt,asset:function(e){return dt(e,null,"basis.asset('{url}')")},setImmediate:K,clearImmediate:Q,nextTick:function(){K.apply(null,arguments)},asap:G,FACTORY:v,PROXY:m,Class:it,Token:st,DeferredToken:ut,codeFrame:Y,ready:Rt,teardown:Ut,cleaner:Wt,genUID:g,getter:I,console:J,path:Z,doc:zt,object:{extend:b,complete:w,keys:E,values:S,slice:x,splice:T,merge:N,iterate:C},fn:{$undefined:k,$defined:L,$isNull:A,$isNotNull:O,$isSame:M,$isNotSame:_,$self:D,$const:P,$false:H,$true:B,$null:j,$undef:F,getter:I,nullGetter:q,wrapper:R,factory:X,isFactory:V,lazyInit:U,lazyInitAndRun:z,runOnce:W,publicCallback:$},array:b(Ot,_t),string:jt,number:qt,bool:{invert:function(e){return!e}},json:{parse:typeof JSON!="undefined"?JSON.parse:function(e){return jt.toObject(e,!0)}}});return h||tt.autoload&&tt.autoload.forEach(function(e){Lt(e)}),h&&typeof module!="undefined"&&module&&(module.exports=Kt,module.exports.basis=Kt),Kt})(this)}).call(this)