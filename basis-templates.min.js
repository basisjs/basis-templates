(function(){"use strict";var e={"0.js":"templates","1.js":"basis.template.html","2.js":"basis.dom.event","3.js":"basis.l10n","4.js":"basis.event","5.js":"basis.template","6.js":"basis.template.htmlfgen"},t,n={"0.js":function(e,t,n,r,i,s,o,u){function l(e){var t=a.indexOf(e);if(t!=-1)return f[t];var r=new n.template.html.Template(e);return a.push(e),f.push(r),r}n.require("./1.js");var a=[],f=[];r.bt=t.exports=n.object.extend(l,{init:function(e){if(!e)return this;if(e.noConflict)return delete window.bt,this},dispose:function(e){var t=n.template.resolveTemplateById(e.templateId_);if(!t){n.dev.warn("Template is not resolved for ",e);return}t.clearInstance(e)},template:l})},"1.js":function(e,t,n,r,i,s,o,u){function X(e){var t=n.template.getL10nTemplate(e),r=t.templateId,i=W[r];return i||(i=W[r]=new et(t.source)),i}function V(e){return function(t){if(t.type=="click"&&t.which==3)return;var n=j[t.type]||t.type!="mouseenter"&&t.type!="mouseleave",r=t.sender,i;while(r){i=r.getAttribute&&r.getAttribute(e);if(!n||typeof i=="string")break;r=r.parentNode}if(typeof i=="string"){var s=r,o=s,u,a;if(j[t.type]){var f=t.relatedTarget;f&&(s===f||s.contains(f))&&(s=null)}while(s){u=s[_];if(typeof u=="number")if(a=K(u))break;s=s.parentNode}if(a&&a.action){var l=i.trim().split(/\s+/);t.actionTarget=o;for(var c=0,h;h=l[c++];)switch(h){case"prevent-default":t.preventDefault();break;case"stop-propagation":t.stopPropagation();break;default:a.action.call(a.context,h,t)}}}t.type in B&&B[t.type](t,r)}}function J(e){var t=e&4095,n=P[t];return n&&n.template}function K(e){var t=e&4095,n=e>>12,r=P[t];return r&&r.instances[n]}function Q(e){var t=K(e);return t&&t.context}function G(e){var t=K(e);return t&&t.tmpl}function Y(e){var t=K(e);return t&&t.debug&&t.debug()}n.require("./2.js"),n.require("./3.js"),n.require("./5.js"),n.require("./6.js");var a=this.path,f=r.document,l=n.dom.event,c=n.array.from,h=n.string.camelize,p=n.l10n.token,d=n.template.htmlfgen.getFunctions,v=n.template.TemplateSwitchConfig,m=n.template.TemplateSwitcher,g=n.template.Template,y=n.template.TYPE_ELEMENT,b=n.template.TYPE_ATTRIBUTE,w=n.template.TYPE_TEXT,E=n.template.TYPE_COMMENT,S=n.template.TOKEN_TYPE,x=n.template.TOKEN_BINDINGS,T=n.template.TOKEN_REFS,N=n.template.ATTR_NAME,C=n.template.ATTR_VALUE,k=n.template.ATTR_NAME_BY_TYPE,L=n.template.ELEMENT_NAME,A=n.template.TEXT_VALUE,O=n.template.COMMENT_VALUE,M=/^event-(.+)+/,_="basisTemplateId_"+n.genUID(),D={},P={},H={svg:"http://www.w3.org/2000/svg"},B={},j={},F="onmouseenter"in f.documentElement,I=!f.addEventListener&&"__basisTemplate"+parseInt(1e9*Math.random());I&&(r[I]=function(e,t){l.fireEvent(f,e),t.returnValue=!0;var n=D[e];n&&n(new l.Event(t))});var q=function(){var e=f.createElement("div");return e.appendChild(f.createTextNode("a")),e.appendChild(f.createTextNode("a")),e.cloneNode(true).childNodes.length==1}(),R=function(){var e=f.createElement("div");return e.setAttribute("class","a"),!e.className}(),U=function(){var e=f.createElement("div");return e.setAttribute("style","position:absolute"),e.style.position!="absolute"}(),z=!!function(){try{return f.documentElement.style.color="x"}catch(e){}}();typeof Node!="undefined"&&!Node.prototype.contains&&(Node.prototype.contains=function(e){return!!(this.compareDocumentPosition(e)&16)});var W={},$=function(e,t){function n(e,t){r(t),j[e]=!0,B[t]=function(t){t=new l.Event(t),t.type=e,D[e](t)},B[e]=function(t,n){n=n&&n.parentNode,n&&(t=new l.Event(t),t.type=e,t.sender=n,D[e](t))}}function r(e){if(!D[e]){D[e]=V("event-"+e);if(!I){if(!F&&e=="mouseenter")return n(e,"mouseover");if(!F&&e=="mouseleave")return n(e,"mouseout");for(var t=0,r=l.browserEvents(e),i;i=r[t];t++)l.addGlobalHandler(i,D[e])}}}function i(e,t){r(e),I&&o.setAttribute("on"+e,I+'("'+e+'",event)'),o.setAttribute("event-"+e,t)}function s(e,t){R&&e=="class"&&(e="className");if(U&&e=="style")return o.style.cssText=t;o.setAttribute(e,t)}var o=t||f.createDocumentFragment();for(var u=t?4:0,a;a=e[u];u++)switch(a[S]){case y:var c=a[L],h=c.split(/:/),p=h.length>1?f.createElementNS(H[h[0]],c):f.createElement(c);$(a,p),o.appendChild(p);break;case b:var d=a[N],v=a[C],m=d.replace(/^event-/,"");m!=d?i(m,v):(d!="class"&&d!="style"?!a[x]:v)&&s(d,v||"");break;case 4:case 5:var v=a[C-1];v&&s(k[a[S]],v);break;case 6:i(a[1],a[2]||a[1]);break;case E:o.appendChild(f.createComment(a[O]||(a[T]?"{"+a[T].join("|")+"}":"")));break;case w:q&&u&&e[u-1][S]==w&&o.appendChild(f.createComment("")),o.appendChild(f.createTextNode(a[A]||(a[T]?"{"+a[T].join("|")+"}":"")||(a[x]?"{"+a[x]+"}":"")))}return!t&&e.length==1&&(o=o.firstChild),o},Z=function(){function m(){this.set(this.name,this.value)}function g(e,t,r){var i=t&&t.bindingBridge,s=this.attaches&&this.attaches[e],o=null;if(i||s)if(i){if(!s||t!==s.value){s&&(s.tmpl&&(s.tmpl.element.toString=null,X(s.value).clearInstance(s.tmpl)),s.value.bindingBridge.detach(s.value,m,s));if(t.type=="markup"&&t instanceof n.l10n.Token){var u=X(t),a=this.context,f=this.bindings,l=this.bindingInterface;o=u.createInstance(a,null,function h(){o=c.tmpl=u.createInstance(a,null,h,f,l),o.element.toString=function(){return t.value},m.call(c)},f,l),o.element.toString=function(){return t.value}}this.attaches||(this.attaches=new r);var c=this.attaches[e]={name:e,value:t,tmpl:o,set:this.tmpl.set};i.attach(t,m,c)}else o=t&&t.type=="markup"?s.tmpl:null;if(o)return o.element;t=i.get(t)}else s&&(s.tmpl&&(s.tmpl.element.toString=null,X(s.value).clearInstance(s.tmpl)),s.value.bindingBridge.detach(s.value,m,s),this.attaches[e]=null);return t}function y(e,t){var n=e[0],r=e[1],i=t[n],s=t[r];switch(e.length){case 1:return function(t){this(n,i(t))};case 2:return function(t){this(n,i(t)),this(r,s(t))};default:var o=e.map(function(e){return t[e]});return function(n){for(var r=0;r<e.length;r++)this(e[r],o[r](n))}}}function b(e,t){for(var n in e)e[n]=y(e[n],t);return n?e:null}function w(e){var t={};return function(r,i,s,o){if(!r)return{};var u="bindingId"in r?r.bindingId:null,a=t[u];if(!a){var f=[],l={},c={};for(var h=0,p;p=e[h];h++){var d=r[p],v=d&&d.getter;if(v){l[p]=v,f.push(p);if(d.events){var m=String(d.events).trim().split(/\s+|\s*,\s*/);for(var g=0,w;w=m[g];g++)c[w]?c[w].push(p):c[w]=[p]}}}a={names:f,sync:y(f,l),handler:b(c,l)},u&&(t[u]=a)}i&&s&&a.sync.call(s,i);if(!o)return;return a.handler&&o.attach(i,a.handler,s),a.handler}}var e=/\s+/,t=typeof Node=="function"&&f instanceof Node,i=r.DOMTokenList&&f&&f.documentElement.classList instanceof r.DOMTokenList,s=t?function(e,t,n){var r=n&&n instanceof Node?n:e;return r!==t&&t.parentNode.replaceChild(r,t),r}:function(e,t,n){var r=n&&typeof n=="object"?n:e;if(r!==t)try{t.parentNode.replaceChild(r,t)}catch(i){r=e,t!==r&&t.parentNode.replaceChild(r,t)}return r},o=function(e,t,n){var r=s(e,t,n);return r===e&&typeof n=="string"&&(e.innerHTML=n),r},u=s,a=function(e,t,n){var r=s(e,t,n);return r===e&&(e.nodeValue=n),r},l=i?function(e,t,r,i,s){var o=r?i+r:"";return o!=t&&(t&&e.classList.remove(t),o&&(e.classList.add(o),s&&(e.classList.add(o+"-anim"),n.nextTick(function(){e.classList.remove(o+"-anim")})))),o}:function(t,r,i,s,o){var u=i?s+i:"";if(u!=r){var a=t.className,f=typeof a!="string",l;f&&(a=a.baseVal),l=a.split(e),r&&n.array.remove(l,r),u&&(l.push(u),o&&(n.array.add(l,u+"-anim"),n.nextTick(function(){var r=(f?t.className.baseVal:t.className).split(e);n.array.remove(r,u+"-anim"),f?t.className.baseVal=r.join(" "):t.className=r.join(" ")}))),f?t.className.baseVal=l.join(" "):t.className=l.join(" ")}return u},c=z?function(e,t,n,r){return n!==r&&(e.style[h(t)]=r),r}:function(e,t,n,r){if(n!==r)try{e.style[h(t)]=r}catch(i){}return r},v=function(e,t,n,r){return n!==r&&(r?e.setAttribute(t,r):e.removeAttribute(t)),r},E={bind_textNode:a,bind_node:s,bind_element:o,bind_comment:u,bind_attr:v,bind_attrClass:l,bind_attrStyle:c,resolve:g,l10nToken:p,createBindingFunction:w};return function(e){var t=d(e,!0,this.source.url,e.source_,!q,_),n,r={},i={},s=[],o=0,u=$(e),a=this.templateId;P[a]={template:this,instances:r};if(t.createL10nSync){var f=t.createL10nSync(u,i,v,q);for(var l=0,c;c=t.l10nKeys[l];l++)f(c,p(c).value);if(t.l10nKeys)for(var l=0,c;c=t.l10nKeys[l];l++){var h={path:c,token:p(c),handler:function(e){f(this.path,e);for(var t in r)r[t].tmpl.set(this.path,e)}};h.token.attach(h.handler,h),s.push(h),h=null}}return n=t.createInstance(a,r,u,E,i,q),{createInstance:function(e,t,i,s,u){var a=o++,f=n(a,e,t,i,s,u);return r[a]=f,f.tmpl},destroyInstance:function(e){var t=e.templateId_,n=r[t];if(n){n.handler&&n.bindingInterface.detach(n.context,n.handler,n.tmpl.set);for(var i in n.attaches)g.call(n,i,null);delete r[t]}},keys:t.keys,destroy:function(e){for(var n=0,o;o=s[n];n++)o.token.detach(o.handler,o);for(var l in r){var c=r[l];e&&c.rebuild&&c.rebuild.call(c.context);if(!e||l in r){c.handler&&c.bindingInterface.detach(c.context,c.handler,c.tmpl.set);for(var l in c.attaches)g.call(l,null)}}P[a]&&P[a].instances===r&&delete P[a],t=null,u=null,i=null,s=null,f=null,r=null}}}}(),et=g.subclass({className:a+".Template",__extend__:function(e){return e instanceof et?e:e instanceof v?new tt(e):new et(e)},builder:Z}),tt=m.subclass({className:a+".TemplateSwitcher",templateClass:et});t.exports={marker:_,Template:et,TemplateSwitcher:tt},n.template.extend({buildHtml:$,resolveTemplateById:J,resolveObjectById:Q,resolveTmplById:G})},"2.js":function(e,t,n,r,i,s,o,u){function b(e){return y[e]||[e]}function E(e){return e instanceof w?e.event_:e||r.event}function S(e){return typeof e=="string"?f.getElementById(e):e}function x(e){var t=e.target||e.srcElement||f;return t.nodeType==3?t.parentNode:t}function T(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function N(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function C(e,t){t=S(t),t?R(t,e,C):(N(e),T(e))}function k(e){return e.keyCode||e.which||0}function L(e){return e.charCode||e.keyCode||0}function A(e,t){return typeof e.which=="number"?e.which==t.VALUE:!!(e.button&t.BIT)}function O(e){return e.changedTouches?e.changedTouches[0].pageX:"pageX"in e?e.pageX:"clientX"in e?e.clientX+(f.compatMode=="CSS1Compat"?f.documentElement.scrollLeft:f.body.scrollLeft):0}function M(e){return e.changedTouches?e.changedTouches[0].pageY:"pageY"in e?e.pageY:"clientY"in e?e.clientY+(f.compatMode=="CSS1Compat"?f.documentElement.scrollTop:f.body.scrollTop):0}function _(e){var t=0;return"wheelDelta"in e?t=e.wheelDelta:e.type=="DOMMouseScroll"&&(t=-e.detail),t&&t/Math.abs(t)}function B(e){var t=c(D[e.type]),n=P[e.type],r=new w(e);if(n){n.handler.call(n.thisObject,r),C(e);return}if(t)for(var i=t.length;i-->0;){var s=t[i];s.handler.call(s.thisObject,r)}}function j(e,t,n){P[e]&&F(e),I(e,t,n),P[e]={handler:t,thisObject:n}}function F(e){var t=P[e];t&&(q(e,t.handler,t.thisObject),delete P[e])}function I(e,t,n){var r=D[e];if(r){for(var i=0,s;s=r[i];i++)if(s.handler===t&&s.thisObject===n)return}else H?R(f,e,l):f.addEventListener(e,B,!0),r=D[e]=[];r.push({handler:t,thisObject:n})}function q(e,t,n){var r=D[e];if(r)for(var i=0,s;s=r[i];i++)if(s.handler===t&&s.thisObject===n){r.splice(i,1),r.length||(delete D[e],H?z(f,e,l):f.removeEventListener(e,B,!0));return}}function R(e,t,n,r){e=S(e);if(!e)throw 3;if(typeof n!="function")throw 4;e[p]||(e[p]={});var i={handler:n,thisObject:r},s=e[p],o=s[t];if(!o)o=s[t]=[i],o.fireEvent=function(e){e=E(e);if(H&&e&&D[t]&&typeof e.returnValue=="undefined"){B(e);if(e.cancelBubble===!0)return;typeof e.returnValue=="undefined"&&(e.returnValue=!0)}for(var n=0,r=new w(e),i;i=o[n++];)i.handler.call(i.thisObject,r)},h?e.addEventListener(t,o.fireEvent,!1):e.attachEvent("on"+t,o.fireEvent);else{for(var u=0,a;a=o[u];u++)if(a.handler===n&&a.thisObject===r)return;o.push(i)}}function U(e,t,n){e=S(e);for(var r in t)R(e,r,t[r],n)}function z(e,t,n,r){e=S(e);var i=e[p];if(i){var s=i[t];if(s)for(var o=0,u;u=s[o];o++)if(u.handler===n&&u.thisObject===r){s.splice(o,1),s.length||W(e,t);return}}}function W(e,t){e=S(e);var n=e[p];if(n)if(typeof t!="string")for(t in n)W(e,t);else{var r=n[t];r&&(e.removeEventListener?e.removeEventListener(t,r.fireEvent,!1):e.detachEvent("on"+t,r.fireEvent),delete n[t])}}function X(e,t,n){e=S(e);var r=e[p];r&&r[t]&&r[t].fireEvent(n)}function V(e,t){R(r,"unload",e,t)}function J(e,t){t||(t="div");var n=t+"-"+e;if($[n])return $[n];var r=!1,i=!1;if(!h){var s="on"+e,o=f.createElement("div"),u=o.appendChild(f.createElement(t));o[s]=function(){i=!0};try{u.fireEvent(s),r=!0}catch(a){}}return $[n]={supported:r,bubble:i}}function K(e){return function(t,n){return e(E(t),n)}}var a=this.path,f=r.document,l=n.fn.$null,c=n.array.from,h=!!f.addEventListener,p="__basisEvents",d={BACKSPACE:8,TAB:9,CTRL_ENTER:10,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},v={VALUE:1,BIT:1},m={VALUE:2,BIT:4},g={VALUE:3,BIT:2},y={mousewheel:["mousewheel","DOMMouseScroll"]},w=n.Class(null,{className:a+".Event",KEY:d,init:function(e){e=E(e);for(var t in e)typeof e[t]!="function"&&t in this==0&&(this[t]=e[t]);var r=x(e);n.object.extend(this,{event_:e,sender:r,target:r,key:k(e),charCode:L(e),mouseLeft:A(e,v),mouseMiddle:A(e,m),mouseRight:A(e,g),mouseX:O(e),mouseY:M(e),wheelDelta:_(e)})},stopBubble:function(){T(this.event_)},stopPropagation:function(){T(this.event_)},preventDefault:function(){N(this.event_)},die:function(){this.stopBubble(),this.preventDefault()}}),D={},P={},H=!h,$={};t.exports={W3CSUPPORT:h,browserEvents:b,getEventInfo:J,KEY:d,MOUSE_LEFT:v,MOUSE_RIGHT:g,MOUSE_MIDDLE:m,Event:w,sender:K(x),cancelBubble:K(T),cancelDefault:K(N),kill:K(C),key:K(k),charCode:K(L),mouseButton:K(A),mouseX:K(O),mouseY:K(M),wheelDelta:K(_),addGlobalHandler:I,removeGlobalHandler:q,captureEvent:j,releaseEvent:F,addHandler:R,addHandlers:U,removeHandler:z,clearHandlers:W,fireEvent:X,onUnload:V,wrap:E}},"3.js":function(e,t,n,r,i,s,o,u){function h(e){var t=[];for(var n in e)c.call(e,n)&&t.push(n);return t}function b(e){if(e.charAt(0)=="#")return p[parseInt(e.substr(1),36)];var t=e.match(/^(.+?)@(.+)$/);if(t)return N(n.path.resolve(t[2])).token(t[1])}function x(e,t,n,r){var i=e.cultureValues[t];r=r?r+".":"";for(var s in n)if(c.call(n,s)){var o=r+s,u=n[s];i[o]=u,u&&(typeof u=="object"||Array.isArray(u))&&x(e,t,u,o)}}function N(e){var t;if(typeof e=="string"){var r=e,i=n.path.extname(r);i!=".l10n"&&(r=n.path.dirname(r)+"/"+n.path.basename(r,i)+".l10n"),e=n.resource(r)}return n.resource.isResource(e)&&(t=E[e.url]),t||new T(e)}function C(){return w.slice(0)}function P(e,t){return e&&!A[e]&&(A[e]=new D(e,t)),A[e||L]}function H(){return L}function B(e){if(!e)return;if(L!=e){if(k.indexOf(e)==-1)return;L=e;for(var t=0,r;r=w[t];t++)r.syncValues();n.Token.prototype.set.call(P,e)}}function j(){return k.slice(0)}function F(e){typeof e=="string"&&(e=e.trim().split(" "));if(!e.length)return;var t={},r,i;O={};for(var s=0,o,u;o=e[s];s++)r=o.split("/"),r.length>2&&(r=r.slice(0,2)),u=r[0],i||(i=u),t[u]=P(u),O[u]=r;for(var u in O)O[u]=n.array.flatten(O[u].map(function(e){return O[e]})).concat(i).filter(function(e,t,n){return!t||n.lastIndexOf(e,t-1)==-1});k=n.object.keys(t),L in t==0&&B(i)}function I(e,t,n){P.attach(e,t),n&&e.call(t,L)}n.require("./4.js");var a=this.path,f=n.Class,l=n.event.Emitter,c=Object.prototype.hasOwnProperty;n.resource.extensions[".l10n"]=function(e,t){return N(t).update(n.resource.extensions[".json"](e,t))};var p=[],d={},v={},m=n.Token.prototype.set,g=f(n.Token,{className:a+".ComputeToken",init:function(e,t){t.computeTokens[this.basisObjectId]=this,this.token=t,n.Token.prototype.init.call(this,e)},get:function(){var e=this.token.type=="plural"?A[L].plural(this.value):this.value;return this.token.dictionary.getValue(this.token.name+"."+e)},toString:function(){return this.get()},destroy:function(){delete this.token.computeTokens[this.basisObjectId],this.token=null,n.Token.prototype.destroy.call(this)}}),y=f(n.Token,{className:a+".Token",index:NaN,dictionary:null,name:"",type:"default",computeTokens:null,init:function(e,t,r,i){n.Token.prototype.init.call(this,i),this.index=p.push(this)-1,this.name=t,this.dictionary=e,this.computeTokens={},r?this.setType(r):this.apply()},toString:function(){return this.get()},apply:function(){for(var e in this.computeTokens)this.computeTokens[e].apply();n.Token.prototype.apply.call(this)},set:function(){},setType:function(e){e!="plural"&&(!n.l10n.enableMarkup||e!="markup")&&(e="default"),this.type!=e&&(this.type=e,this.apply())},compute:function(e,t){arguments.length==1&&(t=e,e=""),t=n.getter(t),e=String(e).trim().split(/\s+|\s*,\s*/).sort();var r=this.basisObjectId,i=e.concat(r,t[n.getter.ID]).join("_");if(d[i])return d[i];var s=this,o={},u=function(e){m.call(this,t(e))},a={destroy:function(e){delete o[e.basisObjectId],this.destroy()}};for(var f=0,c;c=e[f];f++)c!="destroy"&&(a[c]=u);return d[i]=function(e){if(e instanceof l==0)throw 5;var n=e.basisObjectId,r=o[n];return r||(r=o[n]=new g(t(e),s),e.addHandler(a,r)),r}},computeToken:function(e){return new g(e,this)},token:function(e){this.type=="plural"&&(e=A[L].plural(e));if(this.dictionary)return this.dictionary.token(this.name+"."+e)},destroy:function(){for(var e in this.computeTokens)this.computeTokens[e].destroy();this.computeTokens=null,this.value=null,n.Token.prototype.destroy.call(this)}}),w=[],E={},S=new n.Token,T=f(null,{className:a+".Dictionary",tokens:null,types:null,cultureValues:null,index:NaN,resource:null,init:function(e){this.tokens={},this.types={},this.cultureValues={},this.index=w.push(this)-1;if(n.resource.isResource(e)){var t=e;this.resource=t,E[t.url]||(E[t.url]=this,S.set(t.url)),t.fetch()}else this.update(e||{})},update:function(e){e||(e={}),this.cultureValues={};for(var t in e)/^_|_$/.test(t)||(this.cultureValues[t]={},x(this,t,e[t]));this.types=e._meta&&e._meta.type||{};for(var n in this.tokens)this.tokens[n].setType(this.types[n]);return this.syncValues(),this},syncValues:function(){for(var e in this.tokens)m.call(this.tokens[e],this.getValue(e))},getValue:function(e){var t=O[L]||[];for(var n=0,r;r=t[n];n++){var i=this.cultureValues[r];if(i&&e in i)return i[e]}},getCultureValue:function(e,t){return this.cultureValues[e]&&this.cultureValues[e][t]},token:function(e){var t=this.tokens[e];return t||(t=this.tokens[e]=new y(this,e,this.types[e],this.getValue(e))),t},destroy:function(){this.tokens=null,this.cultureValues=null,n.array.remove(w,this),this.resource&&(delete E[this.resource.url],this.resource=null)}}),k=[],L=null,A={},O={},M={},_=[[1,function(e){return 0}],[2,function(e){return e==1||e%10==1?0:1}],[2,function(e){return e==0?0:1}],[2,function(e){return e==1?0:1}],[2,function(e){return e==0||e==1?0:1}],[2,function(e){return e%10!=1||e%100==11?1:0}],[3,function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e!=0?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e==0?0:e==1?1:2}],[3,function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2}],[3,function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2}],[3,function(e){return e==1?0:e>=2&&e<=4?1:2}],[4,function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3}],[4,function(e){return e==1?0:e==2?1:e==3?2:3}],[4,function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0}],[4,function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3}],[4,function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3}],[5,function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4}],[6,function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5}]];["ay bo cgg dz fa id ja jbo ka kk km ko ky lo ms my sah su th tt ug vi wo zh","mk","jv","af an ast az bg bn brx ca da de doi el en eo es es-AR et eu ff fi fo fur fy gl gu ha he hi hne hu hy ia it kn ku lb mai ml mn mni mr nah nap nb ne nl nn no nso or pa pap pms ps pt rm rw sat sco sd se si so son sq sv sw ta te tk ur yo","ach ak am arn br fil fr gun ln mfe mg mi oc pt-BR tg ti tr uz wa zh","is","csb","lv","lt","be bs hr ru sr uk","mnk","ro","pl","cs sk","cy","kw","sl","mt","gd","ga","ar"].forEach(function(e,t){e.split(" ").forEach(function(e){M[e]=this},_[t])});var D=n.Class(null,{className:a+".Culture",name:"",pluralForm:null,init:function(e,t){this.name=e,A[e]||(A[e]=this),this.pluralForm=t||M[e]||M[e.split("-")[0]]||_[0]},plural:function(e){return Number(this.pluralForm[1](Math.abs(parseInt(e,10))))}});n.object.extend(P,new n.Token),P.set=B,F("en-US"),B("en-US"),t.exports={ComputeToken:g,Token:y,token:b,Dictionary:T,dictionary:N,getDictionaries:C,addCreateDictionaryHandler:S.attach.bind(S),removeCreateDictionaryHandler:S.detach.bind(S),Culture:D,culture:P,getCulture:H,setCulture:B,getCultureList:j,setCultureList:F,pluralForms:_,onCultureChange:I}},"4.js":function(e,t,n,r,i,s,o,u){function v(e){var t=p[e];return t||(t=function(){var t=this,n,r;while(t=t.handler){r=t.callbacks[e];if(typeof r=="function"){if(!n){n=[this];for(var i=0;i<arguments.length;i++)n.push(arguments[i])}r.apply(t.context||this,n)}r=t.callbacks["*"];if(typeof r=="function"){if(!n){n=[this];for(var i=0;i<arguments.length;i++)n.push(arguments[i])}r.call(t.context||this,{sender:this,type:e,args:n})}}},p[e]=t),t}function m(e,t){var n={events:[]};if(e){e=String(e).trim().split(/\s+|\s*,\s*/).sort(),n={events:e};for(var r=0,i;i=e[r];r++)i!="destroy"&&(n[i]=t)}return n}var a=this.path,f=n.Class,l=n.object.extend,c=Array.prototype.slice,h={},p={},d=function(){},g=f(null,{className:a+".Emitter",extendConstructor_:!0,handler:null,emit_destroy:v("destroy"),listen:f.nestedExtendProperty(),init:function(){this.handler&&!this.handler.callbacks&&(this.handler={callbacks:this.handler,context:this,handler:null})},addHandler:function(e,t){t=t||this,this.handler={callbacks:e,context:t,handler:this.handler}},removeHandler:function(e,t){var n=this,r;t=t||this;while(r=n,n=n.handler)if(n.callbacks===e&&n.context===t){n.callbacks=h,r.handler=n.handler;return}},destroy:function(){this.destroy=d,this.emit_destroy(),this.handler=null}});t.exports={create:v,createHandler:m,events:p,Emitter:g}},"5.js":function(e,t,n,r,i,s,o,u){function et(e,t){return'<span class="basisjs-markup" data-basisjs-l10n="'+t+'">'+String(e)+"</span>"}function tt(e){typeof e=="string"&&(e=n.l10n.token(e));if(!e)return null;var t=e.basisObjectId,r=Y[t];return r||(r=Y[t]=new dt(new Z(e))),r}function nt(){return"i"+n.genUID()+"__"}function rt(e,t){function n(t){f>o&&(r.push((t||"")+e.substring(o,f)),o=f)}var r=[],i=e.split(""),s=i.length,o=0,u=!1,a;t||(t=nt());for(var f=0;f<s;f++)switch(i[f]){case"'":case'"':a=i[f];while(++f<s)if(i[f]=="\\")f++;else if(i[f]==a){f++;break}break;case"/":if(i[f+1]=="*"){f++;while(++f<s)if(i[f]=="*"&&i[f+1]=="/"){f+=2;break}}break;case"{":u=!0;break;case"}":u=!1;break;case".":if(!u){f++,n();while(++f<s)if(!/[a-z0-9\-\_]/.test(i[f])){n(t),f-=1;break}}}return n(),r.join("")}function st(e){var t=n.resource(e).fetch();typeof t.startUse=="function"&&t.startUse()}function ot(e){var t=n.resource(e).fetch();typeof t.stopUse=="function"&&t.stopUse()}function ut(){this.destroyBuilder&&lt.call(this);for(var e=0,t;t=this.attaches_[e];e++)t.handler.call(t.context)}function at(e){var t=[];for(var n=0;n<e.length;n++)t.push(Array.isArray(e[n])?at(e[n]):e[n]);return t}function ft(e,t,r,i){var s=e,o;typeof s=="function"&&(t="baseURI"in e?e.baseURI:t,o="url"in e?e.url:o,s=s()),s instanceof n.Token&&(t="baseURI"in e?e.baseURI:t,o="url"in e?e.url:o,s=s.get());if(Array.isArray(s))r&&(s=at(s)),s={tokens:s};else if(typeof s!="object"||!Array.isArray(s.tokens))s=String(s);return typeof s=="string"&&(s=it(s,t,i,o,e)),s}function lt(){var e=ft(this.source,this.baseURI,!1,{isolate:this.getIsolatePrefix()}),t=this.destroyBuilder,n=this.builder(e.tokens,this),r=this.deps_;if(r){this.deps_=null;for(var i=0,s;s=r[i];i++)s.bindingBridge.detach(s,lt,this)}if(e.deps&&e.deps.length){r=e.deps,this.deps_=r;for(var i=0,s;s=r[i];i++)s.bindingBridge.attach(s,lt,this)}this.createInstance=n.createInstance,this.clearInstance=n.destroyInstance,this.getBinding=function(){return{names:n.keys}},this.destroyBuilder=n.destroy;var o=e.resources&&e.resources.length>0?e.resources:null;if(o)for(var i=0,u;u=o[i];i++)st(u);if(this.resources)for(var i=0,u;u=this.resources[i];i++)ot(u);this.resources=o,t&&t(!0)}function ht(e){var t=pt(e);if(t.template)return t.template;var n=document.getElementById(e),r="";return n&&n.tagName=="SCRIPT"&&n.type=="text/basis-template"&&(r=n.textContent||n.text),t.template=new dt(r)}function pt(e){var t=ct[e];return t||(t=ct[e]=function(){return ht(e).source}),t}function gt(e,t){var r=n.array(arguments),t=r.pop();return new vt({rule:t,events:r.join(" ").trim().split(/\s+/)})}function wt(){var e=n.array(arguments).join("."),t=At[e];return t||(t=new bt("",e),At[e]=t),t}function Et(e){var t={},n=[];for(var r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function St(e,t){var n=[];n.source=Et(t).join("/");var r={base:!0};for(var i=0;i<t.length;i++){var s=t[i]||"base";if(s==e||r[s])continue;var o=kt(s);r[s]=!0,n.push(s),t.splice.apply(t,[i+1,0].concat(Lt[s].fallback))}return n.unshift(e),e!="base"&&n.push("base"),n.value=n.join("/"),n}function xt(e,t){var n=Lt[e].sourcesList;for(var r=0,i;i=n[r];r++)if(i.hasOwnProperty(t))return i[t];return""}function Tt(e){return Lt[Mt].fallback.indexOf(e)!=-1}function Nt(e){wt(e).set()}function Ct(e){for(var t in At)Nt(t)}function kt(e){e||(e="base");if(Lt[e])return Lt[e].theme;if(!/^([a-z0-9\_\-]+)$/.test(e))throw 8;var t={},r=[t],i=new yt;Lt[e]={theme:i,sources:t,sourcesList:r,fallback:[]};var s=function(n,r){return n in t==0&&(t[n]=r,Tt(e)&&Nt(n)),wt(n)};return n.object.extend(i,{name:e,fallback:function(t){if(i!==Ot&&arguments.length>0){var n=typeof t=="string"?t.split("/"):[],r={};n=St(e,n);if(Lt[e].fallback.source!=n.source){Lt[e].fallback.source=n.source;for(var s in Lt){var o=Lt[s].fallback,n=St(s,(o.source||"").split("/"));if(n.value!=o.value){r[s]=!0,Lt[s].fallback=n;var u=Lt[s].sourcesList;u.length=n.length;for(var a=0;a<u.length;a++)u[a]=Lt[n[a]].sources}}}var f=Lt[Mt].fallback;for(var s in r)if(Tt(s)){Ct();break}}var l=Lt[e].fallback.slice(1);return l.source=Lt[e].fallback.source,l},define:function(e,t){typeof e=="function"&&(e=e());if(typeof e=="string"){if(typeof t=="object"){var n=e,r=t,o={};for(var u in r)r.hasOwnProperty(u)&&(o[u]=s(n+"."+u,r[u]));return o}return arguments.length==1?wt(e):s(e,t)}if(typeof e=="object"){var r=e;for(var a in r)r.hasOwnProperty(a)&&s(a,r[a]);return i}},apply:function(){if(e!=Mt){Mt=e,Ct();for(var t=0,n;n=_t[t];t++)n.fn.call(n.context,e)}return i},getSource:function(n,r){return r?xt(e,n):t[n]},drop:function(n){t.hasOwnProperty(n)&&(delete t[n],Tt(e)&&Nt(n))}}),Lt[e].fallback=St(e,[]),r.push(Lt.base.sources),i}function Dt(e,t,n){_t.push({fn:e,context:t}),n&&e.call(t,Mt)}n.require("./3.js");var a=this.path,f=n.Class,l=n.cleaner,c=n.path,h=n.array.search,p=n.array.add,d=n.array.remove,v=[],m={},g=2,y=1,b=2,w=4,E=5,S=6,x=3,T=8,N=0,C=1,k=2,L=3,A=4,O=/^event-(.+)$/,M={4:"class",5:"style"},_={"class":w,style:E},D={2:A,4:A-1,5:A-1,6:2},P=3,H=4,B=5,j=3,F=3,I="Invalid or unsupported syntax",q=/((?:.|[\r\n])*?)(\{(?:l10n:([a-zA-Z_][a-zA-Z0-9_\-]*(?:\.[a-zA-Z_][a-zA-Z0-9_\-]*)*(?:\.\{[a-zA-Z_][a-zA-Z0-9_\-]*\})?)\})?|<(\/|!--(\s*\{)?)?|$)/g,R=/([a-z_][a-z0-9\-_]*)(:|\{|\s*(\/?>)?)/ig,U=/([a-z_][a-z0-9_\-]*)(:|\{|=|\s*)|(\/?>)/ig,z=/(.|[\r\n])*?-->/g,W=/([a-z_][a-z0-9_\-]*(?::[a-z_][a-z0-9_\-]*)?)>/ig,X=/([a-z_][a-z0-9_]*)(\||\}\s*)/ig,V=/"((?:(\\")|[^"])*?)"\s*/g,$=/^/g,J=/^(area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/i,K={text:/((?:.|[\r\n])*?)(?:<\/b:text>|$)/g,style:/((?:.|[\r\n])*?)(?:<\/b:style>|$)/g},Q=/\\"/g,G=function(e){var t=[],n=[],r={childs:t},i,s,o,u,a=!1,f=0,l,c=q,h=0,p;e=e.trim();while(h<e.length||c!=q){c.lastIndex=h,u=h,p=c.exec(e);if(!p||p.index!==h){if(c==X&&s&&s.type==T){c=z;continue}a&&(r=n.pop()),s&&r.childs.pop();if(s=r.childs.pop())s.type==x&&!s.refs?f-="len"in s?s.len:s.value.length:r.childs.push(s);a=!1,c=q;continue}h=c.lastIndex;switch(c){case q:l=u+p[1].length,f!=l&&(i=f==u?p[1]:e.substring(f,l),s=i.replace(/\s*(\r\n?|\n\r?)\s*/g,""),s&&r.childs.push({type:x,len:i.length,value:s})),f=l,p[3]?r.childs.push({type:x,refs:["l10n:"+p[3]],value:"{l10n:"+p[3]+"}"}):p[2]=="{"?(o=h-1,r.childs.push(s={type:x}),c=X):p[4]?p[4]=="/"?(s=null,c=W):(r.childs.push(s={type:T}),p[5]?(o=h-p[5].length,c=X):(o=h,c=z)):p[2]&&(a=!0,n.push(r),r.childs.push(s={type:y,attrs:[],childs:[]}),r=s,c=R);break;case W:p[1]!==(r.prefix?r.prefix+":":"")+r.name?r.childs.push({type:x,value:"</"+p[0]}):r=n.pop(),c=q;break;case R:case U:if(p[2]==":"){s.prefix?c=$:s.prefix=p[1];break}p[1]&&(s.name=p[1],s.type==b&&r.attrs.push(s));if(p[2]=="{"){s.type==y?c=X:c=$;break}if(p[3]){a=!1;if(p[3]=="/>"||!r.prefix&&J.test(r.name))r=n.pop();else if(r.prefix=="b"&&r.name in K){c=K[r.name];break}c=q;break}if(p[2]=="="){c=V;break}s={type:b},c=U;break;case z:s.value=e.substring(o,h-3),c=q;break;case X:s.refs?s.refs.push(p[1]):s.refs=[p[1]],p[2]!="|"&&(s.type==x?(h-=p[2].length-1,s.value=e.substring(o,h),c=q):s.type==T?c=z:s.type==b&&e[h]=="="?(h++,c=V):(s={type:b},c=U));break;case V:s.value=p[1].replace(Q,'"'),s={type:b},c=U;break;case K.text:case K.style:r.childs.push({type:x,value:p[1]}),r=n.pop(),c=q;break;default:throw 6}c==q&&(f=h)}return f!=h&&r.childs.push({type:x,value:e.substring(f,h)}),t.templateTokens=!0,t},Y={},Z=n.Token.subclass({className:a+".L10nProxyToken",token:null,url:"",init:function(e){this.url=e.dictionary.resource.url+":"+e.name,this.token=e,this.set(),e.attach(this.set,this)},set:function(){return n.Token.prototype.set.call(this,this.token.type=="markup"?et(this.token.value,this.token.name+"@"+this.token.dictionary.resource.url):"")},destroy:function(){n.Token.prototype.destroy.call(this),this.token=null}}),it=function(){function P(e){return(e.prefix?e.prefix+":":"")+e.name}function B(e,t){return f[t]||(t.charAt(0)=="#"?f[t]=String.fromCharCode(t.charAt(1)=="x"||t.charAt(1)=="X"?parseInt(t.substr(2),16):t.substr(1)):l&&(l.innerHTML=e,f[t]=l.firstChild?l.firstChild.nodeValue:e)),f[t]||e}function j(e){return e.replace(a,B)}function F(e){var t=e.refs;return!t||!t.length?0:t}function I(e){var t,n=[],r=[],i={};for(var s=0;s<e.length;s++)s%2?(t=e[s],i[t]||(i[t]=n.length,n.push(t)),r.push(i[t])):e[s]&&r.push(j(e[s]));return[n,r]}function q(e,n){var a=0,f,l;if(n)switch(e){case"class":if(f=n.match(t)){var c=[];a=[];for(var h=0,p;p=f[h];h++)(l=p.match(r))?a.push([l[1]||"",l[2]]):c.push(p);n=c.join(" ")}break;case"style":var d=[];a=[];if(f=n.match(i))for(var h=0,p;p=f[h];h++){var l=p.match(s),v=l[1],n=l[2].trim(),m=n.split(o);if(m.length>1){var g=I(m);g.push(v),a.push(g)}else d.push(v+": "+j(n))}n=d.join("; "),n&&(n+=";");break;default:f=n.split(u),f.length>1?a=I(f):n=j(n)}return a&&!a.length&&(a=0),{binding:a,value:n,type:_[e]||2}}function R(e,t,n){var r=e.attrs,i=[],s,o,a;for(var f=0,l;l=r[f];f++){if(l.prefix=="b"){switch(l.name){case"ref":var c=(l.value||"").trim().split(/\s+/);for(var h=0;h<c.length;h++)U(t,c[h]);break;case"show":case"hide":o=l}continue}if(a=l.name.match(O)){i.push(a[1]==l.value?[S,a[1]]:[S,a[1],l.value]);continue}var p=q(l.name,l.value),d=[p.type,p.binding,F(l)];p.type==2&&d.push(P(l)),p.value&&(!n||!p.binding||p.type!=2)&&d.push(p.value),p.type==E&&(s=d),i.push(d)}if(o){s||(s=[E,0,0],i.push(s)),s[1]||(s[1]=[]);var v=I((o.value||o.name).split(u));v[0].length-v[1].length?s[3]=(s[3]?s[3]+"; ":"")+(o.name=="show"^o.value===""?"":"display: none"):(o.name=="show"&&(s[3]=(s[3]?s[3]+"; ":"")+"display: none"),s[1].push(v.concat("display",o.name)))}return i.length?i:0}function U(e,t){e[k]||(e[k]=[]),p(e[k],t),t!="element"&&(e[C]=e[k].length==1?t:0)}function z(e,t){var n=e[k].indexOf(t);if(n!=-1){var r=e[C]&&typeof e[C]=="number";e[k].splice(n,1),r&&n==e[C]-1&&(e[C]=t),e[k].length?r&&(e[C]-=n<e[C]-1):e[k]=0}}function W(e){var t={};if(e.attrs)for(var n=0,r;r=e.attrs[n];n++)t[P(r)]=r.value;return t}function X(e,t){for(var n=0;n<t.length;n++)p(e,t[n])}function V(e,t,n){for(var r=0,i;i=t[r];r++)i[1]!==g&&(i[1]=n+i[1]);e.unshift.apply(e,t)}function $(e,t,r,i){var s;if(r)s=c.resolve(e.baseURI+r);else{var o=t.childs[0];s=n.resource.virtual("css",o?o.value:"",e.sourceUrl).url}return e.resources.push([s,i]),s}function J(t,r,i,s){function o(t,n,r){var s=W(t);n&&(s.name=n);if(!s.name)return;if(!e.test(s.name))return;var o=ht[s.ref||"element"];if(o&&o.token[N]==y){var u=o.token,a=s.name.match(O),f=a?S:_[s.name]||b,l=D[f]||A,c=u&&h(u,s.name,function(e){return e[N]==S?"event-"+e[1]:M[e[N]]||e[L]},H);!c&&r!="remove"&&(a?c=[f,a[1]]:(c=[f,0,0,f==b?s.name:""],f==b&&c.push("")),u||(u=[],o.token.push(u)),u.push(c));var v=s.name=="class"||s.name=="style";switch(r){case"set":if(c[N]==S){s.value==a[1]?c.length=2:c[l]=s.value;return}var m=q(s.name,s.value);c[C]=m.binding,!i.optimizeSize||!c[C]||v?c[l]=m.value||"":c.length=l;if(v&&!c[C]&&!c[l]){d(u,c);return}break;case"append":var m=q(s.name,s.value);if(!a)if(m.binding){var g=c[C];if(g)switch(s.name){case"style":var w={};for(var E=0,x;x=g[E];E++)w[x[2]]=E;for(var E=0,T;T=m.binding[E];E++)T[2]in w?g[w[T[2]]]=T:g.push(T);break;case"class":g.push.apply(g,m.binding);break;default:m.binding[0].forEach(function(e){p(this,e)},g[0]);for(var E=0;E<m.binding[1].length;E++){var k=m.binding[1][E];typeof k=="number"&&(k=g[0].indexOf(m.binding[0][k])),g[1].push(k)}}else c[C]=m.binding,v||c[C][1].unshift(c[l])}else!v&&c[C]&&c[C][1].push(s.value);m.value&&(c[l]=(c[l]||"")+(c[l]&&(a||v)?" ":"")+m.value);if(v&&!c[C]&&!c[l]){d(u,c);return}break;case"remove":c&&d(u,c)}}}var u=[];for(var a=0,f,l;f=t[a];a++){var w=F(f),E=w&&w.length==1?w[0]:0;switch(f.type){case y:if(f.prefix=="b"){var k=W(f);switch(f.name){case"style":var B=k.namespace||k.ns,I=B?g:s&&s.isolate||"",Y=$(r,f,k.src,I);B&&(Y in g==0&&(g[Y]=nt()),r.styleNSPrefix[B]=g[Y]);break;case"isolate":r.isolate||(r.isolate=k.prefix||i.isolate||nt());break;case"l10n":k.src&&(r.dictURI=c.resolve(r.baseURI,k.src));break;case"define":if("name"in k&&!r.defines[k.name])switch(k.type){case"bool":r.defines[k.name]=[k["default"]=="true"?1:0];break;case"enum":var et=k.values?k.values.trim().split(" "):[];r.defines[k.name]=[et.indexOf(k["default"])+1,et]}break;case"text":var rt=f.childs[0];t[a--]=n.object.extend(rt,{refs:(k.ref||"").trim().split(/\s+/),value:"notrim"in k?rt.value:rt.value.replace(/^\s*[\r\n]+|[\r\n]\s*$/g,"")});break;case"include":var it=k.src;if(it){var st=/^#\d+$/.test(it),ot=/^id:/.test(it),ut=st?it.substr(1):it,at;st?at=v[ut]:ot?at=pt(ut.substr(3)):/^[a-z0-9\.]+$/i.test(ut)&&!/\.tmpl$/.test(ut)?at=wt(ut):at=n.resource(c.resolve(r.baseURI+ut));if(!at)continue;if(m.indexOf(at)==-1){var lt="isolate"in k?k.isolate||nt():"",ct;ot||p(r.deps,at),st?(at.source.bindingBridge&&p(r.deps,at.source),ct=ft(at.source,at.baseURI,!0,i)):ct=ft(at,at.url?c.dirname(at.url)+"/":"",!0,i),ct.resources&&"no-style"in k==0&&V(r.resources,ct.resources,lt),ct.deps&&X(r.deps,ct.deps);var ht=Q(ct.tokens),dt=(f.childs||[]).slice(),vt=n.object.slice(ct.styleNSPrefix);k["class"]&&dt.push({type:y,prefix:"b",name:"append-class",attrs:[{type:b,name:"value",value:k["class"]}]}),k.id&&dt.push({type:y,prefix:"b",name:"set-attr",attrs:[{type:b,name:"name",value:"id"},{type:b,name:"value",value:k.id}]}),k.ref&&ht.element&&k.ref.trim().split(/\s+/).map(function(e){U(ht.element.token,e)});for(var mt=0,gt;gt=dt[mt];mt++)if(gt.type==y&&gt.prefix=="b")switch(gt.name){case"style":var yt=W(gt),B=yt.namespace||yt.ns,I=B?g:lt,Y=$(r,gt,yt.src,I);B&&(Y in g==0&&(g[Y]=nt()),vt[B]=g[Y]);break;case"replace":case"remove":case"before":case"after":var bt=gt.name=="replace"||gt.name=="remove",yt=W(gt),Et="ref"in yt||!bt?yt.ref:"element",St=Et&&ht[Et];if(St){var xt=St.owner.indexOf(St.token);if(xt!=-1){var Tt=[xt+(gt.name=="after"),bt];gt.name!="remove"&&(Tt=Tt.concat(J(gt.childs,r,i)||[])),St.owner.splice.apply(St.owner,Tt)}}break;case"prepend":case"append":var yt=W(gt),Et="ref"in yt?yt.ref:"element",St=Et&&ht[Et],f=St&&St.token;if(f&&f[N]==y){var Nt=J(gt.childs,r,i)||[];gt.name=="prepend"?f.splice.apply(f,[H,0].concat(Nt)):f.push.apply(f,Nt)}break;case"attr":case"set-attr":o(gt,!1,"set");break;case"append-attr":o(gt,!1,"append");break;case"remove-attr":o(gt,!1,"remove");break;case"class":case"append-class":o(gt,"class","append");break;case"set-class":o(gt,"class","set");break;case"remove-class":o(gt,"class","remove");break;case"add-ref":var yt=W(gt),Et="ref"in yt?yt.ref:"element",St=Et&&ht[Et],f=St&&St.token;f&&yt.name&&U(f,yt.name);break;case"remove-ref":var yt=W(gt),Et="ref"in yt?yt.ref:"element",St=Et&&ht[Et],f=St&&St.token;f&&z(f,yt.name||yt.ref);break;default:}else ct.tokens.push.apply(ct.tokens,J([gt],r,i)||[]);ht.element&&z(ht.element.token,"element"),n.object.complete(r.styleNSPrefix,vt),lt?Z(ct.tokens,lt):ct.isolate&&!r.isolate&&(r.isolate=i.isolate||nt()),u.push.apply(u,ct.tokens)}}}continue}l=[1,E,w,P(f)],l.push.apply(l,R(f,l,i.optimizeSize)||[]),l.push.apply(l,J(f.childs,r,i)||[]);break;case x:w&&w.length==2&&h(w,"element")&&(E=w[+!w.lastSearchIndex]);if(E){var Ct=K(E,r.dictURI),kt=Ct.split(/[:@\{]/);if(kt[0]=="l10n"&&kt.length==3)if(!kt[2])d(w,E),w.length==0&&(w=null),E=0,f.value=f.value.replace(/\}$/,"@undefined}");else{var Lt=kt.slice(1).join("@"),At=n.l10n.token(Lt),Ot=tt(At);r.l10nResolved=!0;if(Ot&&At.type=="markup"){t[a--]=G('<b:include src="#'+Ot.templateId+'"/>')[0];continue}}}l=[3,E,w],(!w||f.value!="{"+w.join("|")+"}")&&l.push(j(f.value));break;case T:if(i.optimizeSize&&!E&&!w)continue;l=[8,E,w],i.optimizeSize||(!w||f.value!="{"+w.join("|")+"}")&&l.push(j(f.value))}while(l[l.length-1]===0)l.pop();u.push(l)}return u.length?u:0}function K(e,t){if(typeof e!="string")return e;var n=e.split(":");return n.length==2&&n[0]=="l10n"&&n[1].indexOf("@")==-1&&(n[1]=n[1]+"@"+t),n.join(":")}function Q(e,t,n,r){n||(n={});for(var i=r||0,s;s=e[i];i++){if(s[N]==S)continue;var o=s[k];if(o)for(var u=o.length-1,a;a=o[u];u--){if(a.indexOf(":")!=-1){z(s,a);continue}n[a]&&z(n[a].token,a),s[C]==a&&(s[C]=u+1),n[a]={owner:e,token:s}}switch(s[N]){case x:s[C]=K(s[C],t);break;case b:if(s[C]){var f=s[C][0];for(var u=0;u<f.length;u++)f[u]=K(f[u],t)}break;case y:Q(s,t,n,H)}}return n}function Y(e,t,n,r){var i=0;for(var s=r||0,o;o=e[s];s++){var u=o[N];u==y&&(i+=Y(o,t,n,H));if(u==w||u==b&&o[L]=="class"){var a=o[C],f=D[u];if(a){var l=(o[f]||"").trim().split(" ");for(var c=0,h;h=a[c];c++){if(h.length>2)continue;var d=h[1].split(":").pop(),v=t.defines[d];v?(h.push.apply(h,v),v.used=!0,v[0]&&(v.length==1?p(l,h[0]+d):p(l,h[0]+v[1][v[0]-1]))):i++}o[f]=l.join(" "),n.optimizeSize&&!o[f]&&(o.length=f)}}}return i}function Z(e,t,n,r){function i(e){var r=e.split(":");return r.length==1?t+r[0]:n?r[0]?r[0]in n.styleNSPrefix==0?e:n.styleNSPrefix[r[0]]+r[1]:r[1]:e}for(var s=r||0,o;o=e[s];s++){var u=o[N];u==y&&Z(o,t,n,H);if(u==w||u==b&&o[L]=="class"){var a=o[C],f=D[u];o[f]&&(o[f]=o[f].split(/\s+/).map(i).join(" "));if(a)for(var l=0,c;c=a[l];l++)c[0]=i(c[0])}}}var e=/^[a-z_][a-z0-9_\-]*$/i,t=/(\S+)/g,r=/^((?:[a-z_][a-z0-9_\-]*)?(?::(?:[a-z_][a-z0-9_\-]*)?)?)\{((anim:)?[a-z_][a-z0-9_\-]*)\}$/i,i=/\s*[^:]+?\s*:(?:\(.*?\)|".*?"|'.*?'|[^;]+?)+(?:;|$)/gi,s=/\s*([^:]+?)\s*:((?:\(.*?\)|".*?"|'.*?'|[^;]+?)+);?$/i,o=/\{([a-z_][a-z0-9_]*)\}/i,u=/\{([a-z_][a-z0-9_]*|l10n:[a-z_][a-z0-9_]*(?:\.[a-z_][a-z0-9_]*)*(?:\.\{[a-z_][a-z0-9_]*\})?)\}/i,a=/&([a-z]+|#[0-9]+|#x[0-9a-f]{1,4});?/gi,f=n.NODE_ENV?__nodejsRequire("./template/htmlentity.json"):{},l=n.NODE_ENV?null:document.createElement("div"),m=[],g={};return function(t,r,i,s,o){i=i||{};var u=[],a={sourceUrl:s,baseURI:r||"",tokens:null,resources:[],styleNSPrefix:{},deps:[],defines:{},unpredictable:!0,warns:u,isolate:!1};a.dictURI=s?n.path.resolve(s):r||"";if(a.dictURI){var f=n.path.extname(a.dictURI);f&&f!=".l10n"&&(a.dictURI=a.dictURI.substr(0,a.dictURI.length-f.length)+".l10n")}t.templateTokens||(t=G(String(t))),t.warns&&u.push.apply(u,t.warns),m.push(o!==!0&&o||{}),a.tokens=J(t,a,i),m.pop(),a.tokens||(a.tokens=[[3,0,0,""]]),U(a.tokens[0],"element"),Q(a.tokens,a.dictURI),a.unpredictable=!!Y(a.tokens,a,i);if(m.length==0){Z(a.tokens,a.isolate||"",a);if(a.isolate)for(var l=0,c;c=a.resources[l];l++)c[1]!==g&&(c[1]=a.isolate+c[1]);a.resources=a.resources.filter(function(e,t,r){return!n.array.search(r,String(e),String,t+1)}).map(function(e){var t=e[0],r=e[1];r===g&&(r=g[t]);if(!r)return t;var i=n.resource.virtual("css","").ready(function(e){s(),n.object.extend(e,{url:t+"?isolate-prefix="+r,baseURI:n.path.dirname(t)+"/"})}),s=n.resource(t).ready(function(e){var t=rt(e.cssText||"",r);i.update(t)});return i.url})}return delete a.defines,delete a.l10nResolved,u.length||(a.warns=!1),a}}(),ct={},dt=f(null,{className:a+".Template",__extend__:function(e){return e instanceof dt?e:e instanceof vt?new mt(e):new dt(e)},source:"",baseURI:"",init:function(e){if(v.length==4096)throw 7;this.attaches_=[],this.setSource(e||""),this.templateId=v.push(this)-1},bindingBridge:{attach:function(e,t,n){for(var r=0,i;i=e.attaches_[r];r++)if(i.handler==t&&i.context==n)return;e.attaches_.push({handler:t,context:n})},detach:function(e,t,n){for(var r=0,i;i=e.attaches_[r];r++)if(i.handler==t&&i.context==n){e.attaches_.splice(r,1);return}},get:function(){}},createInstance:function(e,t,n,r,i){return lt.call(this),this.createInstance(e,t,n,r,i)},clearInstance:function(e){},getIsolatePrefix:function(){return"i"+this.templateId+"__"},getBinding:function(e){return lt.call(this),this.getBinding(e)},setSource:function(e){var t=this.source;if(t!=e){if(typeof e=="string"){var r=e.match(/^([a-z]+):/);if(r){var i=r[1];e=e.substr(r[0].length);switch(i){case"file":e=n.resource(e);break;case"id":e=pt(e);break;case"tokens":e=n.string.toObject(e),e.isDecl=!0;break;case"raw":break;case"path":e=wt(e);break;default:}}}if(t&&t.bindingBridge){var s=t.url&&m[t.url];s&&(d(s,this),s.length||delete m[t.url]),this.baseURI="",this.source.bindingBridge.detach(t,ut,this)}e&&e.bindingBridge&&(e.url&&(this.baseURI=c.dirname(e.url)+"/",m[e.url]||(m[e.url]=[]),p(m[e.url],this)),e.bindingBridge.attach(e,ut,this)),this.source=e,ut.call(this)}},destroy:function(){this.destroyBuilder&&this.destroyBuilder(),this.attaches_=null,this.createInstance=null,this.getBinding=null,this.resources=null,this.source=null}}),vt=function(e){n.object.extend(this,e)},mt=n.Class(null,{className:a+".TemplateSwitcher",ruleRet_:null,templates_:null,templateClass:dt,ruleEvents:null,rule:String,init:function(e){this.ruleRet_=[],this.templates_=[],this.rule=e.rule;var t=e.events;if(t&&t.length){this.ruleEvents={};for(var n=0,r;r=t[n];n++)this.ruleEvents[r]=!0}l.add(this)},resolve:function(e){var t=this.rule(e),n=this.ruleRet_.indexOf(t);return n==-1&&(this.ruleRet_.push(t),n=this.templates_.push(new this.templateClass(t))-1),this.templates_[n]},destroy:function(){this.rule=null,this.templates_=null,this.ruleRet_=null}}),yt=f(null,{className:a+".Theme",get:wt}),bt=f(n.Token,{className:a+".SourceWrapper",path:"",url:"",baseURI:"",init:function(e,t){this.path=t,n.Token.prototype.init.call(this,"")},get:function(){return this.value&&this.value.bindingBridge?this.value.bindingBridge.get(this.value):this.value},set:function(){var e=xt(Mt,this.path);this.value!=e&&(this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,bt.prototype.apply,this),this.value=e,this.url=e&&e.url||"",this.baseURI=(typeof e=="object"||typeof e=="function")&&"baseURI"in e?e.baseURI:c.dirname(this.url)+"/",this.value&&this.value.bindingBridge&&this.value.bindingBridge.attach(this.value,bt.prototype.apply,this),this.apply())},destroy:function(){this.url=null,this.baseURI=null,this.value&&this.value.bindingBridge&&this.value.bindingBridge.detach(this.value,this.apply,this),n.Token.prototype.destroy.call(this)}}),Lt={},At={},Ot=kt(),Mt="base",_t=[];l.add({destroy:function(){for(var e in At)At[e].destroy();Lt=null,At=null;for(var t=0,n;n=v[t];t++)n.destroy();v=null}}),t.exports={DECLARATION_VERSION:g,TYPE_ELEMENT:y,TYPE_ATTRIBUTE:b,TYPE_ATTRIBUTE_CLASS:w,TYPE_ATTRIBUTE_STYLE:E,TYPE_ATTRIBUTE_EVENT:S,TYPE_TEXT:x,TYPE_COMMENT:T,TOKEN_TYPE:N,TOKEN_BINDINGS:C,TOKEN_REFS:k,ATTR_NAME:L,ATTR_VALUE:A,ATTR_NAME_BY_TYPE:M,ELEMENT_NAME:P,ELEMENT_ATTRS:H,ELEMENT_CHILDS:B,TEXT_VALUE:j,COMMENT_VALUE:F,L10nProxyToken:Z,TemplateSwitchConfig:vt,TemplateSwitcher:mt,Template:dt,SourceWrapper:bt,switcher:gt,tokenize:G,isolateCss:rt,getDeclFromSource:ft,makeDeclaration:it,getL10nTemplate:tt,Theme:yt,theme:kt,getThemeList:function(){return n.object.keys(Lt)},currentTheme:function(){return Lt[Mt].theme},setTheme:function(e){return kt(e).apply()},onThemeChange:Dt,define:Ot.define,get:wt,getPathList:function(){return n.object.keys(At)}}},"6.js":function(e,t,n,r,i,s,o,u){function C(e,t){return new Function(e,t)}n.require("./5.js");var a=n.template.TYPE_ELEMENT,f=n.template.TYPE_ATTRIBUTE,l=n.template.TYPE_TEXT,c=n.template.TYPE_COMMENT,h=n.template.TOKEN_TYPE,p=n.template.TOKEN_BINDINGS,d=n.template.TOKEN_REFS,v=n.template.ATTR_NAME,m=n.template.ATTR_NAME_BY_TYPE,g=n.template.ELEMENT_NAME,y=n.template.ELEMENT_ATTRS,b=n.template.ELEMENT_CHILDS,w=n.template.TEXT_VALUE,E=n.template.COMMENT_VALUE,S={},x=1,T=function(){function u(e,t){for(var r=0,i;i=e[r];r++)i.indexOf(":")==-1&&n.push(i+":"+t)}function f(n){var r=t.length,i=e[r]||"r"+r;return t.push(i+"="+n),i}function b(e){r.push(e)}function w(e,n,r,E){var S,x,T,N,C;for(var k=0,L=0,A=0,O;O=e[k];k++,L++,N=!1){k?e[k+1]?(O[h]==e[k-1][h]&&O[h]==l&&A++,S=n+".childNodes["+(r?L:L+(A?" + "+A+" * TEXT_BUG":""))+"]"):S=n+".lastChild":S=n+".firstChild";if(x=O[d])N=!0,S=f(S),u(x,S);O[p]&&(O[p]&&typeof O[p]=="number"&&(O[p]=O[d][O[p]-1]),N||(N=!0,S=f(S)),b([O[h],S,O[p]]));if(O[h]==a){T=-1,n==s&&i.push(S+"."+E),N||(S=f(S),T=t.length);var M=[],_=[];for(var D=y,P;P=O[D];D++)P[h]==a||P[h]==l||P[h]==c?_.push(P):M.push(P);for(var D=0,H;H=M[D];D++){if(H[h]==6)continue;var B=m[H[h]]||H[v];if(x=H[d])N=!0,u(x,f(S+'.getAttributeNode("'+B+'")'));if(C=H[p]){N=!0;switch(B){case"class":for(var j=0,F;F=C[j];j++)b([2,S,F[1],B,F[0]].concat(F.slice(2)));break;case"style":for(var j=0,I;I=C[j];j++){o++;for(var q=0,R;R=I[0][q];q++)b([2,S,R,B,I[0],I[1],I[2],I[3],o])}break;default:o++;for(var j=0,R;R=C[0][j];j++)b([2,S,R,B,C[0],C[1],O[g],o])}}}_.length&&w(_,S,r),!N&&T==t.length&&t.pop()}}}var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),t,n,r,i,s,o;return function(e,u,a,f){return t=[],n=[],r=[],i=[],s=u||"_",o=0,w(e,s,a,f),{path:t,ref:n,binding:r,markedElementList:i}}}(),N=function(){function s(t,n,r){var i=[],s=t[5],o=t[4],u,a;for(var f=0;f<s.length;f++)if(typeof s[f]=="string")i.push('"'+s[f].replace(/"/g,'\\"')+'"');else{u=o[s[f]],a=u.indexOf(":");if(a==-1)i.push(n=="l10n"?'"{'+u+'}"':n=="bool"?"(__"+u+'||"")':"__"+u);else{var l=null,c=u.substr(a+1).replace(e,function(e,t){return l=t,""});l?i.push(r[u.substr(a+1)]):i.push('__l10n["'+c+'"]')}}return i.length==1&&i.push('""'),i.join("+")}var e=/\.\{([a-zA-Z_][a-zA-Z0-9_\-]*)\}/,t={disabled:"*",checked:["input"],indeterminate:["input"],value:["input","textarea","select"],minlength:["input"],maxlength:["input"],readonly:["input"],selected:["option"],multiple:["select"]},r={disabled:!0,checked:!0,selected:!0,readonly:!0,multiple:!0,indeterminate:!0},i={1:"bind_element",3:"bind_textNode",8:"bind_comment"};return function(o){function u(e){N[e]=!0,h.push(p+"="+e+"("+n.array(arguments,1)+");")}var c={},h,p,d=[],m=[],g,y,b=[],w={},E=1,S,x,T={},N={resolve:!0};for(var C=0,k;k=o[C];C++){var L=k[0],A=k[1],O=k[2];if(["get","set","templateId_"].indexOf(O)!=-1)continue;var M=O.split(":"),_=M[0]=="anim";_&&(O=M[1]),h=c[O],p="_"+C,g="__"+O;if(M[0]=="l10n"&&M[1]){var D=M[1],P=null,H=D.replace(e,function(e,t){return P=t,""});if(P){D in w==0&&(g="$l10n_"+E++,w[D]=g,b.push('set("'+g+'",'+g+")"),d.push(g+'=tools.l10nToken("'+H+'").computeToken()'),h=c[P],h||(h=c[P]=[],d.push("__"+P)),h.push(g+".set(__"+P+");")),O=w[D],p="_"+C,g="__"+O,h=c[O],h||(h=c[O]=[],d.push(g)),L==l?(d.push(p+"="+A),u(i[L],A,p,"value")):(B='"'+k[v]+'"',d.push(p),u("bind_attr",A,B,p,s(k,!1,w)));continue}y||(y={}),c[H]||(c[H]=[],y[H]=[]),h=c[H],h.l10n=!0;if(L==l){y[H].push(A+".nodeValue=value;"),h.push(A+'.nodeValue=__l10n["'+H+'"]'+(P?"[__"+P+"]":"")+";");continue}y[H].push("bind_attr("+[A,'"'+k[v]+'"',"NaN",s(k,"l10n",w)]+");")}h||(h=c[O]=[],d.push(g));if(L!=f)if(!h.nodeBind)d.push(p+"="+A),u(i[L],A,p,"value"),h.nodeBind=p;else switch(L){case a:u(i[L],A,A,"value!==null?String(value):null");break;case l:h.push(A+".nodeValue=value;")}else{var B=k[v];switch(B){case"class":var j="",F="value",I=k[4],q=k.length;if(q>=6)if(q==6||typeof k[6]=="string")q==6?(F='value?"'+O+'":""',k[5]&&(j=I+O)):(I="",F='value?"'+k[6]+'":""',k[5]&&(j=k[6]));else{if(!k[6].length)continue;q==7?(F=k[6].map(function(e){return'value=="'+e+'"'}).join("||")+'?value:""',k[5]&&(j=I+k[6][k[5]-1])):(I="",F=k[6].map(function(e,t){return'value=="'+e+'"?"'+this[t]+'"'},k[7]).join(":")+':""',k[5]&&(j=k[7][k[5]-1]))}else F='typeof value=="string"||typeof value=="number"?value:(value?"'+O+'":"")';d.push(p+'="'+j+'"'),u("bind_attrClass",A,p,F,'"'+I+'"',_);break;case"style":var R=s(k,!1,w);x=k[8],T[x]||(T[x]=p,d.push(p+"="+(k[7]=="hide"?'""':'"none"'))),k[7]&&(R=R.replace(/\+""$/,"")+(k[7]=="hide"?'?"none":""':'?"":"none"')),p=T[x],u("bind_attrStyle",A,'"'+k[6]+'"',p,R);break;default:S=t[B],x=k[7],T[x]||(d.push(p+"="+s(k,"l10n",w)),T[x]=p),p=T[x],u("bind_attr",A,'"'+B+'"',p,S&&r[B]?s(k,"bool",w)+'?"'+B+'":""':s(k,!1,w)),S&&(S=="*"||S.indexOf(k[6].toLowerCase())!=-1)&&h.push("if("+A+"."+B+"!="+p+")"+A+"."+B+"="+(r[B]?"!!"+p:p)+";")}}}m.push(';function set(bindName,value){if(typeof bindName!="string")');for(var O in c)c[O].nodeBind&&m.push("if(bindName==="+c[O].nodeBind+")"+'bindName="'+O+'";'+"else ");m.push("return;"),m.push("value=resolve.call(instance,bindName,value,Attaches);switch(bindName){");for(var O in c)m.push('case"'+O+'":'+(c[O].l10n?c[O].join(""):"if(__"+O+"!==value)"+"{"+"__"+O+"=value;"+c[O].join("")+"}")+"break;");m.push("}}");var U=[];for(var z in N)U.push(z+"=tools."+z);return{keys:n.object.keys(c).filter(function(e){return e.indexOf("@")==-1}),tools:U,vars:d,set:m.join(""),l10n:y,l10nCompute:b}}}(),k=function(e,t,r,i,s,o){var u=S[r&&n.path.relative(r)];if(u)return u;var a=T(e,"_",s,o),f=N(a.binding),l=a.markedElementList.join("="),c,h,p={keys:f.keys,l10nKeys:n.object.keys(f.l10n)};e.length==1&&(a.path[0]="a=_");if(f.l10n){var d=[];for(var v in f.l10n)d.push('case"'+v+'":'+'if(value==null)value="{'+v+'}";'+"__l10n[token]=value;"+f.l10n[v].join("")+"break;");p.createL10nSync=C(["_","__l10n","bind_attr","TEXT_BUG"],"var "+a.path+";"+"return function(token, value){"+"switch(token){"+d.join("")+"}"+"}")}return p.createInstance=C(["tid","map","proto","tools","__l10n","TEXT_BUG"],"var getBindings=tools.createBindingFunction(["+f.keys.map(function(e){return'"'+e+'"'})+"]),"+(f.tools.length?f.tools+",":"")+"Attaches=function(){};"+"Attaches.prototype={"+f.keys.map(function(e){return e+":null"})+"};"+"return function createInstance_(id,obj,onAction,onRebuild,bindings,bindingInterface){"+"var _=proto.cloneNode(true),"+a.path.concat(f.vars)+","+"instance={"+"context:obj,"+"action:onAction,"+"rebuild:onRebuild,"+"handler:null,"+"bindings:bindings,"+"bindingInterface:bindingInterface,"+"attaches:null,"+"tmpl:{"+[a.ref,"templateId_:id","set:set"]+"}"+"}"+(l?";if(obj||onAction)"+l+"=(id<<12)|tid":"")+f.set+";if(bindings)instance.handler=getBindings(bindings,obj,set,bindingInterface)"+";"+f.l10nCompute+";return instance"+"}"),p};t.exports={getFunctions:k}}};(function r(i,s,o){function l(e){function t(e){return Math.round(e).toString(36)}var n=t(10+25*Math.random());e||(e=16);while(n.length<e)n+=t(new Date*Math.random());return n.substr(0,e)}function c(e,t){for(var n in t)e[n]=t[n];return e}function h(e,t){for(var n in t)n in e==0&&(e[n]=t[n]);return e}function p(e){var t=[];for(var n in e)t.push(n);return t}function d(e){var t=[];for(var n in e)t.push(e[n]);return t}function v(e,t){var n={};if(!t)return c(n,e);for(var r=0,i;i=t[r++];)i in e&&(n[i]=e[i]);return n}function m(e,t){var n={};if(!t)return c(n,e);for(var r=0,i;i=t[r++];)i in e&&(n[i]=e[i],delete e[i]);return n}function g(){var e={};for(var t=0;t<arguments.length;t++)c(e,arguments[t]);return e}function y(e,t,n){var r=[];for(var i in e)r.push(t.call(n,i,e[i]));return r}function b(e){return e==undefined}function w(e){return e!=undefined}function E(e){return e==null||e==undefined}function S(e){return e!=null&&e!=undefined}function x(e){return e===this}function T(e){return e!==this}function N(e){return e}function C(e){return function(){return e}}function k(){return!1}function L(){return!0}function A(){return null}function O(){}function D(e){return function(t){var n={};return n[e]=t,n}}function P(e,t){var n=0,r,i;return r=function(){return n++||(r.inited=!0,r.data=i=e.apply(t||this,arguments)),i}}function H(e,t,n){var r=0,i,s;return i=function(){return r++||(i.inited=!0,i.data=s=e.call(n||this)),t.apply(s,arguments),s}}function B(e,t){var n=0;return function(){if(!(n++))return e.apply(t||this,arguments)}}function W(){var e=o;if(!e)if(q)U=__filename.replace(/\\/g,"/");else{var t=a.scripts;for(var n=0,r;r=t[n];n++){var i=r.hasAttribute("basis-config")?r.getAttribute("basis-config"):r.getAttribute("data-basis-config");r.removeAttribute("basis-config"),r.removeAttribute("data-basis-config");if(i!==null){U=R.normalize(r.src);try{e=Function("return{"+i+"}")()}catch(s){}break}}}return X(e)}function X(e,t){e=v(e);var n=[],r=g(e.path,e.modules,{basis:U});e.modules={};if(e.autoload){var i=String(e.autoload).match(/^((?:[^\/]*\/)*)([a-z$_][a-z0-9$_]*)((?:\.[a-z$_][a-z0-9$_]*)*)$/i);i&&(r[i[2]]={autoload:!0,filename:i[1]+i[2]+(i[3]||".js")}),delete e.autoload}for(var s in r){var o=r[s];typeof o=="string"&&(o={filename:o.replace(/\/$/,"/"+s+".js")});var u=o.filename,a=o.path;u&&!a&&(u=R.resolve(u),a=u.substr(0,u.length-R.extname(u).length),u="../"+R.basename(u)),a=R.resolve(a),!u&&a&&(u=R.basename(a),a=R.dirname(a)),R.extname(u)||(u+=".js"),u=R.resolve(a,u),e.modules[s]={path:a,filename:u},o.autoload&&(e.autoload=n,n.push(s))}return e}function et(e){var t=Y[e.url];if(t)for(var n=0;n<t.length;n++)t[n](e.get(),e.url)}function it(e,t,n){try{return new Function(t,n)}catch(r){j.error("Compilation error at "+e+("line"in r?":"+(r.line-1):"")+": "+r)}}function ct(e){if(e in ut==0){var t=e.split("."),n=t.shift(),r=t.join("/")+".js";n in ft==0&&(ft[n]=R.baseURI+n+"/"),n==e?r=ft[n].replace(/\/$/,"")+".js":r=ft[n]+r,ut[e]=r,at[r]=e}return ut[e]}function ht(e){var n=ot[e];return n||(n=ot[e]=new lt(e),n.namespaces_={},n.namespaces_[e]=n,z.noConflict||(i[e]=n)),e=="templates"&&!t&&(t=ot[e]),n}function pt(e){e=e.split(".");var t=ht(e[0]),n=t;for(var r=1,i;i=e[r];r++){if(!n[i]){var s=e.slice(0,r+1).join(".");n[i]=new lt(s),t.namespaces_[s]=n[i]}n=n[i]}return ot[e.join(".")]=n,n}function vt(e,t){!/[^a-z0-9_\.]/i.test(e)&&R.extname(e)!=".js"?e=ct(e):e=R.resolve(e),Y[e]?Y[e].push(t):Y[e]=[t];var n=rt.get(e);n&&n.isResolved()&&t(n.get(),n.url)}function mt(e,t){if(e!=null){var n=e.length;if(typeof n=="undefined"||f.call(e)=="[object Function]")return[e];t||(t=0);if(n-t>0){for(var r=[],i=0,s=t;s<n;)r[i++]=e[s++];return r}}return[]}function gt(e,t,n){var r=[],i=typeof t=="function";for(var s=0;s<e;s++)r[s]=i?t.call(n,s,r):t;return r}var u="1.3.3",a=i.document,f=Object.prototype.toString,M=function(){function o(e){if(n.test(e)){var t=e.split("."),r=t[0],i=t[1],s=t[2],o;switch(t.length){case 1:o=function(e){return e!=null?e[r]:e};break;case 2:o=function(e){return e!=null?e[r][i]:e};break;case 3:o=function(e){return e!=null?e[r][i][s]:e};break;default:o=function(e){if(e!=null){e=e[r][i][s];for(var n=3,o;o=t[n];n++)e=e[o]}return e}}return o}return new Function("object","return object != null ? object."+e+" : object")}var e="basisGetterId"+l()+"_",t=1,n=/^[a-z$_][a-z$_0-9]*(\.[a-z$_][a-z$_0-9]*)*$/i,r=[],i={},s={},u=function(n,u){var a,f,l;if(!n||n===_)return _;typeof n=="function"?(l=n[e],l?a=r[Math.abs(l)-1]:(a=function(e){return n(e)},a.base=n,a.__extend__=M,l=r.push(a),n[e]=-l,a[e]=l)):(a=i[n],a?l=a[e]:(a=o(n),a.base=n,a.__extend__=M,l=r.push(a),a[e]=l,i[n]=a));var c=u!=null&&typeof u;if(!c)return a;var h=s[l],p;if(c=="string")p=c+u;else if(c=="function")p=u.basisModId_;else if(c!="object")return a;if(p&&h&&h[p])return h[p];typeof a.base=="function"&&(a=a.base);switch(c){case"string":f=function(e){return St.format(u,a(e))};break;case"function":p||(p=c+t++,u.basisModId_=p),f=function(e){return u(a(e))};break;default:f=function(e){return u[a(e)]}}return f.base=a.base||a,f.__extend__=M,p&&(h||(h={},s[l]=h),h[p]=f,f.mod=u,f[e]=r.push(f)),f};return u.ID=e,u}(),_=c(function(){},{__extend__:M}),j=function(){var e={log:O,info:O,warn:O,error:O};return typeof console!="undefined"&&y(e,function(t){e[t]="bind"in Function.prototype&&typeof console[t]=="function"?Function.prototype.bind.call(console[t],console):function(){Function.prototype.apply.call(console[t],console,arguments)}}),e}(),F=i.setImmediate||i.msSetImmediate,I=i.clearImmediate||i.msSetImmediate;F&&(F=F.bind(i)),I&&(I=I.bind(i)),F||function(){var e="basisjs.setImmediate",t=function(){var e={},t=1;return F=function(r){if(typeof r!="function")return;return e[++t]={fn:r,args:mt(arguments,1)},n(t),t},I=function(t){delete e[t]},function(t){var n=e[t];if(n)return delete e[t],n.fn.apply(undefined,n.args)}}(),n=function(e){setTimeout(function(){t(e)},0)};if(i.process&&typeof process.nextTick=="function")n=function(e){process.nextTick(function(){t(e)})};else if(i.MessageChannel){var r=new i.MessageChannel;r.port1.onmessage=function(e){var n=e.data;t(n)},n=function(e){r.port2.postMessage(e)}}else{var s=i.postMessage&&!i.importScripts;if(s){var o=i.onmessage;i.onmessage=function(){s=!1},i.postMessage("","*"),i.onmessage=o}if(s){var u=function(n){if(n&&n.source==i){var r=String(n.data).split(e)[1];r&&t(r)}};i.addEventListener?i.addEventListener("message",u,!0):i.attachEvent("onmessage",u),n=function(t){i.postMessage(e+t,"*")}}else{var f=function(){return a.createElement("script")};if(a&&"onreadystatechange"in f()){var l=n;n=function c(e){typeof kt!="undefined"&&(n=l,kt.head.ready(function(){n=function(e){var n=f();n.onreadystatechange=function(){n.onreadystatechange=null,kt.remove(n),n=null,t(e)},kt.head.add(n)}})),n===c?l(e):n(e)}}}}}();var q=typeof process=="object"&&f.call(process)=="[object process]",R=function(){var e=/^([^\/]+:|\/)/,t=/^[a-zA-Z0-9\-]+:\/?/,n=/^(?:[a-zA-Z0-9\-]+:)?\/\/[^\/]+\/?/,r=/[\?#].*$/,i,s,o;if(q){var u=(process.basisjsBaseURI||require("path").resolve(".")).replace(/\\/g,"/");i=u.replace(/^[^\/]*/,""),s=u.replace(/\/.*/,"")}else i=location.pathname.replace(/[^\/]+$/,""),s=location.protocol+"//"+location.host;return o={baseURI:i,origin:s,normalize:function(e){e=(e||"").replace(t,"/").replace(n,"/").replace(r,"");var i=[],s=e.split("/");for(var o=0;o<s.length;o++)s[o]==".."?(i.length>1||i[0])&&i.pop():(s[o]||!o)&&s[o]!="."&&i.push(s[o]);return i.join("/")||(e[0]==="/"?"/":"")},dirname:function(e){var t=o.normalize(e);return t.replace(/\/([^\/]*)$|^[^\/]+$/,"")||(t[0]=="/"?"/":".")},extname:function(e){var t=o.normalize(e).match(/[^\/](\.[^\/\.]*)$/);return t?t[1]:""},basename:function(e,t){var n=o.normalize(e).match(/[^\\\/]*$/);return n=n?n[0]:"",t==o.extname(n)&&(n=n.substring(0,n.length-t.length)),n},resolve:function(t,n){var r=mt(arguments).reverse(),s=[],u=!1;for(var a=0;!u&&a<r.length;a++)typeof r[a]=="string"&&(s.unshift(r[a]),u=e.test(r[a]));return u||s.unshift(i=="/"?"":i),o.normalize(s.join("/"))},relative:function(e,t){typeof t!="string"&&(t=e,e=i),e=o.normalize(e),t=o.normalize(t);if(e[0]=="/"&&t[0]!="/")return e;if(t[0]=="/"&&e[0]!="/")return t;var n=e.replace(/^\/$/,"").split(/\//),r=t.replace(/^\/$/,"").split(/\//),s=[],u=0;while(r[u]==n[u]&&typeof n[u]=="string")u++;for(var a=n.length-u;a>0;a--)s.push("..");return s.concat(r.slice(u).filter(Boolean)).join("/")}},o}(),U=s||"",z=o||{noConflict:!0,modules:{},autoload:["./0.js"]},V=function(){function r(e){return typeof e=="function"&&!!e.basisClassId_}function i(e){var t=this;while(t&&t!==e)t=t.superClass_;return t===e}function s(e,t,n){return(new Function(p(t),'return {"'+e+'": '+n+'\n}["'+e+'"]')).apply(null,d(t))}function u(s,o){var f=t++;typeof s!="function"&&(s=l);var h=function(){};h.prototype=s.prototype;var p=new h,d={basisClassId_:f,superClass_:s,extendConstructor_:!!s.extendConstructor_,isSubclassOf:i,subclass:function(){return u.apply(null,[g].concat(mt(arguments)))},extend:a,__extend__:function(e){return e&&e!==n&&(typeof e=="object"||typeof e=="function"&&!r(e))?l.create.call(null,g,e):e},prototype:p};for(var v=1,m;m=arguments[v];v++)d.extend(m);var g=d.extendConstructor_?function(t){this.basisObjectId=e.id++;var n;for(var r in t)n=this[r],this[r]=n&&n.__extend__?n.__extend__(t[r]):t[r];this.init(),this.postInit()}:function(){this.basisObjectId=e.id++,this.init.apply(this,arguments),this.postInit()};p.constructor=g;for(var y in p)p[y]===n&&(p[y]=g);return c(g,d),g}function a(e){var t=this.prototype;typeof e=="function"&&!r(e)&&(e=e(this.superClass_.prototype,v(t))),e.prototype&&(e=e.prototype);for(var n in e){var i=e[n],s=t[n];n=="className"||n=="extendConstructor_"?this[n]=i:s&&s.__extend__?t[n]=s.__extend__(i):t[n]=i}return o&&e[n="toString"]!==f&&(t[n]=e[n]),this}var e={id:1},t=1,n={},o=function(){for(var e in{toString:1})return!1;return!0}(),l=c(u,{className:"basis.Class",extendConstructor_:!1,prototype:{basisObjectId:0,constructor:null,init:function(){},postInit:function(){},destroy:function(){for(var e in this)hasOwnProperty.call(this,e)&&(this[e]=null);this.destroy=O}}}),h=function(e,t,n){return{__extend__:function(e){if(!e)return e;if(e&&e.__extend__)return e;var n=function(){};n.prototype=this;var r=new n;return t(r,e),r}}.__extend__(e||{})},m=function(e){return h(e,c,"extensibleProperty")},g=function(e){return h(e,function(e,t){for(var n in t){var r=e[n];e[n]=r&&r.__extend__?r.__extend__(t[n]):m(t[n])}},"nestedExtendProperty")},y=function(e,t){var n=function(t){var r={__extend__:n};if(t){if(t.__extend__)return t;for(var i in t)t[i]&&(r[i]=e)}return r};return n(t||{})};return c(l,{SELF:n,create:u,isClass:r,customExtendProperty:h,extensibleProperty:m,nestedExtendProperty:g,oneFunctionProperty:y})}(),$=V(null,{className:"basis.Token",value:null,handler:null,deferredToken:null,bindingBridge:{attach:function(e,t,n){e.attach(t,n)},detach:function(e,t,n){e.detach(t,n)},get:function(e){return e.get()}},init:function(e){this.value=e},get:function(){return this.value},set:function(e){this.value!==e&&(this.value=e,this.apply())},attach:function(e,t){this.handler={fn:e,context:t,handler:this.handler}},detach:function(e,t){var n=this,r;while(r=n,n=n.handler)if(n.fn===e&&n.context===t){n.fn=O,r.handler=n.handler;return}},apply:function(){var e=this.get(),t=this;while(t=t.handler)t.fn.call(t.context,e)},deferred:function(){var e=this.deferredToken;return e||(e=this.deferredToken=new K(this.value),this.attach(e.set,e)),e},destroy:function(){this.deferredToken&&(this.deferredToken.destroy(),this.deferredToken=null),this.handler=null,this.value=null,this.attach=O,this.detach=O}}),J=function(){function n(){var n=e;e={},t=null;for(var r in n)n[r].apply()}var e={},t;return function(r){if(r.basisObjectId in e)return;e[r.basisObjectId]=r,t||F(n)}}(),K=$.subclass({className:"basis.DeferredToken",set:function(e){this.value!==e&&(this.value=e,J(this))},deferred:function(){return this}}),Q={},G={},Y={},Z=1;(function(){var e=typeof n!="undefined"?n:null;if(e)for(var t in e)G[R.resolve(t)]=e[t]})();var tt=function(e,t){if(t||!G.hasOwnProperty(e)){var n="";if(!q){var r=new XMLHttpRequest;r.open("GET",e,!1),r.setRequestHeader("If-Modified-Since",(new Date(0)).toGMTString()),r.setRequestHeader("X-Basis-Resource",1),r.send(""),r.status>=200&&r.status<400&&(n=r.responseText)}else try{n=process.basisjsReadFile?process.basisjsReadFile(e):require("fs").readFileSync(e,"utf-8")}catch(i){}G[e]=n}return G[e]},nt=function(e,t){var n=R.extname(e),r=rt.extensions[n],i=arguments.length>1,s=!1,o=!1;i&&(e+="#virtual");var u=function(){if(s)return t;var n=i?t:tt(e);return r?o||(o=!0,t=r(n,e)):t=n,s=!0,et(u),u.apply(),t};return c(u,c(new $,{url:e,type:n,virtual:i,fetch:function(){return u()},toString:function(){return"[basis.resource "+e+"]"},isResolved:function(){return s},update:function(n){if(!s||i||n!=G[e])i||(G[e]=n),r?(!o&&i&&(t=n),o&&!r.permanent&&(t=r(n,e,t),et(u),u.apply())):(t=n,s=!0,et(u),u.apply())},reload:function(){if(i)return;var t=G[e],n=tt(e,!0);n!=t&&(s=!1,u.update(n))},get:function(n){return i&&n?r?wrappedContent:t:n?tt(e):u()},ready:function(e,t){if(s){e.call(t,u());if(r&&r.permanent)return}return u.attach(e,t),u}})),Q[e]=u,u},rt=function(e){var t=Q[e];return t?t:(e=R.resolve(e),t=Q[e],t||nt(e))};c(rt,{isResource:function(e){return e?Q[e.url]===e:!1},isResolved:function(e){var t=rt.get(e);return t?t.isResolved():!1},exists:function(e){return Q.hasOwnProperty(R.resolve(e))},get:function(e){return e=R.resolve(e),rt.exists(e)?rt(e):null},getFiles:function(e){return p(e?G:Q).map(R.relative)},virtual:function(e,t,n){return nt((n?n+":":R.normalize(R.baseURI=="/"?"":R.baseURI)+"/")+"virtual-resource"+Z++ +"."+e,t)},extensions:{".js":c(function(e,t){var n=at[t];if(!n){var r=!0,i=R.dirname(t)+"/"+R.basename(t,R.extname(t));for(var s in ft){var o=ft[s]+s+"/";if(i.substr(0,o.length)==o){r=!1,i=i.substr(ft[s].length);break}}n=i.replace(/\./g,"_").replace(/^\//g,"").replace(/\//g,"."),r&&(n="implicit."+n)}if(!ot[n]){var s=pt(n);s.exports=st({path:s.path,exports:s.exports},t,e).exports,s.exports&&s.exports.constructor===Object&&h(s,s.exports)}return ot[n].exports},{permanent:!0}),".css":function(e,t,n){return n||(n=new At(t)),n.updateCssText(e),n},".json":function(e,t){if(typeof e=="object")return e;var n;try{e=String(e),n=Ot.json.parse(e)}catch(r){}return n||null}}});var st=function(e,t,n){var r=R.dirname(t)+"/",s=n;return e.exports||(e.exports={}),typeof s!="function"&&(s=it(t,["exports","module","basis","global","__filename","__dirname","resource","require"],'"use strict";\n'+n)),typeof s=="function"&&s.call(e.exports,e.exports,e,Ot,i,t,r,function(e){return rt(R.resolve(r,e))},function(e,t){return dt(e,t||r)}),e},ot={},ut={},at={},ft={};y(z.modules,function(e,t){ft[e]=t.path+"/",ut[e]=t.filename,at[t.filename]=e}),function(t){var t=typeof e!="undefined"?e:null;if(t)for(var n in t){var r=R.resolve(n),i=t[n];at[r]=i,ut[i]=r}}();var lt=V(null,{className:"basis.Namespace",init:function(e){this.name=e,this.exports={path:this.name}},toString:function(){return"[basis.namespace "+this.path+"]"},extend:function(e){return c(this.exports,e),h(this,e)}}),dt=function(){if(q){var e=module.constructor.prototype;return function(t,n){if(!/[^a-z0-9_\.]/i.test(t)||R.extname(t)==".js"){var r=e._compile,i=pt(t);e._compile=function(e,t){this.basis=Ot,e='var __nodejsRequire = require;\nvar basis = module.basis;\nvar resource = function(filename){ return basis.resource(__dirname + "/" + filename) };\nvar require = function(filename, baseURI){ return basis.require(filename, baseURI || __dirname) };\n'+e,r.call(c(this,i),e,t)};var s=require(__dirname+"/"+t.replace(/\./g,"/"));return i.exports=s,s&&s.constructor===Object&&h(i,s),e._compile=r,s}return t=R.resolve(n,t),require(t)}}return function(e,t){return!/[^a-z0-9_\.]/i.test(e)&&R.extname(e)!=".js"?e=ct(e):e=R.resolve(t,e),rt(e).fetch()}}();h(Function.prototype,{bind:function(e){var t=this,n=mt(arguments,1);return n.length?function(){return t.apply(e,n.concat.apply(n,arguments))}:function(){return t.apply(e,arguments)}}}),h(Array,{isArray:function(e){return f.call(e)==="[object Array]"}}),h(Array.prototype,{indexOf:function(e,t){t=parseInt(t,10)||0;if(t<0)return-1;for(;t<this.length;t++)if(this[t]===e)return t;return-1},lastIndexOf:function(e,t){var n=this.length;t=parseInt(t,10),isNaN(t)||t>=n?t=n-1:t=(t+n)%n;for(;t>=0;t--)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var n=0,r=this.length;n<r;n++)n in this&&e.call(t,this[n],n,this)},every:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&!e.call(t,this[n],n,this))return!1;return!0},some:function(e,t){for(var n=0,r=this.length;n<r;n++)if(n in this&&e.call(t,this[n],n,this))return!0;return!1},filter:function(e,t){var n=[];for(var r=0,i=this.length;r<i;r++)r in this&&e.call(t,this[r],r,this)&&n.push(this[r]);return n},map:function(e,t){var n=[];for(var r=0,i=this.length;r<i;r++)r in this&&(n[r]=e.call(t,this[r],r,this));return n},reduce:function(e,t){var n=this.length,r=arguments.length;if(n==0&&r==1)throw 1;var i,s=0;r>1&&(i=t,s=1);for(var o=0;o<n;o++)o in this&&(s++?i=e.call(null,i,this[o],o,this):i=this[o]);return i}});var yt={from:mt,create:gt,flatten:function(e){return e.concat.apply([],e)},repeat:function(e,t){return yt.flatten(gt(parseInt(t,10)||0,e))},search:function(e,t,n,r){e.lastSearchIndex=-1,n=M(n||N);for(var i=parseInt(r,10)||0,s=e.length;i<s;i++)if(n(e[i])===t)return e[e.lastSearchIndex=i]},lastSearch:function(e,t,n,r){e.lastSearchIndex=-1,n=M(n||N);var i=e.length,s=isNaN(r)||r==null?i:parseInt(r,10);for(var o=s>i?i:s;o-->0;)if(n(e[o])===t)return e[e.lastSearchIndex=o]},add:function(e,t){return e.indexOf(t)==-1&&!!e.push(t)},remove:function(e,t){var n=e.indexOf(t);return n!=-1&&!!e.splice(n,1)},has:function(e,t){return e.indexOf(t)!=-1},sortAsObject:function(){return yt.sort.apply(this,arguments)},sort:function(e,t,n,r){return t=M(t),r=r?-1:1,e.map(function(e,n){return{i:n,v:t(e)}}).sort(n||function(e,t){return r*(e.v>t.v||-(e.v<t.v)||(e.i>t.i?1:-1))}).map(function(e){return this[e.i]},e)}};if(![1,2].splice(1).length){var bt=Array.prototype.splice;Array.prototype.splice=function(){var e=mt(arguments);return e.length<2&&(e[1]=this.length),bt.apply(this,e)}}var wt=/([\/\\\(\)\[\]\?\{\}\|\*\+\-\.\^\$])/g,Et=/\{([a-z\d_]+)(?::([\.0])(\d+)|:(\?))?\}/gi;h(String,{toLowerCase:function(e){return String(e).toLowerCase()},toUpperCase:function(e){return String(e).toUpperCase()},trim:function(e){return String(e).trim()},trimLeft:function(e){return String(e).trimLeft()},trimRight:function(e){return String(e).trimRight()}}),h(String.prototype,{trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")},trim:function(){return this.trimLeft().trimRight()}});var St={toObject:function(e,t){try{return(new Function("return 0,"+e))()}catch(n){if(t)throw 2}},repeat:function(e,t){return(new Array(parseInt(t,10)+1||0)).join(e)},qw:function(e){var t=e.trim();return t?t.split(/\s+/):[]},forRegExp:function(e){return e.replace(wt,"\\$1")},format:function(e,t){var n=mt(arguments,1);return typeof t=="object"&&c(n,t),e.replace(Et,function(e,t,r,i,s){var o=t in n?n[t]:s?"":e;return r&&!isNaN(o)?(o=Number(o),r=="."?o.toFixed(i):Nt.lead(o,i)):o})},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},camelize:function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})},dasherize:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},isEmpty:function(e){return e==null||String(e)==""},isNotEmpty:function(e){return e!=null&&String(e)!=""}};if("|||".split(/\|/).length+"|||".split(/(\|)/).length!=11){var xt=String.prototype.split;String.prototype.split=function(e,t){if(!e||e instanceof RegExp==0||e.source=="")return xt.apply(this,arguments);var n=[],r=0,i;e.global||(e=new RegExp(e.source,/\/([mi]*)$/.exec(e)[1]+"g"));while(i=e.exec(this))i[0]=this.substring(r,i.index),n.push.apply(n,i),r=e.lastIndex;return n.push(this.substr(r)),n}}if("12".substr(-1)!="2"){var Tt=String.prototype.substr;String.prototype.substr=function(e,t){return Tt.call(this,e<0?Math.max(0,this.length+e):e,t)}}var Nt={fit:function(e,t,n){return!isNaN(t)&&e<t?Number(t):!isNaN(n)&&e>n?Number(n):e},lead:function(e,t,n){return String(e).replace(/\d+/,function(e){return(t-=e.length-1)>1?(new Array(t)).join(n||0)+e:e})},group:function(e,t,n){return String(e).replace(/\d+/,function(e){return e.replace(/\d/g,function(r,i){return!i+(e.length-i)%(t||3)?r:(n||" ")+r})})},format:function(e,t,n,r,i,s){var o=e.toFixed(t);if(n||s)o=o.replace(/(\d+)(\.?)/,function(e,t,r){return(n?Ot.number.group(Number(t),3,n):t)+(r?s||r:"")});return r&&(o=o.replace(/^-?/,"$&"+(r||""))),o+(i||"")}};h(Date,{now:function(){return Number(new Date)}});var Ct=function(){function e(){return a.readyState=="complete"&&!!a.body}function r(e){e.callback.call(e.context)}function s(){if(e()&&!(t++))while(n)r(n),n=n.next}function o(){try{a.documentElement.doScroll("left"),s()}catch(e){setTimeout(o,1)}}var t=!a||e(),n;if(!t)if(a.addEventListener)a.addEventListener("DOMContentLoaded",s,!1),i.addEventListener("load",s,!1);else{a.attachEvent("onreadystatechange",s),i.attachEvent("onload",s);try{!i.frameElement&&a.documentElement.doScroll&&o()}catch(u){}}return function(e,i){t?r({callback:e,context:i}):n={callback:e,context:i,next:n}}}(),kt=function(){function r(e){if(a&&!t[e]){t[e]=a[e]||a.getElementsByTagName(e)[0];if(t[e]){var r=n[e];delete n[e];for(var i=0,s;s=r[i];i++)s[0].call(s[1],t[e])}}return t[e]}function i(){var e=this[0],t=this[1],s=this[2];o(t);var u=r(e);if(u){s===!0&&(s=u.firstChild);if(!s||s.parentNode!==u)s=null;u.insertBefore(t,s)}else n[e].push([i,[e,t,s]])}function s(e,r,i){n[e]?n[e].push([r,i]):r.call(i,t[e])}function o(e){for(var t in n){var r=yt.search(n[t],e,function(e){return e[1]&&e[1][1]});r&&yt.remove(n[t],r)}e&&e.parentNode&&e.parentNode.nodeType==1&&e.parentNode.removeChild(e)}function u(){e&&r("head")&&r("body")&&(e=clearInterval(e))}var e,t={},n={head:[],body:[]};return a&&(!r("head")||!r("body"))&&(e=setInterval(u,5),Ct(u)),{head:{ready:function(e,t){s("head",e,t)},add:function(e,t){i.call(["head",e,t])}},body:{ready:function(e,t){s("body",e,t)},add:function(e,t){i.call(["body",e,t])}},remove:o}}(),Lt=function(){function t(t){n.globalDestroy=!0,n.add=O,n.remove=O;var r;while(r=e.pop())if(typeof r.destroy=="function")try{r.destroy()}catch(i){}else for(var s in r)r[s]=null;e.length=0}var e=[];if("attachEvent"in i)i.attachEvent("onunload",t);else{if(!("addEventListener"in i))return{add:O,remove:O};i.addEventListener("unload",t,!1)}var n={add:function(t){t!=null&&e.push(t)},remove:function(t){yt.remove(e,t)}};return n}(),At=function(){function n(e){t.setAttribute("href",e),kt.head.add(t,!0)}function r(){t.setAttribute("href",location.href),kt.remove(t)}function i(){n(this.baseURI),this.element||(this.element=a.createElement("style"),e||this.element.appendChild(a.createTextNode(""))),kt.head.add(this.element),this.syncCssText(),r()}var e=function(){try{return!a.createElement("style").appendChild(a.createTextNode(""))}catch(e){return!0}}(),t=a&&a.createElement("base");return V(null,{className:"basis.CssResource",inUse:0,url:"",baseURI:"",cssText:undefined,element:null,init:function(e){this.url=e,this.baseURI=R.dirname(e)+"/"},updateCssText:function(e){this.cssText!=e&&(this.cssText=e,this.inUse&&this.element&&(n(this.baseURI),this.syncCssText(),r()))},syncCssText:e?function(){this.element.styleSheet.cssText=this.cssText}:function(){var e=this.cssText;this.element.firstChild.nodeValue=e},startUse:function(){this.inUse||kt.head.ready(i,this),this.inUse+=1},stopUse:function(){this.inUse&&(this.inUse-=1,!this.inUse&&this.element&&kt.remove(this.element))},destroy:function(){this.element&&kt.remove(this.element),this.element=null,this.cssText=null}})}(),Ot=pt("basis").extend({version:u,NODE_ENV:q,config:z,createSandbox:function(e){return r(i,U,h({noConflict:!0},e))},resolveNSFilename:ct,patch:vt,namespace:pt,require:dt,resource:rt,asset:function(e){return e},setImmediate:F,clearImmediate:I,nextTick:function(){F.apply(null,arguments)},Class:V,Token:$,DeferredToken:K,genUID:l,getter:M,ready:Ct,cleaner:Lt,console:j,path:R,doc:kt,object:{extend:c,complete:h,keys:p,values:d,slice:v,splice:m,merge:g,iterate:y},fn:{$undefined:b,$defined:w,$isNull:E,$isNotNull:S,$isSame:x,$isNotSame:T,$self:N,$const:C,$false:k,$true:L,$null:A,$undef:O,getter:M,nullGetter:_,wrapper:D,lazyInit:P,lazyInitAndRun:H,runOnce:B},array:c(mt,yt),string:St,number:Nt,bool:{invert:function(e){return!e}},json:{parse:typeof JSON!="undefined"?JSON.parse:function(e){return St.toObject(e,!0)}}});return pt("basis.dev").extend(j),z.autoload&&z.autoload.forEach(function(e){dt(e)}),Ot})(this)}).call(this)